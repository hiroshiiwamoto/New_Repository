(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Rd={exports:{}},dl={};var q_;function BA(){if(q_)return dl;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:u}}return dl.Fragment=t,dl.jsx=n,dl.jsxs=n,dl}var H_;function qA(){return H_||(H_=1,Rd.exports=BA()),Rd.exports}var T=qA(),Id={exports:{}},wt={};var F_;function HA(){if(F_)return wt;F_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function lt(M,Y,rt){this.props=M,this.context=Y,this.refs=K,this.updater=rt||G}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ft(){}ft.prototype=lt.prototype;function et(M,Y,rt){this.props=M,this.context=Y,this.refs=K,this.updater=rt||G}var dt=et.prototype=new ft;dt.constructor=et,Z(dt,lt.prototype),dt.isPureReactComponent=!0;var it=Array.isArray;function tt(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(M,Y,rt){var ct=rt.ref;return{$$typeof:s,type:M,key:Y,ref:ct!==void 0?ct:null,props:rt}}function k(M,Y){return O(M.type,Y,M.props)}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function D(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(rt){return Y[rt]})}var R=/\/+/g;function mt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):Y.toString(36)}function Ft(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(tt,tt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,Y,rt,ct,At){var Nt=typeof M;(Nt==="undefined"||Nt==="boolean")&&(M=null);var Pt=!1;if(M===null)Pt=!0;else switch(Nt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(M.$$typeof){case s:case t:Pt=!0;break;case E:return Pt=M._init,q(Pt(M._payload),Y,rt,ct,At)}}if(Pt)return At=At(M),Pt=ct===""?"."+mt(M,0):ct,it(At)?(rt="",Pt!=null&&(rt=Pt.replace(R,"$&/")+"/"),q(At,Y,rt,"",function(ia){return ia})):At!=null&&(A(At)&&(At=k(At,rt+(At.key==null||M&&M.key===At.key?"":(""+At.key).replace(R,"$&/")+"/")+Pt)),Y.push(At)),1;Pt=0;var De=ct===""?".":ct+":";if(it(M))for(var re=0;re<M.length;re++)ct=M[re],Nt=De+mt(ct,re),Pt+=q(ct,Y,rt,Nt,At);else if(re=j(M),typeof re=="function")for(M=re.call(M),re=0;!(ct=M.next()).done;)ct=ct.value,Nt=De+mt(ct,re++),Pt+=q(ct,Y,rt,Nt,At);else if(Nt==="object"){if(typeof M.then=="function")return q(Ft(M),Y,rt,ct,At);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function st(M,Y,rt){if(M==null)return M;var ct=[],At=0;return q(M,ct,"","",function(Nt){return Y.call(rt,Nt,At++)}),ct}function pt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(rt){(M._status===0||M._status===-1)&&(M._status=1,M._result=rt)},function(rt){(M._status===0||M._status===-1)&&(M._status=2,M._result=rt)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var nt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Bt={map:st,forEach:function(M,Y,rt){st(M,function(){Y.apply(this,arguments)},rt)},count:function(M){var Y=0;return st(M,function(){Y++}),Y},toArray:function(M){return st(M,function(Y){return Y})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return wt.Activity=b,wt.Children=Bt,wt.Component=lt,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=et,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(M,Y,rt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ct=Z({},M.props),At=M.key;if(Y!=null)for(Nt in Y.key!==void 0&&(At=""+Y.key),Y)!I.call(Y,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&Y.ref===void 0||(ct[Nt]=Y[Nt]);var Nt=arguments.length-2;if(Nt===1)ct.children=rt;else if(1<Nt){for(var Pt=Array(Nt),De=0;De<Nt;De++)Pt[De]=arguments[De+2];ct.children=Pt}return O(M.type,At,ct)},wt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},wt.createElement=function(M,Y,rt){var ct,At={},Nt=null;if(Y!=null)for(ct in Y.key!==void 0&&(Nt=""+Y.key),Y)I.call(Y,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(At[ct]=Y[ct]);var Pt=arguments.length-2;if(Pt===1)At.children=rt;else if(1<Pt){for(var De=Array(Pt),re=0;re<Pt;re++)De[re]=arguments[re+2];At.children=De}if(M&&M.defaultProps)for(ct in Pt=M.defaultProps,Pt)At[ct]===void 0&&(At[ct]=Pt[ct]);return O(M,Nt,At)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:g,render:M}},wt.isValidElement=A,wt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pt}},wt.memo=function(M,Y){return{$$typeof:p,type:M,compare:Y===void 0?null:Y}},wt.startTransition=function(M){var Y=N.T,rt={};N.T=rt;try{var ct=M(),At=N.S;At!==null&&At(rt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(tt,nt)}catch(Nt){nt(Nt)}finally{Y!==null&&rt.types!==null&&(Y.types=rt.types),N.T=Y}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(M){return N.H.use(M)},wt.useActionState=function(M,Y,rt){return N.H.useActionState(M,Y,rt)},wt.useCallback=function(M,Y){return N.H.useCallback(M,Y)},wt.useContext=function(M){return N.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,Y){return N.H.useDeferredValue(M,Y)},wt.useEffect=function(M,Y){return N.H.useEffect(M,Y)},wt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(M,Y,rt){return N.H.useImperativeHandle(M,Y,rt)},wt.useInsertionEffect=function(M,Y){return N.H.useInsertionEffect(M,Y)},wt.useLayoutEffect=function(M,Y){return N.H.useLayoutEffect(M,Y)},wt.useMemo=function(M,Y){return N.H.useMemo(M,Y)},wt.useOptimistic=function(M,Y){return N.H.useOptimistic(M,Y)},wt.useReducer=function(M,Y,rt){return N.H.useReducer(M,Y,rt)},wt.useRef=function(M){return N.H.useRef(M)},wt.useState=function(M){return N.H.useState(M)},wt.useSyncExternalStore=function(M,Y,rt){return N.H.useSyncExternalStore(M,Y,rt)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.0",wt}var G_;function Tm(){return G_||(G_=1,Id.exports=HA()),Id.exports}var Tt=Tm(),Cd={exports:{}},ml={},Nd={exports:{}},Dd={};var Q_;function FA(){return Q_||(Q_=1,(function(s){function t(q,st){var pt=q.length;q.push(st);t:for(;0<pt;){var nt=pt-1>>>1,Bt=q[nt];if(0<l(Bt,st))q[nt]=st,q[pt]=Bt,pt=nt;else break t}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var st=q[0],pt=q.pop();if(pt!==st){q[0]=pt;t:for(var nt=0,Bt=q.length,M=Bt>>>1;nt<M;){var Y=2*(nt+1)-1,rt=q[Y],ct=Y+1,At=q[ct];if(0>l(rt,pt))ct<Bt&&0>l(At,rt)?(q[nt]=At,q[ct]=pt,nt=ct):(q[nt]=rt,q[Y]=pt,nt=Y);else if(ct<Bt&&0>l(At,pt))q[nt]=At,q[ct]=pt,nt=ct;else break t}}return st}function l(q,st){var pt=q.sortIndex-st.sortIndex;return pt!==0?pt:q.id-st.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,b=null,C=3,j=!1,G=!1,Z=!1,K=!1,lt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function dt(q){for(var st=n(p);st!==null;){if(st.callback===null)a(p);else if(st.startTime<=q)a(p),st.sortIndex=st.expirationTime,t(y,st);else break;st=n(p)}}function it(q){if(Z=!1,dt(q),!G)if(n(y)!==null)G=!0,tt||(tt=!0,D());else{var st=n(p);st!==null&&Ft(it,st.startTime-q)}}var tt=!1,N=-1,I=5,O=-1;function k(){return K?!0:!(s.unstable_now()-O<I)}function A(){if(K=!1,tt){var q=s.unstable_now();O=q;var st=!0;try{t:{G=!1,Z&&(Z=!1,ft(N),N=-1),j=!0;var pt=C;try{e:{for(dt(q),b=n(y);b!==null&&!(b.expirationTime>q&&k());){var nt=b.callback;if(typeof nt=="function"){b.callback=null,C=b.priorityLevel;var Bt=nt(b.expirationTime<=q);if(q=s.unstable_now(),typeof Bt=="function"){b.callback=Bt,dt(q),st=!0;break e}b===n(y)&&a(y),dt(q)}else a(y);b=n(y)}if(b!==null)st=!0;else{var M=n(p);M!==null&&Ft(it,M.startTime-q),st=!1}}break t}finally{b=null,C=pt,j=!1}st=void 0}}finally{st?D():tt=!1}}}var D;if(typeof et=="function")D=function(){et(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,mt=R.port2;R.port1.onmessage=A,D=function(){mt.postMessage(null)}}else D=function(){lt(A,0)};function Ft(q,st){N=lt(function(){q(s.unstable_now())},st)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(q){switch(C){case 1:case 2:case 3:var st=3;break;default:st=C}var pt=C;C=st;try{return q()}finally{C=pt}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(q,st){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var pt=C;C=q;try{return st()}finally{C=pt}},s.unstable_scheduleCallback=function(q,st,pt){var nt=s.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?nt+pt:nt):pt=nt,q){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=pt+Bt,q={id:E++,callback:st,priorityLevel:q,startTime:pt,expirationTime:Bt,sortIndex:-1},pt>nt?(q.sortIndex=pt,t(p,q),n(y)===null&&q===n(p)&&(Z?(ft(N),N=-1):Z=!0,Ft(it,pt-nt))):(q.sortIndex=Bt,t(y,q),G||j||(G=!0,tt||(tt=!0,D()))),q},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(q){var st=C;return function(){var pt=C;C=st;try{return q.apply(this,arguments)}finally{C=pt}}}})(Dd)),Dd}var Y_;function GA(){return Y_||(Y_=1,Nd.exports=FA()),Nd.exports}var Od={exports:{}},Ke={};var K_;function QA(){if(K_)return Ke;K_=1;var s=Tm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:p,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(y,p,null,E)},Ke.flushSync=function(y){var p=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=p,a.p=E,a.d.f()}},Ke.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Ke.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ke.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,b=g(E,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:j}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:C,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ke.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Ke.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=g(E,p.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ke.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Ke.requestFormReset=function(y){a.d.r(y)},Ke.unstable_batchedUpdates=function(y,p){return y(p)},Ke.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var X_;function YA(){if(X_)return Od.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=QA(),Od.exports}var $_;function KA(){if($_)return ml;$_=1;var s=GA(),t=Tm(),n=YA();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,r=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(r=i.return),e=i.return;while(e)}return i.tag===3?r:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(a(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var r=e,o=i;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,S=h.child;S;){if(S===r){_=!0,r=h,o=f;break}if(S===o){_=!0,o=h,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,o=h;break}if(S===o){_=!0,o=f,r=h;break}S=S.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),et=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case lt:return"Profiler";case K:return"StrictMode";case it:return"Suspense";case tt:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case et:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:mt(e.type)||"Memo";case I:i=e._payload,e=e._init;try{return mt(e(i))}catch{}}return null}var Ft=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},nt=[],Bt=-1;function M(e){return{current:e}}function Y(e){0>Bt||(e.current=nt[Bt],nt[Bt]=null,Bt--)}function rt(e,i){Bt++,nt[Bt]=e.current,e.current=i}var ct=M(null),At=M(null),Nt=M(null),Pt=M(null);function De(e,i){switch(rt(Nt,i),rt(At,e),rt(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?h_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=h_(i),e=f_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ct),rt(ct,e)}function re(){Y(ct),Y(At),Y(Nt)}function ia(e){e.memoizedState!==null&&rt(Pt,e);var i=ct.current,r=f_(i,e.type);i!==r&&(rt(At,e),rt(ct,r))}function Ya(e){At.current===e&&(Y(ct),Y(At)),Pt.current===e&&(Y(Pt),ul._currentValue=pt)}var Ka,Xa;function ti(e){if(Ka===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Ka=i&&i[1]||"",Xa=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+e+Xa}var lo=!1;function sa(e,i){if(!e||lo)return"";lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var B=F}Reflect.construct(e,[],J)}else{try{J.call()}catch(F){B=F}e.call(J.prototype)}}else{try{throw Error()}catch(F){B=F}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var x=_.split(`
`),z=S.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ti(r):""}function uo(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return sa(e.type,!1);case 11:return sa(e.type.render,!1);case 1:return sa(e.type,!0);case 31:return ti("Activity");default:return""}}function co(e){try{var i="",r=null;do i+=uo(e,r),r=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Ql=s.unstable_requestPaint,We=s.unstable_now,aa=s.unstable_getCurrentPriorityLevel,ho=s.unstable_ImmediatePriority,fo=s.unstable_UserBlockingPriority,rs=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Yl=s.unstable_IdlePriority,Kl=s.log,Xl=s.unstable_setDisableYieldValue,Ln=null,Pe=null;function An(e){if(typeof Kl=="function"&&Xl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var de=Math.clz32?Math.clz32:Jl,$l=Math.log,$a=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-($l(e)/$a|0)|0}var ei=256,ra=262144,ve=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?h=ni(o):(_&=S,_!==0?h=ni(_):r||(r=S&~e,r!==0&&(h=ni(r))))):(S=o&~f,S!==0?h=ni(S):_!==0?h=ni(_):r||(r=o&~e,r!==0&&(h=ni(r)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,r=i&-i,f>=r||f===32&&(r&4194048)!==0)?i:h}function Pn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Nh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function si(e){for(var i=[],r=0;31>r;r++)i.push(e);return i}function oa(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,i,r,o,h,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var S=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(r=_&~r;0<r;){var Q=31-de(r),J=1<<Q;S[Q]=0,x[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}r&=~J}o!==0&&la(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function la(e,i,r){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-de(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function mo(e,i){var r=e.entangledLanes|=i;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&i|e[o]&i&&(e[o]|=i),r&=~h}}function go(e,i){var r=i&-i;return r=(r&42)!==0?1:ua(r),(r&(e.suspendedLanes|i))!==0?0:r}function ua(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wl(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:k_(e.type))}function zn(e,i){var r=st.p;try{return st.p=e,i()}finally{st.p=r}}var Bn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,ai="__reactContainer$"+Bn,Ja="__reactEvents$"+Bn,Oh="__reactListeners$"+Bn,tu="__reactHandles$"+Bn,eu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Za(e){delete e[Te],delete e[Ve],delete e[Ja],delete e[Oh],delete e[tu]}function oi(e){var i=e[Te];if(i)return i;for(var r=e.parentNode;r;){if(i=r[ai]||r[Te]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(e=v_(e);e!==null;){if(r=e[Te])return r;e=v_(e)}return i}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Te]||e[ai]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function li(e){var i=e[eu];return i||(i=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ri]=!0}var po=new Set,yo={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(yo[e]=i,e=0;e<i.length;e++)po.add(i[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},To={};function nu(e){return _e.call(To,e)?!0:_e.call(vo,e)?!1:_o.test(e)?To[e]=!0:(vo[e]=!0,!1)}function Wa(e,i,r){if(nu(i))if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+r)}}function mn(e,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+r)}}function Se(e,i,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(i,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Eo(e,i,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=os(e)?"checked":"value";e._valueTracker=Eo(e,i,""+e[i])}}function ca(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return e&&(o=os(e)?e.checked?"true":"false":e.value),e=o,e!==r?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ha=/[\n"\\]/g;function nn(e){return e.replace(ha,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tr(e,i,r,o,h,f,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?So(e,_,ke(i)):r!=null?So(e,_,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+ke(S):e.removeAttribute("name")}function iu(e,i,r,o,h,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Kt(e);return}r=r!=null?""+ke(r):"",i=i!=null?""+ke(i):r,S||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function So(e,i,r){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ls(e,i,r,o){if(e=e.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=i.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),i=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function su(e,i,r){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),r==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=r!=null?""+ke(r):""}function us(e,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ft(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=ke(i),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Kt(e)}function sn(e,i){if(i){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=i;return}}e.textContent=i}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,r):typeof r!="number"||r===0||au.has(i)?i==="float"?e.cssFloat=r:e[i]=(""+r).trim():e[i]=r+"px"}function bo(e,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&r[h]!==o&&Ao(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Ao(e,f,i[f])}function er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var wo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,fi=null;function fa(e){var i=bn(e);if(i&&(e=i.stateNode)){var r=e[Ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(tr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));tr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===e.form&&ca(o)}break t;case"textarea":su(e,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&ls(e,!!r.multiple,i,!1)}}}var ir=!1;function fs(e,i,r){if(ir)return e(i,r);ir=!0;try{var o=e(i);return o}finally{if(ir=!1,(hs!==null||fi!==null)&&(Wu(),hs&&(i=hs,e=fi,fi=hs=null,fa(i),e)))for(i=0;i<e.length;i++)fa(e[i])}}function Hn(e,i){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Rn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){da=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{da=!1}var di=null,Ro=null,ma=null;function Io(){if(ma)return ma;var e,i=Ro,r=i.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<r&&i[e]===h[e];e++);var _=r-e;for(o=1;o<=_&&i[r-o]===h[f-o];o++);return ma=h.slice(e,1<o?1-o:void 0)}function ga(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Fn(){return!1}function ze(e){function i(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(r=e[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Fn,this.isPropagationStopped=Fn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ze(xi),ds=b({},xi,{view:0,detail:0}),Co=ze(ds),ms,sr,gi,ar=b({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ms=e.screenX-gi.screenX,sr=e.screenY-gi.screenY):sr=ms=0,gi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),No=ze(ar),pa=b({},ar,{dataTransfer:0}),ou=ze(pa),lu=b({},ds,{relatedTarget:0}),ya=ze(lu),Do=b({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=ze(Do),rr=b({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=ze(rr),hu=b({},xi,{data:0}),pi=ze(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=mu[e])?!!i[e]:!1}function gs(){return gu}var tn=b({},ds,{key:function(e){if(e.key){var i=fu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=ze(tn),yu=b({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(yu),c=b({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=ze(c),v=b({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=ze(v),L=b({},ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=ze(L),at=b({},xi,{newState:0,oldState:0}),It=ze(at),me=[9,13,27,32],Gt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var In=Rn&&"TextEvent"in window&&!oe,yi=Rn&&(!Gt||oe&&8<oe&&11>=oe),Gn=" ",Qn=!1;function _a(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function or(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function hS(e,i){switch(e){case"compositionend":return or(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return e=i.data,e===Gn&&Qn?null:e;default:return null}}function fS(e,i){if(lr)return e==="compositionend"||!Gt&&_a(e,i)?(e=Io(),ma=Ro=di=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!dS[e.type]:i==="textarea"}function Ag(e,i,r,o){hs?fi?fi.push(o):fi=[o]:hs=o,i=rc(i,"onChange"),0<i.length&&(r=new mi("onChange","change",null,r,o),e.push({event:r,listeners:i}))}var Oo=null,xo=null;function mS(e){a_(e,0)}function _u(e){var i=dn(e);if(ca(i))return e}function bg(e,i){if(e==="change")return i}var wg=!1;if(Rn){var xh;if(Rn){var Mh="oninput"in document;if(!Mh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Mh=typeof Rg.oninput=="function"}xh=Mh}else xh=!1;wg=xh&&(!document.documentMode||9<document.documentMode)}function Ig(){Oo&&(Oo.detachEvent("onpropertychange",Cg),xo=Oo=null)}function Cg(e){if(e.propertyName==="value"&&_u(xo)){var i=[];Ag(i,xo,e,wn(e)),fs(mS,i)}}function gS(e,i,r){e==="focusin"?(Ig(),Oo=i,xo=r,Oo.attachEvent("onpropertychange",Cg)):e==="focusout"&&Ig()}function pS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(xo)}function yS(e,i){if(e==="click")return _u(i)}function _S(e,i){if(e==="input"||e==="change")return _u(i)}function vS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:vS;function Mo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var r=Object.keys(e),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function Ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,i){var r=Ng(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=i&&o>=i)return{node:r,offset:i-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ng(r)}}function Og(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Og(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)e=i.contentWindow;else break;i=hi(e.document)}return i}function Vh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var TS=Rn&&"documentMode"in document&&11>=document.documentMode,ur=null,kh=null,Vo=null,jh=!1;function Mg(e,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||ur==null||ur!==hi(o)||(o=ur,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=rc(kh,"onSelect"),0<o.length&&(i=new mi("onSelect","select",null,i,r),e.push({event:i,listeners:o}),i.target=ur)))}function va(e,i){var r={};return r[e.toLowerCase()]=i.toLowerCase(),r["Webkit"+e]="webkit"+i,r["Moz"+e]="moz"+i,r}var cr={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Uh={},Vg={};Rn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Ta(e){if(Uh[e])return Uh[e];if(!cr[e])return e;var i=cr[e],r;for(r in i)if(i.hasOwnProperty(r)&&r in Vg)return Uh[e]=i[r];return e}var kg=Ta("animationend"),jg=Ta("animationiteration"),Ug=Ta("animationstart"),ES=Ta("transitionrun"),SS=Ta("transitionstart"),AS=Ta("transitioncancel"),Lg=Ta("transitionend"),Pg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Yn(e,i){Pg.set(e,i),ui(i,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],hr=0,Ph=0;function Tu(){for(var e=hr,i=Ph=hr=0;i<e;){var r=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var f=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&zg(r,h,f)}}function Eu(e,i,r,o){Cn[hr++]=e,Cn[hr++]=i,Cn[hr++]=r,Cn[hr++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,i,r,o){return Eu(e,i,r,o),Su(e)}function Ea(e,i){return Eu(e,null,null,i),Su(e)}function zg(e,i,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=r|536870912),f):null}function Su(e){if(50<nl)throw nl=0,$f=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var fr={};function bS(e,i,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,r,o){return new bS(e,i,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,i){var r=e.alternate;return r===null?(r=pn(e.tag,i,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=i,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,i=e.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bg(e,i){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,i=r.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Au(e,i,r,o,h,f){var _=0;if(o=e,typeof e=="function")Bh(e)&&(_=1);else if(typeof e=="string")_=NA(e,r,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case O:return e=pn(31,r,i,h),e.elementType=O,e.lanes=f,e;case Z:return Sa(r.children,h,f,i);case K:_=8,h|=24;break;case lt:return e=pn(12,r,i,h|2),e.elementType=lt,e.lanes=f,e;case it:return e=pn(13,r,i,h),e.elementType=it,e.lanes=f,e;case tt:return e=pn(19,r,i,h),e.elementType=tt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:_=10;break t;case ft:_=9;break t;case dt:_=11;break t;case N:_=14;break t;case I:_=16,o=null;break t}_=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return i=pn(_,r,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Sa(e,i,r,o){return e=pn(7,e,o,i),e.lanes=r,e}function qh(e,i,r){return e=pn(6,e,null,i),e.lanes=r,e}function qg(e){var i=pn(18,null,null,0);return i.stateNode=e,i}function Hh(e,i,r){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=r,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Hg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var r=Hg.get(e);return r!==void 0?r:(i={value:e,source:i,stack:co(i)},Hg.set(e,i),i)}return{value:e,source:i,stack:co(i)}}var dr=[],mr=0,bu=null,ko=0,Dn=[],On=0,ps=null,_i=1,vi="";function ki(e,i){dr[mr++]=ko,dr[mr++]=bu,bu=e,ko=i}function Fg(e,i,r){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=ps,ps=e;var o=_i;e=vi;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,_i=1<<32-de(i)+h|r<<h|o,vi=f+e}else _i=1<<f|r<<h|o,vi=e}function Fh(e){e.return!==null&&(ki(e,1),Fg(e,1,0))}function Gh(e){for(;e===bu;)bu=dr[--mr],dr[mr]=null,ko=dr[--mr],dr[mr]=null;for(;e===ps;)ps=Dn[--On],Dn[On]=null,vi=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null}function Gg(e,i){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=ps,_i=i.id,vi=i.overflow,ps=e}var Be=null,ie=null,Lt=!1,ys=null,xn=!1,Qh=Error(a(519));function _s(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Nn(i,e)),Qh}function Qg(e){var i=e.stateNode,r=e.type,o=e.memoizedProps;switch(i[Te]=e,i[Ve]=o,r){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(r=0;r<sl.length;r++)xt(sl[r],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),iu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),us(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||u_(i.textContent,r)?(o.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),o.onScroll!=null&&xt("scroll",i),o.onScrollEnd!=null&&xt("scrollend",i),o.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||_s(e,!0)}function Yg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function gr(e){if(e!==Be)return!1;if(!Lt)return Yg(e),Lt=!0,!1;var i=e.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&ie&&_s(e),Yg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=__(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=__(e)}else i===27?(i=ie,xs(e.type)?(e=pd,pd=null,ie=e):ie=i):ie=Be?Vn(e.stateNode.nextSibling):null;return!0}function Aa(){ie=Be=null,Lt=!1}function Yh(){var e=ys;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ys=null),e}function jo(e){ys===null?ys=[e]:ys.push(e)}var Kh=M(null),ba=null,ji=null;function vs(e,i,r){rt(Kh,i._currentValue),i._currentValue=r}function Ui(e){e._currentValue=Kh.current,Y(Kh)}function Xh(e,i,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===r)break;e=e.return}}function $h(e,i,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=h;for(var x=0;x<i.length;x++)if(S.context===i[x]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Xh(f.return,r,e),o||(_=null);break t}f=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Xh(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function pr(e,i,r,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=h.type;gn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&$h(i,e,r,o),i.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wa(e){ba=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Kg(ba,e)}function Ru(e,i){return ba===null&&wa(e),Kg(e,i)}function Kg(e,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ji===null){if(e===null)throw Error(a(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return r}var wS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(r){return r()})}},RS=s.unstable_scheduleCallback,IS=s.unstable_NormalPriority,Ae={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new wS,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&RS(IS,function(){e.controller.abort()})}var Lo=null,Zh=0,yr=0,_r=null;function CS(e,i){if(Lo===null){var r=Lo=[];Zh=0,yr=nd(),_r={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zh++,i.then(Xg,Xg),i}function Xg(){if(--Zh===0&&Lo!==null){_r!==null&&(_r.status="fulfilled");var e=Lo;Lo=null,yr=0,_r=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function NS(e,i){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var $g=q.S;q.S=function(e,i){My=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&CS(e,i),$g!==null&&$g(e,i)};var Ra=M(null);function Wh(){var e=Ra.current;return e!==null?e:ee.pooledCache}function Iu(e,i){i===null?rt(Ra,Ra.current):rt(Ra,i.pool)}function Jg(){var e=Wh();return e===null?null:{parent:Ae._currentValue,pool:e}}var vr=Error(a(460)),tf=Error(a(474)),Cu=Error(a(542)),Nu={then:function(){}};function Zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,i,r){switch(r=e[r],r===void 0?e.push(i):r!==i&&(i.then(qn,qn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ep(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ep(e),e}throw Ca=i,vr}}function Ia(e){try{var i=e._init;return i(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ca=r,vr):r}}var Ca=null;function tp(){if(Ca===null)throw Error(a(459));var e=Ca;return Ca=null,e}function ep(e){if(e===vr||e===Cu)throw Error(a(483))}var Tr=null,Po=0;function Du(e){var i=Po;return Po+=1,Tr===null&&(Tr=[]),Wg(Tr,e,i)}function zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ou(e,i){throw i.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function np(e){function i(U,V){if(e){var P=U.deletions;P===null?(U.deletions=[V],U.flags|=16):P.push(V)}}function r(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Vi(U,V),U.index=0,U.sibling=null,U}function f(U,V,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<V?(U.flags|=67108866,V):P):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,V,P,X){return V===null||V.tag!==6?(V=qh(P,U.mode,X),V.return=U,V):(V=h(V,P),V.return=U,V)}function x(U,V,P,X){var yt=P.type;return yt===Z?Q(U,V,P.props.children,X,P.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===I&&Ia(yt)===V.type)?(V=h(V,P.props),zo(V,P),V.return=U,V):(V=Au(P.type,P.key,P.props,null,U.mode,X),zo(V,P),V.return=U,V)}function z(U,V,P,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=Hh(P,U.mode,X),V.return=U,V):(V=h(V,P.children||[]),V.return=U,V)}function Q(U,V,P,X,yt){return V===null||V.tag!==7?(V=Sa(P,U.mode,X,yt),V.return=U,V):(V=h(V,P),V.return=U,V)}function J(U,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qh(""+V,U.mode,P),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return P=Au(V.type,V.key,V.props,null,U.mode,P),zo(P,V),P.return=U,P;case G:return V=Hh(V,U.mode,P),V.return=U,V;case I:return V=Ia(V),J(U,V,P)}if(Ft(V)||D(V))return V=Sa(V,U.mode,P,null),V.return=U,V;if(typeof V.then=="function")return J(U,Du(V),P);if(V.$$typeof===et)return J(U,Ru(U,V),P);Ou(U,V)}return null}function B(U,V,P,X){var yt=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return yt!==null?null:S(U,V,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===yt?x(U,V,P,X):null;case G:return P.key===yt?z(U,V,P,X):null;case I:return P=Ia(P),B(U,V,P,X)}if(Ft(P)||D(P))return yt!==null?null:Q(U,V,P,X,null);if(typeof P.then=="function")return B(U,V,Du(P),X);if(P.$$typeof===et)return B(U,V,Ru(U,P),X);Ou(U,P)}return null}function F(U,V,P,X,yt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(P)||null,S(V,U,""+X,yt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return U=U.get(X.key===null?P:X.key)||null,x(V,U,X,yt);case G:return U=U.get(X.key===null?P:X.key)||null,z(V,U,X,yt);case I:return X=Ia(X),F(U,V,P,X,yt)}if(Ft(X)||D(X))return U=U.get(P)||null,Q(V,U,X,yt,null);if(typeof X.then=="function")return F(U,V,P,Du(X),yt);if(X.$$typeof===et)return F(U,V,P,Ru(V,X),yt);Ou(V,X)}return null}function ht(U,V,P,X){for(var yt=null,qt=null,gt=V,Dt=V=0,Vt=null;gt!==null&&Dt<P.length;Dt++){gt.index>Dt?(Vt=gt,gt=null):Vt=gt.sibling;var Ht=B(U,gt,P[Dt],X);if(Ht===null){gt===null&&(gt=Vt);break}e&&gt&&Ht.alternate===null&&i(U,gt),V=f(Ht,V,Dt),qt===null?yt=Ht:qt.sibling=Ht,qt=Ht,gt=Vt}if(Dt===P.length)return r(U,gt),Lt&&ki(U,Dt),yt;if(gt===null){for(;Dt<P.length;Dt++)gt=J(U,P[Dt],X),gt!==null&&(V=f(gt,V,Dt),qt===null?yt=gt:qt.sibling=gt,qt=gt);return Lt&&ki(U,Dt),yt}for(gt=o(gt);Dt<P.length;Dt++)Vt=F(gt,U,Dt,P[Dt],X),Vt!==null&&(e&&Vt.alternate!==null&&gt.delete(Vt.key===null?Dt:Vt.key),V=f(Vt,V,Dt),qt===null?yt=Vt:qt.sibling=Vt,qt=Vt);return e&&gt.forEach(function(Us){return i(U,Us)}),Lt&&ki(U,Dt),yt}function vt(U,V,P,X){if(P==null)throw Error(a(151));for(var yt=null,qt=null,gt=V,Dt=V=0,Vt=null,Ht=P.next();gt!==null&&!Ht.done;Dt++,Ht=P.next()){gt.index>Dt?(Vt=gt,gt=null):Vt=gt.sibling;var Us=B(U,gt,Ht.value,X);if(Us===null){gt===null&&(gt=Vt);break}e&&gt&&Us.alternate===null&&i(U,gt),V=f(Us,V,Dt),qt===null?yt=Us:qt.sibling=Us,qt=Us,gt=Vt}if(Ht.done)return r(U,gt),Lt&&ki(U,Dt),yt;if(gt===null){for(;!Ht.done;Dt++,Ht=P.next())Ht=J(U,Ht.value,X),Ht!==null&&(V=f(Ht,V,Dt),qt===null?yt=Ht:qt.sibling=Ht,qt=Ht);return Lt&&ki(U,Dt),yt}for(gt=o(gt);!Ht.done;Dt++,Ht=P.next())Ht=F(gt,U,Dt,Ht.value,X),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?Dt:Ht.key),V=f(Ht,V,Dt),qt===null?yt=Ht:qt.sibling=Ht,qt=Ht);return e&&gt.forEach(function(zA){return i(U,zA)}),Lt&&ki(U,Dt),yt}function te(U,V,P,X){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var yt=P.key;V!==null;){if(V.key===yt){if(yt=P.type,yt===Z){if(V.tag===7){r(U,V.sibling),X=h(V,P.props.children),X.return=U,U=X;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===I&&Ia(yt)===V.type){r(U,V.sibling),X=h(V,P.props),zo(X,P),X.return=U,U=X;break t}r(U,V);break}else i(U,V);V=V.sibling}P.type===Z?(X=Sa(P.props.children,U.mode,X,P.key),X.return=U,U=X):(X=Au(P.type,P.key,P.props,null,U.mode,X),zo(X,P),X.return=U,U=X)}return _(U);case G:t:{for(yt=P.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){r(U,V.sibling),X=h(V,P.children||[]),X.return=U,U=X;break t}else{r(U,V);break}else i(U,V);V=V.sibling}X=Hh(P,U.mode,X),X.return=U,U=X}return _(U);case I:return P=Ia(P),te(U,V,P,X)}if(Ft(P))return ht(U,V,P,X);if(D(P)){if(yt=D(P),typeof yt!="function")throw Error(a(150));return P=yt.call(P),vt(U,V,P,X)}if(typeof P.then=="function")return te(U,V,Du(P),X);if(P.$$typeof===et)return te(U,V,Ru(U,P),X);Ou(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(r(U,V.sibling),X=h(V,P),X.return=U,U=X):(r(U,V),X=qh(P,U.mode,X),X.return=U,U=X),_(U)):r(U,V)}return function(U,V,P,X){try{Po=0;var yt=te(U,V,P,X);return Tr=null,yt}catch(gt){if(gt===vr||gt===Cu)throw gt;var qt=pn(29,gt,null,U.mode);return qt.lanes=X,qt.return=U,qt}finally{}}}var Na=np(!0),ip=np(!1),Ts=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,i,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Su(e),zg(e,null,r),i}return Eu(e,o,i,r),Su(e)}function Bo(e,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,r|=o,i.lanes=r,mo(e,r)}}function sf(e,i){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=i:f=f.next=i}else h=f=i;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=i:e.next=i,r.lastBaseUpdate=i}var af=!1;function qo(){if(af){var e=_r;if(e!==null)throw e}}function Ho(e,i,r,o){af=!1;var h=e.updateQueue;Ts=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,z=x.next;x.next=null,_===null?f=z:_.next=z,_=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=z:S.next=z,Q.lastBaseUpdate=x))}if(f!==null){var J=h.baseState;_=0,Q=z=x=null,S=f;do{var B=S.lane&-536870913,F=B!==S.lane;if(F?(Mt&B)===B:(o&B)===B){B!==0&&B===yr&&(af=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ht=e,vt=S;B=i;var te=r;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){J=ht.call(te,J,B);break t}J=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,B=typeof ht=="function"?ht.call(te,J,B):ht,B==null)break t;J=b({},J,B);break t;case 2:Ts=!0}}B=S.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(z=Q=F,x=J):Q=Q.next=F,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(x=J),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Is|=_,e.lanes=_,e.memoizedState=J}}function sp(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function ap(e,i){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)sp(r[e],i)}var Er=M(null),xu=M(0);function rp(e,i){e=Qi,rt(xu,e),rt(Er,i),Qi=e|i.baseLanes}function rf(){rt(xu,Qi),rt(Er,Er.current)}function of(){Qi=xu.current,Y(Er),Y(xu)}var yn=M(null),Mn=null;function As(e){var i=e.alternate;rt(ge,ge.current&1),rt(yn,e),Mn===null&&(i===null||Er.current!==null||i.memoizedState!==null)&&(Mn=e)}function lf(e){rt(ge,ge.current),rt(yn,e),Mn===null&&(Mn=e)}function op(e){e.tag===22?(rt(ge,ge.current),rt(yn,e),Mn===null&&(Mn=e)):bs()}function bs(){rt(ge,ge.current),rt(yn,yn.current)}function _n(e){Y(yn),Mn===e&&(Mn=null),Y(ge)}var ge=M(0);function Mu(e){for(var i=e;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||gd(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Li=0,Ct=null,Zt=null,be=null,Vu=!1,Sr=!1,Da=!1,ku=0,Fo=0,Ar=null,DS=0;function ce(){throw Error(a(321))}function uf(e,i){if(i===null)return!1;for(var r=0;r<i.length&&r<e.length;r++)if(!gn(e[r],i[r]))return!1;return!0}function cf(e,i,r,o,h,f){return Li=f,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?Fp:wf,Da=!1,f=r(o,h),Da=!1,Sr&&(f=up(i,r,o,h)),lp(e),f}function lp(e){q.H=Yo;var i=Zt!==null&&Zt.next!==null;if(Li=0,be=Zt=Ct=null,Vu=!1,Fo=0,Ar=null,i)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&wu(e)&&(we=!0))}function up(e,i,r,o){Ct=e;var h=0;do{if(Sr&&(Ar=null),Fo=0,Sr=!1,25<=h)throw Error(a(301));if(h+=1,be=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Gp,f=i(r,o)}while(Sr);return f}function OS(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?Go(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function hf(){var e=ku!==0;return ku=0,e}function ff(e,i,r){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~r}function df(e){if(Vu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Vu=!1}Li=0,be=Zt=Ct=null,Sr=!1,Fo=ku=0,Ar=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ct.memoizedState=be=e:be=be.next=e,be}function pe(){if(Zt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=be===null?Ct.memoizedState:be.next;if(i!==null)be=i,Zt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},be===null?Ct.memoizedState=be=e:be=be.next=e}return be}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var i=Fo;return Fo+=1,Ar===null&&(Ar=[]),e=Wg(Ar,e,i),i=Ct,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Fp:wf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===et)return qe(e)}throw Error(a(438,String(e)))}function mf(e){var i=null,r=Ct.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=ju(),Ct.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(e),o=0;o<e;o++)r[o]=k;return i.index++,r}function Pi(e,i){return typeof i=="function"?i(e):i}function Lu(e){var i=pe();return gf(i,Zt,e)}function gf(e,i,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var S=_=null,x=null,z=i,Q=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Mt&J)===J:(Li&J)===J){var B=z.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===yr&&(Q=!0);else if((Li&B)===B){z=z.next,B===yr&&(Q=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(S=x=J,_=f):x=x.next=J,Ct.lanes|=B,Is|=B;J=z.action,Da&&r(f,J),f=z.hasEagerState?z.eagerState:r(f,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(S=x=B,_=f):x=x.next=B,Ct.lanes|=J,Is|=J;z=z.next}while(z!==null&&z!==i);if(x===null?_=f:x.next=S,!gn(f,e.memoizedState)&&(we=!0,Q&&(r=_r,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var i=pe(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=i.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);gn(f,i.memoizedState)||(we=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),r.lastRenderedState=f}return[f,o]}function cp(e,i,r){var o=Ct,h=pe(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=i();var _=!gn((Zt||h).memoizedState,r);if(_&&(h.memoizedState=r,we=!0),h=h.queue,vf(dp.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,br(9,{destroy:void 0},fp.bind(null,o,h,r,i),null),ee===null)throw Error(a(349));f||(Li&127)!==0||hp(o,i,r)}return r}function hp(e,i,r){e.flags|=16384,e={getSnapshot:i,value:r},i=Ct.updateQueue,i===null?(i=ju(),Ct.updateQueue=i,i.stores=[e]):(r=i.stores,r===null?i.stores=[e]:r.push(e))}function fp(e,i,r,o){i.value=r,i.getSnapshot=o,mp(i)&&gp(e)}function dp(e,i,r){return r(function(){mp(i)&&gp(e)})}function mp(e){var i=e.getSnapshot;e=e.value;try{var r=i();return!gn(e,r)}catch{return!0}}function gp(e){var i=Ea(e,2);i!==null&&un(i,e,2)}function yf(e){var i=en();if(typeof e=="function"){var r=e;if(e=r(),Da){An(!0);try{r()}finally{An(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},i}function pp(e,i,r,o){return e.baseState=r,gf(e,Zt,typeof o=="function"?o:Pi)}function xS(e,i,r,o,h){if(Bu(e))throw Error(a(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=i.pending,r===null?(f.next=i.pending=f,yp(i,f)):(f.next=r.next,i.pending=r.next=f)}}function yp(e,i){var r=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=q.T,_={};q.T=_;try{var S=r(h,o),x=q.S;x!==null&&x(_,S),_p(e,i,S)}catch(z){_f(e,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),q.T=f}}else try{f=r(h,o),_p(e,i,f)}catch(z){_f(e,i,z)}}function _p(e,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){vp(e,i,o)},function(o){return _f(e,i,o)}):vp(e,i,r)}function vp(e,i,r){i.status="fulfilled",i.value=r,Tp(i),e.state=r,i=e.pending,i!==null&&(r=i.next,r===i?e.pending=null:(r=r.next,i.next=r,yp(e,r)))}function _f(e,i,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,Tp(i),i=i.next;while(i!==o)}e.action=null}function Tp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ep(e,i){return i}function Sp(e,i){if(Lt){var r=ee.formState;if(r!==null){t:{var o=Ct;if(Lt){if(ie){e:{for(var h=ie,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Vn(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(i=r[0])}}return r=en(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:i},r.queue=o,r=Bp.bind(null,Ct,o),o.dispatch=r,o=yf(!1),f=bf.bind(null,Ct,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,r=xS.bind(null,Ct,h,f,r),h.dispatch=r,o.memoizedState=e,[i,r,!1]}function Ap(e){var i=pe();return bp(i,Zt,e)}function bp(e,i,r){if(i=gf(e,i,Ep)[0],e=Lu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Go(i)}catch(_){throw _===vr?Cu:_}else o=i;i=pe();var h=i.queue,f=h.dispatch;return r!==i.memoizedState&&(Ct.flags|=2048,br(9,{destroy:void 0},MS.bind(null,h,r),null)),[o,f,e]}function MS(e,i){e.action=i}function wp(e){var i=pe(),r=Zt;if(r!==null)return bp(i,r,e);pe(),i=i.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[i,o,!1]}function br(e,i,r,o){return e={tag:e,create:r,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=ju(),Ct.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,i.lastEffect=e),e}function Rp(){return pe().memoizedState}function Pu(e,i,r,o){var h=en();Ct.flags|=e,h.memoizedState=br(1|i,{destroy:void 0},r,o===void 0?null:o)}function zu(e,i,r,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&uf(o,Zt.memoizedState.deps)?h.memoizedState=br(i,f,r,o):(Ct.flags|=e,h.memoizedState=br(1|i,f,r,o))}function Ip(e,i){Pu(8390656,8,e,i)}function vf(e,i){zu(2048,8,e,i)}function VS(e){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=ju(),Ct.updateQueue=i,i.events=[e];else{var r=i.events;r===null?i.events=[e]:r.push(e)}}function Cp(e){var i=pe().memoizedState;return VS({ref:i,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Np(e,i){return zu(4,2,e,i)}function Dp(e,i){return zu(4,4,e,i)}function Op(e,i){if(typeof i=="function"){e=e();var r=i(e);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function xp(e,i,r){r=r!=null?r.concat([e]):null,zu(4,4,Op.bind(null,i,e),r)}function Tf(){}function Mp(e,i){var r=pe();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&uf(i,o[1])?o[0]:(r.memoizedState=[e,i],e)}function Vp(e,i){var r=pe();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&uf(i,o[1]))return o[0];if(o=e(),Da){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,i],o}function Ef(e,i,r){return r===void 0||(Li&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=i:(e.memoizedState=r,e=ky(),Ct.lanes|=e,Is|=e,r)}function kp(e,i,r,o){return gn(r,i)?r:Er.current!==null?(e=Ef(e,r,o),gn(e,i)||(we=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Mt&261930)===0?(we=!0,e.memoizedState=r):(e=ky(),Ct.lanes|=e,Is|=e,i)}function jp(e,i,r,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var _=q.T,S={};q.T=S,bf(e,!1,i,r);try{var x=h(),z=q.S;if(z!==null&&z(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=NS(x,o);Qo(e,i,Q,En(e))}else Qo(e,i,o,En(e))}catch(J){Qo(e,i,{then:function(){},status:"rejected",reason:J},En())}finally{st.p=f,_!==null&&S.types!==null&&(_.types=S.types),q.T=_}}function kS(){}function Sf(e,i,r,o){if(e.tag!==5)throw Error(a(476));var h=Up(e).queue;jp(e,h,i,pt,r===null?kS:function(){return Lp(e),r(o)})}function Up(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:pt},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Lp(e){var i=Up(e);i.next===null&&(i=e.alternate.memoizedState),Qo(e,i.next.queue,{},En())}function Af(){return qe(ul)}function Pp(){return pe().memoizedState}function zp(){return pe().memoizedState}function jS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var r=En();e=Es(r);var o=Ss(i,e,r);o!==null&&(un(o,i,r),Bo(o,i,r)),i={cache:Jh()},e.payload=i;return}i=i.return}}function US(e,i,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?qp(i,r):(r=zh(e,i,r,o),r!==null&&(un(r,e,o),Hp(r,i,o)))}function Bp(e,i,r){var o=En();Qo(e,i,r,o)}function Qo(e,i,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))qp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,S=f(_,r);if(h.hasEagerState=!0,h.eagerState=S,gn(S,_))return Eu(e,i,h,0),ee===null&&Tu(),!1}catch{}finally{}if(r=zh(e,i,h,o),r!==null)return un(r,e,o),Hp(r,i,o),!0}return!1}function bf(e,i,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(i)throw Error(a(479))}else i=zh(e,r,o,2),i!==null&&un(i,e,2)}function Bu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function qp(e,i){Sr=Vu=!0;var r=e.pending;r===null?i.next=i:(i.next=r.next,r.next=i),e.pending=i}function Hp(e,i,r){if((r&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,r|=o,i.lanes=r,mo(e,r)}}var Yo={readContext:qe,use:Uu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Yo.useEffectEvent=ce;var Fp={readContext:qe,use:Uu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Ip,useImperativeHandle:function(e,i,r){r=r!=null?r.concat([e]):null,Pu(4194308,4,Op.bind(null,i,e),r)},useLayoutEffect:function(e,i){return Pu(4194308,4,e,i)},useInsertionEffect:function(e,i){Pu(4,2,e,i)},useMemo:function(e,i){var r=en();i=i===void 0?null:i;var o=e();if(Da){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,i],o},useReducer:function(e,i,r){var o=en();if(r!==void 0){var h=r(i);if(Da){An(!0);try{r(i)}finally{An(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=US.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=yf(e);var i=e.queue,r=Bp.bind(null,Ct,i);return i.dispatch=r,[e.memoizedState,r]},useDebugValue:Tf,useDeferredValue:function(e,i){var r=en();return Ef(r,e,i)},useTransition:function(){var e=yf(!1);return e=jp.bind(null,Ct,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,r){var o=Ct,h=en();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),ee===null)throw Error(a(349));(Mt&127)!==0||hp(o,i,r)}h.memoizedState=r;var f={value:r,getSnapshot:i};return h.queue=f,Ip(dp.bind(null,o,f,e),[e]),o.flags|=2048,br(9,{destroy:void 0},fp.bind(null,o,f,r,i),null),r},useId:function(){var e=en(),i=ee.identifierPrefix;if(Lt){var r=vi,o=_i;r=(o&~(1<<32-de(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=ku++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=DS++,i="_"+i+"r_"+r.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Af,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=bf.bind(null,Ct,!0,r),r.dispatch=i,[e,i]},useMemoCache:mf,useCacheRefresh:function(){return en().memoizedState=jS.bind(null,Ct)},useEffectEvent:function(e){var i=en(),r={impl:e};return i.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:qe,use:Uu,useCallback:Mp,useContext:qe,useEffect:vf,useImperativeHandle:xp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Vp,useReducer:Lu,useRef:Rp,useState:function(){return Lu(Pi)},useDebugValue:Tf,useDeferredValue:function(e,i){var r=pe();return kp(r,Zt.memoizedState,e,i)},useTransition:function(){var e=Lu(Pi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Af,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,i){var r=pe();return pp(r,Zt,e,i)},useMemoCache:mf,useCacheRefresh:zp};wf.useEffectEvent=Cp;var Gp={readContext:qe,use:Uu,useCallback:Mp,useContext:qe,useEffect:vf,useImperativeHandle:xp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Vp,useReducer:pf,useRef:Rp,useState:function(){return pf(Pi)},useDebugValue:Tf,useDeferredValue:function(e,i){var r=pe();return Zt===null?Ef(r,e,i):kp(r,Zt.memoizedState,e,i)},useTransition:function(){var e=pf(Pi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Af,useFormState:wp,useActionState:wp,useOptimistic:function(e,i){var r=pe();return Zt!==null?pp(r,Zt,e,i):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:zp};Gp.useEffectEvent=Cp;function Rf(e,i,r,o){i=e.memoizedState,r=r(o,i),r=r==null?i:b({},i,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,i,r){e=e._reactInternals;var o=En(),h=Es(o);h.payload=i,r!=null&&(h.callback=r),i=Ss(e,h,o),i!==null&&(un(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,r){e=e._reactInternals;var o=En(),h=Es(o);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Ss(e,h,o),i!==null&&(un(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var r=En(),o=Es(r);o.tag=2,i!=null&&(o.callback=i),i=Ss(e,o,r),i!==null&&(un(i,e,r),Bo(i,e,r))}};function Qp(e,i,r,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,f):!0}function Yp(e,i,r,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==e&&If.enqueueReplaceState(i,i.state,null)}function Oa(e,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(e=e.defaultProps){r===i&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Kp(e){vu(e)}function Xp(e){console.error(e)}function $p(e){vu(e)}function qu(e,i){try{var r=e.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Jp(e,i,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,i,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){qu(e,i)},r}function Zp(e){return e=Es(e),e.tag=3,e}function Wp(e,i,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Jp(i,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Jp(i,r,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function LS(e,i,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&pr(i,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?tc():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Nu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===Nu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),tc(),!1}if(Lt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),jo(Nn(e,r)))):(o!==Qh&&(i=Error(a(423),{cause:o}),jo(Nn(i,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,r),h=Cf(e.stateNode,o,h),sf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,r),el===null?el=[f]:el.push(f),he!==4&&(he=2),i===null)return!0;o=Nn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),sf(r,e),!1;case 1:if(i=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zp(h),Wp(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),we=!1;function He(e,i,r,o){i.child=e===null?ip(i,null,r,o):Na(i,e.child,r,o)}function ty(e,i,r,o,h){r=r.render;var f=i.ref;if("ref"in o){var _={};for(var S in o)S!=="ref"&&(_[S]=o[S])}else _=o;return wa(i),o=cf(e,i,r,_,f,h),S=hf(),e!==null&&!we?(ff(e,i,h),zi(e,i,h)):(Lt&&S&&Fh(i),i.flags|=1,He(e,i,o,h),i.child)}function ey(e,i,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=f,ny(e,i,f,o,h)):(e=Au(r.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Uf(e,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(_,o)&&e.ref===i.ref)return zi(e,i,h)}return i.flags|=1,e=Vi(f,o),e.ref=i.ref,e.return=i,i.child=e}function ny(e,i,r,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===i.ref)if(we=!1,i.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,zi(e,i,h)}return Df(e,i,r,o,h)}function iy(e,i,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return sy(e,i,f,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(i,f!==null?f.cachePool:null),f!==null?rp(i,f):rf(),op(i);else return o=i.lanes=536870912,sy(e,i,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Iu(i,f.cachePool),rp(i,f),bs(),i.memoizedState=null):(e!==null&&Iu(i,null),rf(),bs());return He(e,i,h,r),i.child}function Ko(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function sy(e,i,r,o,h){var f=Wh();return f=f===null?null:{parent:Ae._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},e!==null&&Iu(i,null),rf(),op(i),e!==null&&pr(e,i,o,!0),i.childLanes=h,null}function Hu(e,i){return i=Gu({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function ay(e,i,r){return Na(i,e.child,null,r),e=Hu(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function PS(e,i,r){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Hu(i,o),i.lanes=536870912,Ko(null,e);if(lf(i),(e=ie)?(e=y_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ps!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=qg(e),r.return=i,i.child=r,Be=i,ie=null)):e=null,e===null)throw _s(i);return i.lanes=536870912,null}return Hu(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(lf(i),h)if(i.flags&256)i.flags&=-257,i=ay(e,i,r);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(we||pr(e,i,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(_=go(o,r),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ea(e,_),un(o,e,_),Nf;tc(),i=ay(e,i,r)}else e=f.treeContext,ie=Vn(_.nextSibling),Be=i,Lt=!0,ys=null,xn=!1,e!==null&&Gg(i,e),i=Hu(i,o),i.flags|=4096;return i}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Fu(e,i){var r=i.ref;if(r===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(i.flags|=4194816)}}function Df(e,i,r,o,h){return wa(i),r=cf(e,i,r,o,void 0,h),o=hf(),e!==null&&!we?(ff(e,i,h),zi(e,i,h)):(Lt&&o&&Fh(i),i.flags|=1,He(e,i,r,h),i.child)}function ry(e,i,r,o,h,f){return wa(i),i.updateQueue=null,r=up(i,o,r,h),lp(e),o=hf(),e!==null&&!we?(ff(e,i,f),zi(e,i,f)):(Lt&&o&&Fh(i),i.flags|=1,He(e,i,r,f),i.child)}function oy(e,i,r,o,h){if(wa(i),i.stateNode===null){var f=fr,_=r.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new r(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},ef(i),_=r.contextType,f.context=typeof _=="object"&&_!==null?qe(_):fr,f.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Rf(i,r,_,o),f.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&If.enqueueReplaceState(f,f.state,null),Ho(i,o,f,h),qo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var S=i.memoizedProps,x=Oa(r,S);f.props=x;var z=f.context,Q=r.contextType;_=fr,typeof Q=="object"&&Q!==null&&(_=qe(Q));var J=r.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||z!==_)&&Yp(i,f,o,_),Ts=!1;var B=i.memoizedState;f.state=B,Ho(i,o,f,h),qo(),z=i.memoizedState,S||B!==z||Ts?(typeof J=="function"&&(Rf(i,r,J,o),z=i.memoizedState),(x=Ts||Qp(i,r,x,o,B,z,_))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=_,o=x):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,nf(e,i),_=i.memoizedProps,Q=Oa(r,_),f.props=Q,J=i.pendingProps,B=f.context,z=r.contextType,x=fr,typeof z=="object"&&z!==null&&(x=qe(z)),S=r.getDerivedStateFromProps,(z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==J||B!==x)&&Yp(i,f,o,x),Ts=!1,B=i.memoizedState,f.state=B,Ho(i,o,f,h),qo();var F=i.memoizedState;_!==J||B!==F||Ts||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof S=="function"&&(Rf(i,r,S,o),F=i.memoizedState),(Q=Ts||Qp(i,r,Q,o,B,F,x)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,x)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Fu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Na(i,e.child,null,h),i.child=Na(i,null,r,h)):He(e,i,r,h),i.memoizedState=f.state,e=i.child):e=zi(e,i,h),e}function ly(e,i,r,o){return Aa(),i.flags|=256,He(e,i,r,o),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Jg()}}function Mf(e,i,r){return e=e!==null?e.childLanes&~r:0,i&&(e|=Tn),e}function uy(e,i,r){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Lt){if(h?As(i):bs(),(e=ie)?(e=y_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ps!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=qg(e),r.return=i,i.child=r,Be=i,ie=null)):e=null,e===null)throw _s(i);return gd(e)?i.lanes=32:i.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(bs(),h=i.mode,S=Gu({mode:"hidden",children:S},h),o=Sa(o,h,r,null),S.return=i,o.return=i,S.sibling=o,i.child=S,o=i.child,o.memoizedState=xf(r),o.childLanes=Mf(e,_,r),i.memoizedState=Of,Ko(null,o)):(As(i),Vf(i,S))}var x=e.memoizedState;if(x!==null&&(S=x.dehydrated,S!==null)){if(f)i.flags&256?(As(i),i.flags&=-257,i=kf(e,i,r)):i.memoizedState!==null?(bs(),i.child=e.child,i.flags|=128,i=null):(bs(),S=o.fallback,h=i.mode,o=Gu({mode:"visible",children:o.children},h),S=Sa(S,h,r,null),S.flags|=2,o.return=i,S.return=i,o.sibling=S,i.child=o,Na(i,e.child,null,r),o=i.child,o.memoizedState=xf(r),o.childLanes=Mf(e,_,r),i.memoizedState=Of,i=Ko(null,o));else if(As(i),gd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(a(419)),o.stack="",o.digest=_,jo({value:o,source:null,stack:null}),i=kf(e,i,r)}else if(we||pr(e,i,r,!1),_=(r&e.childLanes)!==0,we||_){if(_=ee,_!==null&&(o=go(_,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Ea(e,o),un(_,e,o),Nf;md(S)||tc(),i=kf(e,i,r)}else md(S)?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,ie=Vn(S.nextSibling),Be=i,Lt=!0,ys=null,xn=!1,e!==null&&Gg(i,e),i=Vf(i,o.children),i.flags|=4096);return i}return h?(bs(),S=o.fallback,h=i.mode,x=e.child,z=x.sibling,o=Vi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?S=Vi(z,S):(S=Sa(S,h,r,null),S.flags|=2),S.return=i,o.return=i,o.sibling=S,i.child=o,Ko(null,o),o=i.child,S=e.child.memoizedState,S===null?S=xf(r):(h=S.cachePool,h!==null?(x=Ae._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Jg(),S={baseLanes:S.baseLanes|r,cachePool:h}),o.memoizedState=S,o.childLanes=Mf(e,_,r),i.memoizedState=Of,Ko(e.child,o)):(As(i),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=r,i.memoizedState=null,r)}function Vf(e,i){return i=Gu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Gu(e,i){return e=pn(22,e,null,i),e.lanes=0,e}function kf(e,i,r){return Na(i,e.child,null,r),e=Vf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function cy(e,i,r){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Xh(e.return,i,r)}function jf(e,i,r,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=h,_.treeForkCount=f)}function hy(e,i,r){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=ge.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,rt(ge,_),He(e,i,o,r),o=Lt?ko:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,r,i);else if(e.tag===19)cy(e,r,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)e=r.alternate,e!==null&&Mu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),jf(i,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Mu(e)===null){i.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}jf(i,!0,r,null,f,o);break;case"together":jf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function zi(e,i,r){if(e!==null&&(i.dependencies=e.dependencies),Is|=i.lanes,(r&i.childLanes)===0)if(e!==null){if(pr(e,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,r=Vi(e,e.pendingProps),i.child=r,r.return=i;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=i;r.sibling=null}return i.child}function Uf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function zS(e,i,r){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),vs(i,Ae,e.memoizedState.cache),Aa();break;case 27:case 5:ia(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:vs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,lf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(As(i),i.flags|=128,null):(r&i.child.childLanes)!==0?uy(e,i,r):(As(i),e=zi(e,i,r),e!==null?e.sibling:null);As(i);break;case 19:var h=(e.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(pr(e,i,r,!1),o=(r&i.childLanes)!==0),h){if(o)return hy(e,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(ge,ge.current),o)break;return null;case 22:return i.lanes=0,iy(e,i,r,i.pendingProps);case 24:vs(i,Ae,e.memoizedState.cache)}return zi(e,i,r)}function fy(e,i,r){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!Uf(e,r)&&(i.flags&128)===0)return we=!1,zS(e,i,r);we=(e.flags&131072)!==0}else we=!1,Lt&&(i.flags&1048576)!==0&&Fg(i,ko,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ia(i.elementType),i.type=e,typeof e=="function")Bh(e)?(o=Oa(e,o),i.tag=1,i=oy(null,i,e,o,r)):(i.tag=0,i=Df(null,i,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===dt){i.tag=11,i=ty(null,i,e,o,r);break t}else if(h===N){i.tag=14,i=ey(null,i,e,o,r);break t}}throw i=mt(e)||e,Error(a(306,i,""))}}return i;case 0:return Df(e,i,i.type,i.pendingProps,r);case 1:return o=i.type,h=Oa(o,i.pendingProps),oy(e,i,o,h,r);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(a(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,nf(e,i),Ho(i,o,null,r);var _=i.memoizedState;if(o=_.cache,vs(i,Ae,o),o!==f.cache&&$h(i,[Ae],r,!0),qo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ly(e,i,o,r);break t}else if(o!==h){h=Nn(Error(a(424)),i),jo(h),i=ly(e,i,o,r);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Vn(e.firstChild),Be=i,Lt=!0,ys=null,xn=!0,r=ip(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Aa(),o===h){i=zi(e,i,r);break t}He(e,i,o,r)}i=i.child}return i;case 26:return Fu(e,i),e===null?(r=A_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Lt||(r=i.type,e=i.pendingProps,o=oc(Nt.current).createElement(r),o[Te]=i,o[Ve]=e,Fe(o,r,e),Ee(o),i.stateNode=o):i.memoizedState=A_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ia(i),e===null&&Lt&&(o=i.stateNode=T_(i.type,i.pendingProps,Nt.current),Be=i,xn=!0,h=ie,xs(i.type)?(pd=h,ie=Vn(o.firstChild)):ie=h),He(e,i,i.pendingProps.children,r),Fu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Lt&&((h=o=ie)&&(o=pA(o,i.type,i.pendingProps,xn),o!==null?(i.stateNode=o,Be=i,ie=Vn(o.firstChild),xn=!1,h=!0):h=!1),h||_s(i)),ia(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:_!==null&&hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=cf(e,i,OS,null,null,r),ul._currentValue=h),Fu(e,i),He(e,i,o,r),i.child;case 6:return e===null&&Lt&&((e=r=ie)&&(r=yA(r,i.pendingProps,xn),r!==null?(i.stateNode=r,Be=i,ie=null,e=!0):e=!1),e||_s(i)),null;case 13:return uy(e,i,r);case 4:return De(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Na(i,null,o,r):He(e,i,o,r),i.child;case 11:return ty(e,i,i.type,i.pendingProps,r);case 7:return He(e,i,i.pendingProps,r),i.child;case 8:return He(e,i,i.pendingProps.children,r),i.child;case 12:return He(e,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,vs(i,i.type,o.value),He(e,i,o.children,r),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,wa(i),h=qe(h),o=o(h),i.flags|=1,He(e,i,o,r),i.child;case 14:return ey(e,i,i.type,i.pendingProps,r);case 15:return ny(e,i,i.type,i.pendingProps,r);case 19:return hy(e,i,r);case 31:return PS(e,i,r);case 22:return iy(e,i,r,i.pendingProps);case 24:return wa(i),o=qe(Ae),e===null?(h=Wh(),h===null&&(h=ee,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),i.memoizedState={parent:o,cache:h},ef(i),vs(i,Ae,h)):((e.lanes&r)!==0&&(nf(e,i),Ho(i,null,null,r),qo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vs(i,Ae,o)):(o=f.cache,vs(i,Ae,o),o!==h.cache&&$h(i,[Ae],r,!0))),He(e,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Bi(e){e.flags|=4}function Lf(e,i,r,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Ca=Nu,tf}else e.flags&=-16777217}function dy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C_(i))if(Py())e.flags|=8192;else throw Ca=Nu,tf}function Qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Zl():536870912,e.lanes|=i,Cr|=i)}function Xo(e,i){if(!Lt)switch(e.tailMode){case"hidden":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(i)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,i}function BS(e,i,r){var o=i.pendingProps;switch(Gh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return r=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ui(Ae),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gr(i)?Bi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yh())),se(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Bi(i),f!==null?(se(i),dy(i,f)):(se(i),Lf(i,h,null,o,r))):f?f!==e.memoizedState?(Bi(i),se(i),dy(i,f)):(se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(i),se(i),Lf(i,h,e,o,r)),null;case 27:if(Ya(i),r=Nt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return se(i),null}e=ct.current,gr(i)?Qg(i):(e=T_(h,o,r),i.stateNode=e,Bi(i))}return se(i),null;case 5:if(Ya(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return se(i),null}if(f=ct.current,gr(i))Qg(i);else{var _=oc(Nt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Te]=i,f[Ve]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(i)}}return se(i),Lf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,r),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(e=Nt.current,gr(i)){if(e=i.stateNode,r=i.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||u_(e.nodeValue,r)),e||_s(i,!0)}else e=oc(e).createTextNode(o),e[Te]=i,i.stateNode=e}return se(i),null;case 31:if(r=i.memoizedState,e===null||e.memoizedState!==null){if(o=gr(i),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=i}else Aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),e=!1}else r=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(a(558))}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=gr(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=i}else Aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(i.child.flags|=8192),Qu(i,i.updateQueue),se(i),null);case 4:return re(),e===null&&rd(i.stateNode.containerInfo),se(i),null;case 10:return Ui(i.type),se(i),null;case 19:if(Y(ge),o=i.memoizedState,o===null)return se(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Mu(e),f!==null){for(i.flags|=128,Xo(o,!1),e=f.updateQueue,i.updateQueue=e,Qu(i,e),i.subtreeFlags=0,e=r,r=i.child;r!==null;)Bg(r,e),r=r.sibling;return rt(ge,ge.current&1|2),Lt&&ki(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>Ju&&(i.flags|=128,h=!0,Xo(o,!1),i.lanes=4194304)}else{if(!h)if(e=Mu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Qu(i,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return se(i),null}else 2*We()-o.renderingStartTime>Ju&&r!==536870912&&(i.flags|=128,h=!0,Xo(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=ge.current,rt(ge,h?r&1|2:r&1),Lt&&ki(i,o.treeForkCount),e):(se(i),null);case 22:case 23:return _n(i),of(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),r=i.updateQueue,r!==null&&Qu(i,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),e!==null&&Y(Ra),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ui(Ae),se(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function qS(e,i){switch(Gh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ui(Ae),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ya(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(a(340));Aa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Aa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(ge),null;case 4:return re(),null;case 10:return Ui(i.type),null;case 22:case 23:return _n(i),of(),e!==null&&Y(Ra),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function my(e,i){switch(Gh(i),i.tag){case 3:Ui(Ae),re();break;case 26:case 27:case 5:Ya(i);break;case 4:re();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:Y(ge);break;case 10:Ui(i.type);break;case 22:case 23:_n(i),of(),e!==null&&Y(Ra);break;case 24:Ui(Ae)}}function $o(e,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(S){$t(i,i.return,S)}}function ws(e,i,r){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var x=r,z=S;try{z()}catch(Q){$t(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(i,i.return,Q)}}function gy(e){var i=e.updateQueue;if(i!==null){var r=e.stateNode;try{ap(i,r)}catch(o){$t(e,e.return,o)}}}function py(e,i,r){r.props=Oa(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,i,o)}}function Jo(e,i){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){$t(e,i,h)}}function Ti(e,i){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,i,h)}else r.current=null}function yy(e){var i=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function Pf(e,i,r){try{var o=e.stateNode;cA(o,e.type,r,i),o[Ve]=i}catch(h){$t(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,i,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(e),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=qn));else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode,i=null),e=e.child,e!==null))for(Bf(e,i,r),e=e.sibling;e!==null;)Bf(e,i,r),e=e.sibling}function Yu(e,i,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?r.insertBefore(e,i):r.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Yu(e,i,r),e=e.sibling;e!==null;)Yu(e,i,r),e=e.sibling}function vy(e){var i=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,r),i[Te]=e,i[Ve]=r}catch(f){$t(e,e.return,f)}}var qi=!1,Re=!1,qf=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,je=null;function HS(e,i){if(e=e.containerInfo,ud=mc,e=xg(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,S=-1,x=-1,z=0,Q=0,J=e,B=null;e:for(;;){for(var F;J!==r||h!==0&&J.nodeType!==3||(S=_+h),J!==f||o!==0&&J.nodeType!==3||(x=_+o),J.nodeType===3&&(_+=J.nodeValue.length),(F=J.firstChild)!==null;)B=J,J=F;for(;;){if(J===e)break e;if(B===r&&++z===h&&(S=_),B===f&&++Q===o&&(x=_),(F=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=F}r=S===-1||x===-1?null:{start:S,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},mc=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=i,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ht=Oa(r.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){$t(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function Ey(e,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),o&4&&$o(5,r);break;case 1:if(Fi(e,r),o&4)if(e=r.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(r,r.return,_)}else{var h=Oa(r.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}o&64&&gy(r),o&512&&Jo(r,r.return);break;case 3:if(Fi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{ap(e,i)}catch(_){$t(r,r.return,_)}}break;case 27:i===null&&o&4&&vy(r);case 26:case 5:Fi(e,r),i===null&&o&4&&yy(r),o&512&&Jo(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),o&4&&by(e,r);break;case 13:Fi(e,r),o&4&&wy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=ZS.bind(null,r),_A(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){i=i!==null&&i.memoizedState!==null||Re,h=qi;var f=Re;qi=o,(Re=i)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),qi=h,Re=f}break;case 30:break;default:Fi(e,r)}}function Sy(e){var i=e.alternate;i!==null&&(e.alternate=null,Sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Za(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Hi(e,i,r){for(r=r.child;r!==null;)Ay(e,i,r),r=r.sibling}function Ay(e,i,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Re||Ti(r,i),Hi(e,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||Ti(r,i);var o=le,h=an;xs(r.type)&&(le=r.stateNode,an=!1),Hi(e,i,r),rl(r.stateNode),le=o,an=h;break;case 5:Re||Ti(r,i);case 6:if(o=le,h=an,le=null,Hi(e,i,r),le=o,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(r.stateNode)}catch(f){$t(r,i,f)}else try{le.removeChild(r.stateNode)}catch(f){$t(r,i,f)}break;case 18:le!==null&&(an?(e=le,g_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),jr(e)):g_(le,r.stateNode));break;case 4:o=le,h=an,le=r.stateNode.containerInfo,an=!0,Hi(e,i,r),le=o,an=h;break;case 0:case 11:case 14:case 15:ws(2,r,i),Re||ws(4,r,i),Hi(e,i,r);break;case 1:Re||(Ti(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&py(r,i,o)),Hi(e,i,r);break;case 21:Hi(e,i,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Hi(e,i,r),Re=o;break;default:Hi(e,i,r)}}function by(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jr(e)}catch(r){$t(i,i.return,r)}}}function wy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jr(e)}catch(r){$t(i,i.return,r)}}function FS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ty),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ty),i;default:throw Error(a(435,e.tag))}}function Ku(e,i){var r=FS(e);i.forEach(function(o){if(!r.has(o)){r.add(o);var h=WS.bind(null,e,o);o.then(h,h)}})}function rn(e,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(xs(S.type)){le=S.stateNode,an=!1;break t}break;case 5:le=S.stateNode,an=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,an=!0;break t}S=S.return}if(le===null)throw Error(a(160));Ay(f,_,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ry(i,e),i=i.sibling}var Kn=null;function Ry(e,i){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(i,e),on(e),o&4&&(ws(3,e,e.return),$o(3,e),ws(5,e,e.return));break;case 1:rn(i,e),on(e),o&512&&(Re||r===null||Ti(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(rn(i,e),on(e),o&512&&(Re||r===null||Ti(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[Te]=e,Ee(f),o=f;break t;case"link":var _=R_("link","href",h).get(o+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(_=R_("meta","content",h).get(o+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,Ee(f),o=f}e.stateNode=o}else I_(h,e.type,e.stateNode);else e.stateNode=w_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?I_(h,e.type,e.stateNode):w_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:rn(i,e),on(e),o&512&&(Re||r===null||Ti(r,r.return)),r!==null&&o&4&&Pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(rn(i,e),on(e),o&512&&(Re||r===null||Ti(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ht){$t(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(rn(i,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ht){$t(e,e.return,ht)}}break;case 3:if(cc=null,h=Kn,Kn=lc(i.containerInfo),rn(i,e),Kn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{jr(i.containerInfo)}catch(ht){$t(e,e.return,ht)}qf&&(qf=!1,Iy(e));break;case 4:o=Kn,Kn=lc(e.stateNode.containerInfo),rn(i,e),on(e),Kn=o;break;case 12:rn(i,e),on(e);break;case 31:rn(i,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 13:rn(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($u=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 22:h=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,z=qi,Q=Re;if(qi=z||h,Re=Q||x,rn(i,e),Re=Q,qi=z,on(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||x||qi||Re||xa(e)),r=null,i=e;;){if(i.tag===5||i.tag===26){if(r===null){x=r=i;try{if(f=x.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var J=x.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){$t(x,x.return,ht)}}}else if(i.tag===6){if(r===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ht){$t(x,x.return,ht)}}}else if(i.tag===18){if(r===null){x=i;try{var F=x.stateNode;h?p_(F,!0):p_(x.stateNode,!1)}catch(ht){$t(x,x.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ku(e,r))));break;case 19:rn(i,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 30:break;case 21:break;default:rn(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var r,o=e.return;o!==null;){if(_y(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(e);Yu(e,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(sn(_,""),r.flags&=-33);var S=zf(e);Yu(e,S,_);break;case 3:case 4:var x=r.stateNode.containerInfo,z=zf(e);Bf(e,z,x);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Fi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ey(e,i.alternate,i),i=i.sibling}function xa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),xa(i);break;case 1:Ti(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&py(i,i.return,r),xa(i);break;case 27:rl(i.stateNode);case 26:case 5:Ti(i,i.return),xa(i);break;case 22:i.memoizedState===null&&xa(i);break;case 30:xa(i);break;default:xa(i)}e=e.sibling}}function Gi(e,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),$o(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var S=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)sp(x[h],S)}catch(z){$t(o,o.return,z)}}r&&_&64&&gy(f),Jo(f,f.return);break;case 27:vy(f);case 26:case 5:Gi(h,f,r),r&&o===null&&_&4&&yy(f),Jo(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&_&4&&by(h,f);break;case 13:Gi(h,f,r),r&&_&4&&wy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),Jo(f,f.return);break;case 30:break;default:Gi(h,f,r)}i=i.sibling}}function Hf(e,i){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Uo(r))}function Ff(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e))}function Xn(e,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cy(e,i,r,o),i=i.sibling}function Cy(e,i,r,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,r,o),h&2048&&$o(9,i);break;case 1:Xn(e,i,r,o);break;case 3:Xn(e,i,r,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){Xn(e,i,r,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$t(i,i.return,x)}}else Xn(e,i,r,o);break;case 31:Xn(e,i,r,o);break;case 13:Xn(e,i,r,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Xn(e,i,r,o):Zo(e,i):f._visibility&2?Xn(e,i,r,o):(f._visibility|=2,wr(e,i,r,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(_,i);break;case 24:Xn(e,i,r,o),h&2048&&Ff(i.alternate,i);break;default:Xn(e,i,r,o)}}function wr(e,i,r,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,S=r,x=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:wr(f,_,S,x,h),$o(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?wr(f,_,S,x,h):Zo(f,_):(Q._visibility|=2,wr(f,_,S,x,h)),h&&z&2048&&Hf(_.alternate,_);break;case 24:wr(f,_,S,x,h),h&&z&2048&&Ff(_.alternate,_);break;default:wr(f,_,S,x,h)}i=i.sibling}}function Zo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=e,o=i,h=o.flags;switch(o.tag){case 22:Zo(r,o),h&2048&&Hf(o.alternate,o);break;case 24:Zo(r,o),h&2048&&Ff(o.alternate,o);break;default:Zo(r,o)}i=i.sibling}}var Wo=8192;function Rr(e,i,r){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)Ny(e,i,r),e=e.sibling}function Ny(e,i,r){switch(e.tag){case 26:Rr(e,i,r),e.flags&Wo&&e.memoizedState!==null&&DA(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Rr(e,i,r);break;case 3:case 4:var o=Kn;Kn=lc(e.stateNode.containerInfo),Rr(e,i,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Rr(e,i,r),Wo=o):Rr(e,i,r));break;default:Rr(e,i,r)}}function Dy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];je=o,xy(o,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&ws(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Xu(e)):tl(e);break;default:tl(e)}}function Xu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];je=o,xy(o,e)}Dy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ws(8,i,i.return),Xu(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Xu(i));break;default:Xu(i)}e=e.sibling}}function xy(e,i){for(;je!==null;){var r=je;switch(r.tag){case 0:case 11:case 15:ws(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,je=o;else t:for(r=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(Sy(o),o===r){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var GS={getCacheForType:function(e){var i=qe(Ae),r=i.data.get(e);return r===void 0&&(r=e(),i.data.set(e,r)),r},cacheSignal:function(){return qe(Ae).controller.signal}},QS=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Ot=null,Mt=0,Xt=0,vn=null,Rs=!1,Ir=!1,Gf=!1,Qi=0,he=0,Is=0,Ma=0,Qf=0,Tn=0,Cr=0,el=null,ln=null,Yf=!1,$u=0,My=0,Ju=1/0,Zu=null,Cs=null,xe=0,Ns=null,Nr=null,Yi=0,Kf=0,Xf=null,Vy=null,nl=0,$f=null;function En(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:q.T!==null?nd():Wl()}function ky(){if(Tn===0)if((Mt&536870912)===0||Lt){var e=ra;ra<<=1,(ra&3932160)===0&&(ra=262144),Tn=e}else Tn=536870912;return e=yn.current,e!==null&&(e.flags|=32),Tn}function un(e,i,r){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Dr(e,0),Ds(e,Mt,Tn,!1)),oa(e,r),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(Ma|=r),he===4&&Ds(e,Mt,Tn,!1)),Ei(e))}function jy(e,i,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(i&127)===0&&(i&e.expiredLanes)===0||Pn(e,i),h=o?XS(e,i):Zf(e,i,!0),f=o;do{if(h===0){Ir&&!o&&Ds(e,i,0,!1);break}else{if(r=e.current.alternate,f&&!YS(r)){h=Zf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=el;var x=S.current.memoizedState.isDehydrated;if(x&&(Dr(S,_).flags|=256),_=Zf(S,_,!1),_!==2){if(Gf&&!x){S.errorRecoveryDisabledLanes|=f,Ma|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Dr(e,0),Ds(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ds(o,i,Tn,!Rs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=$u+300-We(),10<h)){if(Ds(o,i,Tn,!Rs),ii(o,0,!0)!==0)break t;Yi=i,o.timeoutHandle=d_(Uy.bind(null,o,r,ln,Zu,Yf,i,Tn,Ma,Cr,Rs,f,"Throttled",-0,0),h);break t}Uy(o,r,ln,Zu,Yf,i,Tn,Ma,Cr,Rs,f,null,-0,0)}}break}while(!0);Ei(e)}function Uy(e,i,r,o,h,f,_,S,x,z,Q,J,B,F){if(e.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ny(i,f,J);var ht=(f&62914560)===f?$u-We():(f&4194048)===f?My-We():0;if(ht=OA(J,ht),ht!==null){Yi=f,e.cancelPendingCommit=ht(Gy.bind(null,e,i,f,r,o,h,_,S,x,Q,J,null,B,F)),Ds(e,f,_,!z);return}}Gy(e,i,f,r,o,h,_,S,x)}function YS(e){for(var i=e;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ds(e,i,r,o){i&=~Qf,i&=~Ma,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-de(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&la(e,r,i)}function Wu(){return(Qt&6)===0?(il(0),!1):!0}function Jf(){if(Ot!==null){if(Xt===0)var e=Ot.return;else e=Ot,ji=ba=null,df(e),Tr=null,Po=0,e=Ot;for(;e!==null;)my(e.alternate,e),e=e.return;Ot=null}}function Dr(e,i){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,dA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Yi=0,Jf(),ee=e,Ot=r=Vi(e.current,null),Mt=i,Xt=0,vn=null,Rs=!1,Ir=Pn(e,i),Gf=!1,Cr=Tn=Qf=Ma=Is=he=0,ln=el=null,Yf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-de(o),f=1<<h;i|=e[h],o&=~f}return Qi=i,Tu(),r}function Ly(e,i){Ct=null,q.H=Yo,i===vr||i===Cu?(i=tp(),Xt=3):i===tf?(i=tp(),Xt=4):Xt=i===Nf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ot===null&&(he=1,qu(e,Nn(i,e.current)))}function Py(){var e=yn.current;return e===null?!0:(Mt&4194048)===Mt?Mn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Mn:!1}function zy(){var e=q.H;return q.H=Yo,e===null?Yo:e}function By(){var e=q.A;return q.A=GS,e}function tc(){he=4,Rs||(Mt&4194048)!==Mt&&yn.current!==null||(Ir=!0),(Is&134217727)===0&&(Ma&134217727)===0||ee===null||Ds(ee,Mt,Tn,!1)}function Zf(e,i,r){var o=Qt;Qt|=2;var h=zy(),f=By();(ee!==e||Mt!==i)&&(Zu=null,Dr(e,i)),i=!1;var _=he;t:do try{if(Xt!==0&&Ot!==null){var S=Ot,x=vn;switch(Xt){case 8:Jf(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Xt;if(Xt=0,vn=null,Or(e,S,x,z),r&&Ir){_=0;break t}break;default:z=Xt,Xt=0,vn=null,Or(e,S,x,z)}}KS(),_=he;break}catch(Q){Ly(e,Q)}while(!0);return i&&e.shellSuspendCounter++,ji=ba=null,Qt=o,q.H=h,q.A=f,Ot===null&&(ee=null,Mt=0,Tu()),_}function KS(){for(;Ot!==null;)qy(Ot)}function XS(e,i){var r=Qt;Qt|=2;var o=zy(),h=By();ee!==e||Mt!==i?(Zu=null,Ju=We()+500,Dr(e,i)):Ir=Pn(e,i);t:do try{if(Xt!==0&&Ot!==null){i=Ot;var f=vn;e:switch(Xt){case 1:Xt=0,vn=null,Or(e,i,f,1);break;case 2:case 9:if(Zg(f)){Xt=0,vn=null,Hy(i);break}i=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Ei(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Zg(f)?(Xt=0,vn=null,Hy(i)):(Xt=0,vn=null,Or(e,i,f,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(_?C_(_):S.stateNode.complete){Xt=0,vn=null;var x=S.sibling;if(x!==null)Ot=x;else{var z=S.return;z!==null?(Ot=z,ec(z)):Ot=null}break e}}Xt=0,vn=null,Or(e,i,f,5);break;case 6:Xt=0,vn=null,Or(e,i,f,6);break;case 8:Jf(),he=6;break t;default:throw Error(a(462))}}$S();break}catch(Q){Ly(e,Q)}while(!0);return ji=ba=null,q.H=o,q.A=h,Qt=r,Ot!==null?0:(ee=null,Mt=0,Tu(),he)}function $S(){for(;Ot!==null&&!Ih();)qy(Ot)}function qy(e){var i=fy(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,i===null?ec(e):Ot=i}function Hy(e){var i=e,r=i.alternate;switch(i.tag){case 15:case 0:i=ry(r,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=ry(r,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:df(i);default:my(r,i),i=Ot=Bg(i,Qi),i=fy(r,i,Qi)}e.memoizedProps=e.pendingProps,i===null?ec(e):Ot=i}function Or(e,i,r,o){ji=ba=null,df(i),Tr=null,Po=0;var h=i.return;try{if(LS(e,h,i,r,Mt)){he=1,qu(e,Nn(r,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;he=1,qu(e,Nn(r,e.current)),Ot=null;return}i.flags&32768?(Lt||o===1?e=!0:Ir||(Mt&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(i,e)):ec(i)}function ec(e){var i=e;do{if((i.flags&32768)!==0){Fy(i,Rs);return}e=i.return;var r=BS(i.alternate,i,Qi);if(r!==null){Ot=r;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);he===0&&(he=5)}function Fy(e,i){do{var r=qS(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);he=6,Ot=null}function Gy(e,i,r,o,h,f,_,S,x){e.cancelPendingCommit=null;do nc();while(xe!==0);if((Qt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=Ph,Dh(e,r,f,_,S,x),e===ee&&(Ot=ee=null,Mt=0),Nr=i,Ns=e,Yi=r,Kf=f,Xf=h,Vy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tA(rs,function(){return $y(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=st.p,st.p=2,_=Qt,Qt|=4;try{HS(e,i,r)}finally{Qt=_,st.p=h,q.T=o}}xe=1,Qy(),Yy(),Ky()}}function Qy(){if(xe===1){xe=0;var e=Ns,i=Nr,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=st.p;st.p=2;var h=Qt;Qt|=4;try{Ry(i,e);var f=cd,_=xg(e.containerInfo),S=f.focusedElem,x=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&Og(S.ownerDocument.documentElement,S)){if(x!==null&&Vh(S)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(Q,S.value.length);else{var J=S.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var F=B.getSelection(),ht=S.textContent.length,vt=Math.min(x.start,ht),te=x.end===void 0?vt:Math.min(x.end,ht);!F.extend&&vt>te&&(_=te,te=vt,vt=_);var U=Dg(S,vt),V=Dg(S,te);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var P=J.createRange();P.setStart(U.node,U.offset),F.removeAllRanges(),vt>te?(F.addRange(P),F.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),F.addRange(P))}}}}for(J=[],F=S;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var X=J[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}mc=!!ud,cd=ud=null}finally{Qt=h,st.p=o,q.T=r}}e.current=i,xe=2}}function Yy(){if(xe===2){xe=0;var e=Ns,i=Nr,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=st.p;st.p=2;var h=Qt;Qt|=4;try{Ey(e,i.alternate,i)}finally{Qt=h,st.p=o,q.T=r}}xe=3}}function Ky(){if(xe===4||xe===3){xe=0,Ql();var e=Ns,i=Nr,r=Yi,o=Vy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Nr=Ns=null,Xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Di(r),i=i.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,h=st.p,st.p=2,q.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var S=o[_];f(S.value,{componentStack:S.stack})}}finally{q.T=i,st.p=h}}(Yi&3)!==0&&nc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?nl++:(nl=0,$f=e):nl=0,il(0)}}function Xy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Uo(i)))}function nc(){return Qy(),Yy(),Ky(),$y()}function $y(){if(xe!==5)return!1;var e=Ns,i=Kf;Kf=0;var r=Di(Yi),o=q.T,h=st.p;try{st.p=32>r?32:r,q.T=null,r=Xf,Xf=null;var f=Ns,_=Yi;if(xe=0,Nr=Ns=null,Yi=0,(Qt&6)!==0)throw Error(a(331));var S=Qt;if(Qt|=4,Oy(f.current),Cy(f,f.current,_,r),Qt=S,il(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{st.p=h,q.T=o,Xy(e,i)}}function Jy(e,i,r){i=Nn(r,i),i=Cf(e.stateNode,i,2),e=Ss(e,i,2),e!==null&&(oa(e,2),Ei(e))}function $t(e,i,r){if(e.tag===3)Jy(e,e,r);else for(;i!==null;){if(i.tag===3){Jy(i,e,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=Nn(r,e),r=Zp(2),o=Ss(i,r,2),o!==null&&(Wp(r,o,i,e),oa(o,2),Ei(o));break}}i=i.return}}function Wf(e,i,r){var o=e.pingCache;if(o===null){o=e.pingCache=new QS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(r)||(Gf=!0,h.add(r),e=JS.bind(null,e,i,r),i.then(e,e))}function JS(e,i,r){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ee===e&&(Mt&r)===r&&(he===4||he===3&&(Mt&62914560)===Mt&&300>We()-$u?(Qt&2)===0&&Dr(e,0):Qf|=r,Cr===Mt&&(Cr=0)),Ei(e)}function Zy(e,i){i===0&&(i=Zl()),e=Ea(e,i),e!==null&&(oa(e,i),Ei(e))}function ZS(e){var i=e.memoizedState,r=0;i!==null&&(r=i.retryLane),Zy(e,r)}function WS(e,i){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),Zy(e,r)}function tA(e,i){return Oe(e,i)}var ic=null,xr=null,td=!1,sc=!1,ed=!1,Os=0;function Ei(e){e!==xr&&e.next===null&&(xr===null?ic=xr=e:xr=xr.next=e),sc=!0,td||(td=!0,nA())}function il(e,i){if(!ed&&sc){ed=!0;do for(var r=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,n_(o,f))}else f=Mt,f=ii(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,n_(o,f));o=o.next}while(r);ed=!1}}function eA(){Wy()}function Wy(){sc=td=!1;var e=0;Os!==0&&fA()&&(e=Os);for(var i=We(),r=null,o=ic;o!==null;){var h=o.next,f=t_(o,i);f===0?(o.next=null,r===null?ic=h:r.next=h,h===null&&(xr=r)):(r=o,(e!==0||(f&3)!==0)&&(sc=!0)),o=h}xe!==0&&xe!==5||il(e),Os!==0&&(Os=0)}function t_(e,i){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-de(f),S=1<<_,x=h[_];x===-1?((S&r)===0||(S&o)!==0)&&(h[_]=Nh(S,i)):x<=i&&(e.expiredLanes|=S),f&=~S}if(i=ee,r=Mt,r=ii(e,e===i?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(i=r&-r,i===e.callbackPriority)return i;switch(o!==null&&as(o),Di(r)){case 2:case 8:r=fo;break;case 32:r=rs;break;case 268435456:r=Yl;break;default:r=rs}return o=e_.bind(null,e),r=Oe(r,o),e.callbackPriority=i,e.callbackNode=r,i}return o!==null&&o!==null&&as(o),e.callbackPriority=2,e.callbackNode=null,2}function e_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(nc()&&e.callbackNode!==r)return null;var o=Mt;return o=ii(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jy(e,o,i),t_(e,We()),e.callbackNode!=null&&e.callbackNode===r?e_.bind(null,e):null)}function n_(e,i){if(nc())return null;jy(e,i,!0)}function nA(){mA(function(){(Qt&6)!==0?Oe(ho,eA):Wy()})}function nd(){if(Os===0){var e=yr;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Os=e}return Os}function i_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:nr(""+e)}function s_(e,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,e.id&&r.setAttribute("form",e.id),i.parentNode.insertBefore(r,i),e=new FormData(e),r.parentNode.removeChild(r),e}function iA(e,i,r,o,h){if(i==="submit"&&r&&r.stateNode===h){var f=i_((h[Ve]||null).action),_=o.submitter;_&&(i=(i=_[Ve]||null)?i_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var S=new mi("action","action",null,o,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var x=_?s_(h,_):new FormData(h);Sf(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(S.preventDefault(),x=_?s_(h,_):new FormData(h),Sf(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var id=0;id<Lh.length;id++){var sd=Lh[id],sA=sd.toLowerCase(),aA=sd[0].toUpperCase()+sd.slice(1);Yn(sA,"on"+aA)}Yn(kg,"onAnimationEnd"),Yn(jg,"onAnimationIteration"),Yn(Ug,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(ES,"onTransitionRun"),Yn(SS,"onTransitionStart"),Yn(AS,"onTransitionCancel"),Yn(Lg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function a_(e,i){i=(i&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var S=o[_],x=S.instance,z=S.currentTarget;if(S=S.listener,x!==f&&h.isPropagationStopped())break t;f=S,h.currentTarget=z;try{f(h)}catch(Q){vu(Q)}h.currentTarget=null,f=x}else for(_=0;_<o.length;_++){if(S=o[_],x=S.instance,z=S.currentTarget,S=S.listener,x!==f&&h.isPropagationStopped())break t;f=S,h.currentTarget=z;try{f(h)}catch(Q){vu(Q)}h.currentTarget=null,f=x}}}}function xt(e,i){var r=i[Ja];r===void 0&&(r=i[Ja]=new Set);var o=e+"__bubble";r.has(o)||(r_(i,e,2,!1),r.add(o))}function ad(e,i,r){var o=0;i&&(o|=4),r_(r,e,o,i)}var ac="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[ac]){e[ac]=!0,po.forEach(function(r){r!=="selectionchange"&&(rA.has(r)||ad(r,!1,e),ad(r,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ac]||(i[ac]=!0,ad("selectionchange",!1,i))}}function r_(e,i,r,o){switch(k_(i)){case 2:var h=VA;break;case 8:h=kA;break;default:h=Ed}r=h.bind(null,i,r,e),h=void 0,!da||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,r,{capture:!0,passive:h}):e.addEventListener(i,r,!0):h!==void 0?e.addEventListener(i,r,{passive:h}):e.addEventListener(i,r,!1)}function od(e,i,r,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var S=o.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=o.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=oi(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){o=f=_;continue t}S=S.parentNode}}o=o.return}fs(function(){var z=f,Q=wn(r),J=[];t:{var B=Pg.get(e);if(B!==void 0){var F=mi,ht=e;switch(e){case"keypress":if(ga(r)===0)break t;case"keydown":case"keyup":F=pu;break;case"focusin":ht="focus",F=ya;break;case"focusout":ht="blur",F=ya;break;case"beforeblur":case"afterblur":F=ya;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case kg:case jg:case Ug:F=uu;break;case Lg:F=w;break;case"scroll":case"scrollend":F=Co;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mi;break;case"toggle":case"beforetoggle":F=It}var vt=(i&4)!==0,te=!vt&&(e==="scroll"||e==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var V=z,P;V!==null;){var X=V;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||U===null||(X=Hn(V,U),X!=null&&vt.push(al(V,X,P))),te)break;V=V.return}0<vt.length&&(B=new F(B,ht,null,r,Q),J.push({event:B,listeners:vt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&r!==wo&&(ht=r.relatedTarget||r.fromElement)&&(oi(ht)||ht[ai]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ht=r.relatedTarget||r.toElement,F=z,ht=ht?oi(ht):null,ht!==null&&(te=u(ht),vt=ht.tag,ht!==te||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(F=null,ht=z),F!==ht)){if(vt=No,X="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Mi,X="onPointerLeave",U="onPointerEnter",V="pointer"),te=F==null?B:dn(F),P=ht==null?B:dn(ht),B=new vt(X,V+"leave",F,r,Q),B.target=te,B.relatedTarget=P,X=null,oi(Q)===z&&(vt=new vt(U,V+"enter",ht,r,Q),vt.target=P,vt.relatedTarget=te,X=vt),te=X,F&&ht)e:{for(vt=oA,U=F,V=ht,P=0,X=U;X;X=vt(X))P++;X=0;for(var yt=V;yt;yt=vt(yt))X++;for(;0<P-X;)U=vt(U),P--;for(;0<X-P;)V=vt(V),X--;for(;P--;){if(U===V||V!==null&&U===V.alternate){vt=U;break e}U=vt(U),V=vt(V)}vt=null}else vt=null;F!==null&&o_(J,B,F,vt,!1),ht!==null&&te!==null&&o_(J,te,ht,vt,!0)}}t:{if(B=z?dn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var qt=bg;else if(Sg(B))if(wg)qt=_S;else{qt=pS;var gt=gS}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&er(z.elementType)&&(qt=bg):qt=yS;if(qt&&(qt=qt(e,z))){Ag(J,qt,r,Q);break t}gt&&gt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&So(B,"number",B.value)}switch(gt=z?dn(z):window,e){case"focusin":(Sg(gt)||gt.contentEditable==="true")&&(ur=gt,kh=z,Vo=null);break;case"focusout":Vo=kh=ur=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Mg(J,r,Q);break;case"selectionchange":if(TS)break;case"keydown":case"keyup":Mg(J,r,Q)}var Dt;if(Gt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else lr?_a(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(yi&&r.locale!=="ko"&&(lr||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&lr&&(Dt=Io()):(di=Q,Ro="value"in di?di.value:di.textContent,lr=!0)),gt=rc(z,Vt),0<gt.length&&(Vt=new pi(Vt,e,null,r,Q),J.push({event:Vt,listeners:gt}),Dt?Vt.data=Dt:(Dt=or(r),Dt!==null&&(Vt.data=Dt)))),(Dt=In?hS(e,r):fS(e,r))&&(Vt=rc(z,"onBeforeInput"),0<Vt.length&&(gt=new pi("onBeforeInput","beforeinput",null,r,Q),J.push({event:gt,listeners:Vt}),gt.data=Dt)),iA(J,e,z,r,Q)}a_(J,i)})}function al(e,i,r){return{instance:e,listener:i,currentTarget:r}}function rc(e,i){for(var r=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,r),h!=null&&o.unshift(al(e,h,f)),h=Hn(e,i),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function oA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function o_(e,i,r,o,h){for(var f=i._reactName,_=[];r!==null&&r!==o;){var S=r,x=S.alternate,z=S.stateNode;if(S=S.tag,x!==null&&x===o)break;S!==5&&S!==26&&S!==27||z===null||(x=z,h?(z=Hn(r,f),z!=null&&_.unshift(al(r,z,x))):h||(z=Hn(r,f),z!=null&&_.push(al(r,z,x)))),r=r.return}_.length!==0&&e.push({event:i,listeners:_})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function l_(e){return(typeof e=="string"?e:""+e).replace(lA,`
`).replace(uA,"")}function u_(e,i){return i=l_(i),l_(e)===i}function Wt(e,i,r,o,h,f){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,r,o);break;case"style":bo(e,o,f);break;case"data":if(i!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=nr(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=nr(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=nr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Wa(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ru.get(r)||r,Wa(e,r,o))}}function ld(e,i,r,o,h,f){switch(r){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(i,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Wa(e,r,o)}}}function Fe(e,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Wt(e,i,f,_,r,null)}}h&&Wt(e,i,"srcSet",r.srcSet,r,null),o&&Wt(e,i,"src",r.src,r,null);return;case"input":xt("invalid",e);var S=f=_=h=null,x=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":_=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Wt(e,i,o,Q,r,null)}}iu(e,f,S,x,z,_,h,!1);return;case"select":xt("invalid",e),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(S=r[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":o=S;default:Wt(e,i,h,S,r,null)}i=f,r=_,e.multiple=!!o,i!=null?ls(e,!!o,i,!1):r!=null&&ls(e,!!o,r,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":o=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Wt(e,i,_,S,r,null)}us(e,o,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,x,o,r,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)xt(sl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Wt(e,i,z,o,r,null)}return;default:if(er(i)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&ld(e,i,Q,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&Wt(e,i,S,o,r,null))}function cA(e,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,S=null,x=null,z=null,Q=null;for(F in r){var J=r[F];if(r.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=J;default:o.hasOwnProperty(F)||Wt(e,i,F,null,o,J)}}for(var B in o){var F=o[B];if(J=r[B],o.hasOwnProperty(B)&&(F!=null||J!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":_=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==J&&Wt(e,i,B,F,o,J)}}tr(e,_,S,x,z,Q,f,h);return;case"select":F=_=S=B=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":F=x;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==x&&Wt(e,i,h,f,o,x)}i=S,r=_,o=F,B!=null?ls(e,!!r,B,!1):!!o!=!!r&&(i!=null?ls(e,!!r,i,!0):ls(e,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(S in r)if(h=r[S],r.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Wt(e,i,S,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,i,_,h,o,f)}su(e,B,F);return;case"option":for(var ht in r)if(B=r[ht],r.hasOwnProperty(ht)&&B!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Wt(e,i,ht,null,o,B)}for(x in o)if(B=o[x],F=r[x],o.hasOwnProperty(x)&&B!==F&&(B!=null||F!=null))switch(x){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(e,i,x,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&Wt(e,i,vt,null,o,B);for(z in o)if(B=o[z],F=r[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,i));break;default:Wt(e,i,z,B,o,F)}return;default:if(er(i)){for(var te in r)B=r[te],r.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&ld(e,i,te,void 0,o,B);for(Q in o)B=o[Q],F=r[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||ld(e,i,Q,B,o,F);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Wt(e,i,U,null,o,B);for(J in o)B=o[J],F=r[J],!o.hasOwnProperty(J)||B===F||B==null&&F==null||Wt(e,i,J,B,o,F)}function c_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,_=h.initiatorType,S=h.duration;if(f&&S&&c_(_)){for(_=0,S=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],z=x.startTime;if(z>S)break;var Q=x.transferSize,J=x.initiatorType;Q&&c_(J)&&(x=x.responseEnd,_+=Q*(x<S?1:(S-z)/(x-z)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function h_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function hd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fd=null;function fA(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(gA)}:d_;function gA(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function g_(e,i){var r=i,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),jr(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")rl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,rl(r);for(var f=r.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=_}}else r==="body"&&rl(e.ownerDocument.body);r=h}while(r);jr(i)}function p_(e,i){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),Za(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function pA(e,i,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function yA(e,i,r){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function y_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Vn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _A(e,i){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var pd=null;function __(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(i===0)return Vn(e.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return e;i--}else r!=="/$"&&r!=="/&"||i++}e=e.previousSibling}return null}function T_(e,i,r){switch(i=oc(r),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Za(e)}var kn=new Map,E_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=st.d;st.d={f:vA,r:TA,D:EA,C:SA,L:AA,m:bA,X:RA,S:wA,M:IA};function vA(){var e=Ki.f(),i=Wu();return e||i}function TA(e){var i=bn(e);i!==null&&i.tag===5&&i.type==="form"?Lp(i):Ki.r(e)}var Mr=typeof document>"u"?null:document;function S_(e,i,r){var o=Mr;if(o&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E_.has(h)||(E_.add(h),e={rel:e,crossOrigin:r,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function EA(e){Ki.D(e),S_("dns-prefetch",e,null)}function SA(e,i){Ki.C(e,i),S_("preconnect",e,i)}function AA(e,i,r){Ki.L(e,i,r);var o=Mr;if(o&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(i){case"style":f=Vr(e);break;case"script":f=kr(e)}kn.has(f)||(e=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:e,as:i},r),kn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ol(f))||i==="script"&&o.querySelector(ll(f))||(i=o.createElement("link"),Fe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function bA(e,i){Ki.m(e,i);var r=Mr;if(r&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=kr(e)}if(!kn.has(f)&&(e=b({rel:"modulepreload",href:e},i),kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ll(f)))return}o=r.createElement("link"),Fe(o,"link",e),Ee(o),r.head.appendChild(o)}}}function wA(e,i,r){Ki.S(e,i,r);var o=Mr;if(o&&e){var h=li(o).hoistableStyles,f=Vr(e);i=i||"default";var _=h.get(f);if(!_){var S={loading:0,preload:null};if(_=o.querySelector(ol(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},r),(r=kn.get(f))&&yd(e,r);var x=_=o.createElement("link");Ee(x),Fe(x,"link",e),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(f,_)}}}function RA(e,i){Ki.X(e,i);var r=Mr;if(r&&e){var o=li(r).hoistableScripts,h=kr(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=b({src:e,async:!0},i),(i=kn.get(h))&&_d(e,i),f=r.createElement("script"),Ee(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function IA(e,i){Ki.M(e,i);var r=Mr;if(r&&e){var o=li(r).hoistableScripts,h=kr(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=b({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&_d(e,i),f=r.createElement("script"),Ee(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(e,i,r,o){var h=(h=Nt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Vr(r.href),r=li(h).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Vr(r.href);var f=li(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(ol(e)))&&!f._p&&(_.instance=f,_.state.loading=5),kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(e,r),f||CA(h,e,r,_.state))),i&&o===null)throw Error(a(528,""));return _}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=kr(r),r=li(h).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vr(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function CA(e,i,r,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",r),Ee(i),e.head.appendChild(i))}function kr(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function w_(e,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),uc(o,r.precedence,e),i.instance=o;case"stylesheet":h=Vr(r.href);var f=e.querySelector(ol(h));if(f)return i.state.loading|=4,i.instance=f,Ee(f),f;o=b_(r),(h=kn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var _=f;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Fe(f,"link",o),i.state.loading|=4,uc(f,r.precedence,e),i.instance=f;case"script":return f=kr(r.src),(h=e.querySelector(ll(f)))?(i.instance=h,Ee(h),h):(o=r,(h=kn.get(f))&&(o=b({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,uc(o,r.precedence,e));return i.instance}function uc(e,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var S=o[_];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(e,i.firstChild))}function yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function _d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var cc=null;function R_(e,i,r){if(cc===null){var o=new Map,h=cc=new Map;h.set(r,o)}else h=cc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var S=o.get(_);S?S.push(f):o.set(_,[f])}}return o}function I_(e,i,r){e=e.ownerDocument||e,e.head.insertBefore(r,i==="title"?e.querySelector("head > title"):null)}function NA(e,i,r){if(r===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function DA(e,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Vr(o.href),f=i.querySelector(ol(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=hc.bind(e),i.then(e,e)),r.state.loading|=4,r.instance=f,Ee(f);return}f=i.ownerDocument||i,o=b_(o),(h=kn.get(h))&&yd(o,h),f=f.createElement("link"),Ee(f);var _=f;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=hc.bind(e),i.addEventListener("load",r),i.addEventListener("error",r))}}var vd=0;function OA(e,i){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&vd===0&&(vd=62500*hA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+i);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,i.forEach(xA,e),fc=null,hc.call(e))}function xA(e,i){if(!(i.state.loading&4)){var r=fc.get(e);if(r)var o=r.get(null);else{r=new Map,fc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ul={$$typeof:et,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function MA(e,i,r,o,h,f,_,S,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function N_(e,i,r,o,h,f,_,S,x,z,Q,J){return e=new MA(e,i,r,_,x,z,Q,J,S),i=1,f===!0&&(i|=24),f=pn(3,null,null,i),e.current=f,f.stateNode=e,i=Jh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:i},ef(f),e}function D_(e){return e?(e=fr,e):fr}function O_(e,i,r,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(i),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ss(e,o,i),r!==null&&(un(r,e,i),Bo(r,e,i))}function x_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<i?r:i}}function Td(e,i){x_(e,i),(e=e.alternate)&&x_(e,i)}function M_(e){if(e.tag===13||e.tag===31){var i=Ea(e,67108864);i!==null&&un(i,e,67108864),Td(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var i=En();i=ua(i);var r=Ea(e,i);r!==null&&un(r,e,i),Td(e,i)}}var mc=!0;function VA(e,i,r,o){var h=q.T;q.T=null;var f=st.p;try{st.p=2,Ed(e,i,r,o)}finally{st.p=f,q.T=h}}function kA(e,i,r,o){var h=q.T;q.T=null;var f=st.p;try{st.p=8,Ed(e,i,r,o)}finally{st.p=f,q.T=h}}function Ed(e,i,r,o){if(mc){var h=Sd(o);if(h===null)od(e,i,o,gc,r),j_(e,o);else if(UA(h,e,i,r,o))o.stopPropagation();else if(j_(e,o),i&4&&-1<jA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ni(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-de(_);S.entanglements[1]|=x,_&=~x}Ei(f),(Qt&6)===0&&(Ju=We()+500,il(0))}}break;case 31:case 13:S=Ea(f,2),S!==null&&un(S,f,2),Wu(),Td(f,2)}if(f=Sd(o),f===null&&od(e,i,o,gc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,i,o,null,r)}}function Sd(e){return e=wn(e),Ad(e)}var gc=null;function Ad(e){if(gc=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var r=i.tag;if(r===13){if(e=d(i),e!==null)return e;e=null}else if(r===31){if(e=g(i),e!==null)return e;e=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return gc=e,null}function k_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case ho:return 2;case fo:return 8;case rs:case Ch:return 32;case Yl:return 268435456;default:return 32}default:return 32}}var bd=!1,Ms=null,Vs=null,ks=null,cl=new Map,hl=new Map,js=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,i){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(i.pointerId)}}function fl(e,i,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&M_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function UA(e,i,r,o,h){switch(i){case"focusin":return Ms=fl(Ms,e,i,r,o,h),!0;case"dragenter":return Vs=fl(Vs,e,i,r,o,h),!0;case"mouseover":return ks=fl(ks,e,i,r,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,i,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,i,r,o,h)),!0}return!1}function U_(e){var i=oi(e.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){e.blockedOn=i,zn(e.priority,function(){V_(r)});return}}else if(i===31){if(i=g(r),i!==null){e.blockedOn=i,zn(e.priority,function(){V_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var r=Sd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);wo=o,r.target.dispatchEvent(o),wo=null}else return i=bn(r),i!==null&&M_(i),e.blockedOn=r,!1;i.shift()}return!0}function L_(e,i,r){pc(e)&&r.delete(i)}function LA(){bd=!1,Ms!==null&&pc(Ms)&&(Ms=null),Vs!==null&&pc(Vs)&&(Vs=null),ks!==null&&pc(ks)&&(ks=null),cl.forEach(L_),hl.forEach(L_)}function yc(e,i){e.blockedOn===i&&(e.blockedOn=null,bd||(bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LA)))}var _c=null;function P_(e){_c!==e&&(_c=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var i=0;i<e.length;i+=3){var r=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Ad(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(i,3),i-=3,Sf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function jr(e){function i(x){return yc(x,e)}Ms!==null&&yc(Ms,e),Vs!==null&&yc(Vs,e),ks!==null&&yc(ks,e),cl.forEach(i),hl.forEach(i);for(var r=0;r<js.length;r++){var o=js[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(r=js[0],r.blockedOn===null);)U_(r),r.blockedOn===null&&js.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[Ve]||null;if(typeof f=="function")_||P_(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ve]||null)S=_.formAction;else if(Ad(h)!==null)continue}else S=_.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),P_(r)}}}function z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}vc.prototype.render=wd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=En();O_(r,o,e,i,null,null)},vc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;O_(e.current,2,null,e,null,null),Wu(),i[ai]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Wl();e={blockedOn:null,target:e,priority:i};for(var r=0;r<js.length&&i!==0&&i<js[r].priority;r++);js.splice(r,0,e),r===0&&U_(e)}};var B_=t.version;if(B_!=="19.2.0")throw Error(a(527,B_,"19.2.0"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var PA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Ln=Tc.inject(PA),Pe=Tc}catch{}}return ml.createRoot=function(e,i){if(!l(e))throw Error(a(299));var r=!1,o="",h=Kp,f=Xp,_=$p;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=N_(e,1,!1,null,null,r,o,null,h,f,_,z_),e[ai]=i.current,rd(e),new wd(i)},ml.hydrateRoot=function(e,i,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Kp,_=Xp,S=$p,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),i=N_(e,1,!0,i,r??null,o,h,x,f,_,S,z_),i.context=D_(null),r=i.current,o=En(),o=ua(o),h=Es(o),h.callback=null,Ss(r,h,o),r=o,i.current.lanes=r,oa(i,r),Ei(i),e[ai]=i.current,rd(e),new vc(i)},ml.version="19.2.0",ml}var J_;function XA(){if(J_)return Cd.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=KA(),Cd.exports}var $A=XA();const JA=()=>{};var Z_={};const x0=function(s){const t=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},ZA=function(s){const t=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,E=u>>2,b=(u&3)<<4|g>>4;let C=(g&15)<<2|p>>6,j=p&63;y||(j=64,d||(C=64)),a.push(n[E],n[b],n[C],n[j])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(x0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ZA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||b==null)throw new WA;const C=u<<2|g>>4;if(a.push(C),p!==64){const j=g<<4&240|p>>2;if(a.push(j),b!==64){const G=p<<6&192|b;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tb=function(s){const t=x0(s);return M0.encodeByteArray(t,!0)},Uc=function(s){return tb(s).replace(/\./g,"")},V0=function(s){try{return M0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nb=()=>eb().__FIREBASE_DEFAULTS__,ib=()=>{if(typeof process>"u"||typeof Z_>"u")return;const s=Z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&V0(s[1]);return t&&JSON.parse(t)},ih=()=>{try{return JA()||nb()||ib()||sb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},k0=s=>ih()?.emulatorHosts?.[s],ab=s=>{const t=k0(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},j0=()=>ih()?.config,U0=s=>ih()?.[`_${s}`];class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function Wr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L0(s){return(await fetch(s,{credentials:"include"})).ok}function ob(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Uc(JSON.stringify(n)),Uc(JSON.stringify(d)),""].join(".")}const vl={};function lb(){const s={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?s.emulator.push(t):s.prod.push(t);return s}function ub(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let W_=!1;function P0(s,t){if(typeof window>"u"||typeof document>"u"||!Wr(window.location.host)||vl[s]===t||vl[s]||W_)return;vl[s]=t;function n(C){return`__firebase__banner__${C}`}const a="__firebase__banner",u=lb().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function p(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{W_=!0,d()},C}function E(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=ub(a),j=n("text"),G=document.getElementById(j)||document.createElement("span"),Z=n("learnmore"),K=document.getElementById(Z)||document.createElement("a"),lt=n("preprendIcon"),ft=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const et=C.element;g(et),E(K,Z);const dt=p();y(ft,lt),et.append(ft,G,K,dt),document.body.appendChild(et)}u?(G.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function hb(){const s=ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function db(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pb(){return!hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yb(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((s,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const vb="FirebaseError";class ss extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=vb,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?Tb(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ss(l,g,a)}}function Tb(s,t){return s.replace(Eb,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Eb=/\{\$([^}]+)}/g;function Sb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function za(s,t){if(s===t)return!0;const n=Object.keys(s),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const u=s[l],d=t[l];if(tv(u)&&tv(d)){if(!za(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function tv(s){return s!==null&&typeof s=="object"}function kl(s){const t=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Ab(s,t){const n=new bb(s,t);return n.subscribe.bind(n)}class bb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");wb(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wb(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function xd(){}function Le(s){return s&&s._delegate?s._delegate:s}class Ba{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Va="[DEFAULT]";class Rb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new rb;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cb(t))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Va){return this.instances.has(t)}getOptions(t=Va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ib(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Va){return this.component?this.component.multipleInstances?t:Va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ib(s){return s===Va?void 0:s}function Cb(s){return s.instantiationMode==="EAGER"}class Nb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Rb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const Db={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Ob=kt.INFO,xb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Mb=(s,t,...n)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=xb[t];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=Ob,this._logHandler=Mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Db[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Vb=(s,t)=>t.some(n=>s instanceof n);let ev,nv;function kb(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jb(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,Gd=new WeakMap,B0=new WeakMap,Md=new WeakMap,Sm=new WeakMap;function Ub(s){const t=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Hs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&z0.set(n,s)}).catch(()=>{}),Sm.set(t,s),t}function Lb(s){if(Gd.has(s))return;const t=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Qd={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||B0.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Pb(s){Qd=s(Qd)}function zb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=s.call(Vd(this),t,...n);return B0.set(a,t.sort?t.sort():[t]),Hs(a)}:jb().includes(s)?function(...t){return s.apply(Vd(this),t),Hs(z0.get(this))}:function(...t){return Hs(s.apply(Vd(this),t))}}function Bb(s){return typeof s=="function"?zb(s):(s instanceof IDBTransaction&&Lb(s),Vb(s,kb())?new Proxy(s,Qd):s)}function Hs(s){if(s instanceof IDBRequest)return Ub(s);if(Md.has(s))return Md.get(s);const t=Bb(s);return t!==s&&(Md.set(s,t),Sm.set(t,s)),t}const Vd=s=>Sm.get(s);function qb(s,t,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),g=Hs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const Hb=["get","getKey","getAll","getAllKeys","count"],Fb=["put","add","delete","clear"],kd=new Map;function iv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=Fb.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Hb.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return kd.set(t,u),u}Pb(s=>({...s,get:(t,n,a)=>iv(t,n)||s.get(t,n,a),has:(t,n)=>!!iv(t,n)||s.has(t,n)}));class Gb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qb(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Qb(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",sv="0.14.6";const Wi=new Em("@firebase/app"),Yb="@firebase/app-compat",Kb="@firebase/analytics-compat",Xb="@firebase/analytics",$b="@firebase/app-check-compat",Jb="@firebase/app-check",Zb="@firebase/auth",Wb="@firebase/auth-compat",t1="@firebase/database",e1="@firebase/data-connect",n1="@firebase/database-compat",i1="@firebase/functions",s1="@firebase/functions-compat",a1="@firebase/installations",r1="@firebase/installations-compat",o1="@firebase/messaging",l1="@firebase/messaging-compat",u1="@firebase/performance",c1="@firebase/performance-compat",h1="@firebase/remote-config",f1="@firebase/remote-config-compat",d1="@firebase/storage",m1="@firebase/storage-compat",g1="@firebase/firestore",p1="@firebase/ai",y1="@firebase/firestore-compat",_1="firebase",v1="12.6.0";const Kd="[DEFAULT]",T1={[Yd]:"fire-core",[Yb]:"fire-core-compat",[Xb]:"fire-analytics",[Kb]:"fire-analytics-compat",[Jb]:"fire-app-check",[$b]:"fire-app-check-compat",[Zb]:"fire-auth",[Wb]:"fire-auth-compat",[t1]:"fire-rtdb",[e1]:"fire-data-connect",[n1]:"fire-rtdb-compat",[i1]:"fire-fn",[s1]:"fire-fn-compat",[a1]:"fire-iid",[r1]:"fire-iid-compat",[o1]:"fire-fcm",[l1]:"fire-fcm-compat",[u1]:"fire-perf",[c1]:"fire-perf-compat",[h1]:"fire-rc",[f1]:"fire-rc-compat",[d1]:"fire-gcs",[m1]:"fire-gcs-compat",[g1]:"fire-fst",[y1]:"fire-fst-compat",[p1]:"fire-vertex","fire-js":"fire-js",[_1]:"fire-js-all"};const Lc=new Map,E1=new Map,Xd=new Map;function av(s,t){try{s.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Gr(s){const t=s.name;if(Xd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,s);for(const n of Lc.values())av(n,s);for(const n of E1.values())av(n,s);return!0}function Am(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function $n(s){return s==null?!1:s.settings!==void 0}const S1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Vl("app","Firebase",S1);class A1{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const to=v1;function q0(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(n||(n=j0()),!n)throw Fs.create("no-options");const u=Lc.get(l);if(u){if(za(n,u.options)&&za(a,u.config))return u;throw Fs.create("duplicate-app",{appName:l})}const d=new Nb(l);for(const y of Xd.values())d.addComponent(y);const g=new A1(n,a,d);return Lc.set(l,g),g}function H0(s=Kd){const t=Lc.get(s);if(!t&&s===Kd&&j0())return q0();if(!t)throw Fs.create("no-app",{appName:s});return t}function Gs(s,t,n){let a=T1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Gr(new Ba(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const b1="firebase-heartbeat-database",w1=1,wl="firebase-heartbeat-store";let jd=null;function F0(){return jd||(jd=qb(b1,w1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Fs.create("idb-open",{originalErrorMessage:s.message})})),jd}async function R1(s){try{const n=(await F0()).transaction(wl),a=await n.objectStore(wl).get(G0(s));return await n.done,a}catch(t){if(t instanceof ss)Wi.warn(t.message);else{const n=Fs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(n.message)}}}async function rv(s,t){try{const a=(await F0()).transaction(wl,"readwrite");await a.objectStore(wl).put(t,G0(s)),await a.done}catch(n){if(n instanceof ss)Wi.warn(n.message);else{const a=Fs.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(a.message)}}}function G0(s){return`${s.name}!${s.options.appId}`}const I1=1024,C1=30;class N1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ov();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>C1){const l=x1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ov(),{heartbeatsToSend:n,unsentEntries:a}=D1(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function ov(){return new Date().toISOString().substring(0,10)}function D1(s,t=I1){const n=[];let a=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),lv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),lv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class O1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yb()?_b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function lv(s){return Uc(JSON.stringify({version:2,heartbeats:s})).length}function x1(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,t=a);return t}function M1(s){Gr(new Ba("platform-logger",t=>new Gb(t),"PRIVATE")),Gr(new Ba("heartbeat",t=>new N1(t),"PRIVATE")),Gs(Yd,sv,s),Gs(Yd,sv,"esm2020"),Gs("fire-js","")}M1("");var V1="firebase",k1="12.6.0";Gs(V1,k1,"app");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j1=Q0,Y0=new Vl("auth","Firebase",Q0());const Pc=new Em("@firebase/auth");function U1(s,...t){Pc.logLevel<=kt.WARN&&Pc.warn(`Auth (${to}): ${s}`,...t)}function Ic(s,...t){Pc.logLevel<=kt.ERROR&&Pc.error(`Auth (${to}): ${s}`,...t)}function Ci(s,...t){throw wm(s,...t)}function Zn(s,...t){return wm(s,...t)}function bm(s,t,n){const a={...j1(),[t]:n};return new Vl("auth","Firebase",a).create(t,{appName:s.name})}function Ua(s){return bm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L1(s,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ci(s,"argument-error"),bm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(s,...t){if(typeof s!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return Y0.create(s,...t)}function St(s,t,...n){if(!s)throw wm(t,...n)}function $i(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ic(t),new Error(t)}function ts(s,t){s||$i(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function P1(){return uv()==="http:"||uv()==="https:"}function uv(){return typeof self<"u"&&self.location?.protocol||null}function z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P1()||db()||"connection"in navigator)?navigator.onLine:!0}function B1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ts(n>t,"Short delay should be less than long delay!"),this.isMobile=cb()||mb()}get(){return z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,t){ts(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class K0{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const H1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F1=new jl(3e4,6e4);function Im(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function eo(s,t,n,a,l={}){return X0(s,l,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const g=kl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:y,...u};return fb()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Wr(s.emulatorConfig.host)&&(p.credentials="include"),K0.fetch()(await $0(s,s.config.apiHost,n,g),p)})}async function X0(s,t,n){s._canInitEmulator=!1;const a={...q1,...t};try{const l=new Q1(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ec(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ec(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ec(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bm(s,E,p);Ci(s,E)}}catch(l){if(l instanceof ss)throw l;Ci(s,"network-request-failed",{message:String(l)})}}async function G1(s,t,n,a,l={}){const u=await eo(s,t,n,a,l);return"mfaPendingCredential"in u&&Ci(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function $0(s,t,n,a){const l=`${t}${n}?${a}`,u=s,d=u.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return H1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class Q1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),F1.get())})}}function Ec(s,t,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Zn(s,t,a);return l.customData._tokenResponse=n,l}async function Y1(s,t){return eo(s,"POST","/v1/accounts:delete",t)}async function zc(s,t){return eo(s,"POST","/v1/accounts:lookup",t)}function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function K1(s,t=!1){const n=Le(s),a=await n.getIdToken(t),l=Cm(a);St(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:a,authTime:Tl(Ud(l.auth_time)),issuedAtTime:Tl(Ud(l.iat)),expirationTime:Tl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Cm(s){const[t,n,a]=s.split(".");if(t===void 0||n===void 0||a===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=V0(n);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l?.toString()),null}}function cv(s){const t=Cm(s);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Rl(s,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof ss&&X1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function X1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(s){const t=s.auth,n=await s.getIdToken(),a=await Rl(s,zc(t,{idToken:n}));St(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?J0(l.providerUserInfo):[],d=Z1(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,E)}async function J1(s){const t=Le(s);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Z1(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function J0(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function W1(s,t){const n=await X0(s,{},async()=>{const a=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await $0(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&Wr(s.emulatorConfig.host)&&(y.credentials="include"),K0.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tw(s,t){return eo(s,"POST","/v2/accounts:revokeToken",Im(s,t))}class Br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=cv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await W1(t,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,d=new Br;return a&&(St(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(St(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(St(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Br,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Ls(s,t){St(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new $1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return K1(this,t)}reload(){return J1(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Ua(this.auth));const t=await this.getIdToken();return await Rl(this,Y1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:j,providerData:G,stsTokenManager:Z}=n;St(b&&Z,t,"internal-error");const K=Br.fromJSON(this.name,Z);St(typeof b=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),St(typeof C=="boolean",t,"internal-error"),St(typeof j=="boolean",t,"internal-error"),Ls(u,t.name),Ls(d,t.name),Ls(g,t.name),Ls(y,t.name),Ls(p,t.name),Ls(E,t.name);const lt=new Jn({uid:b,auth:t,email:l,emailVerified:C,displayName:a,isAnonymous:j,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:K,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(lt.providerData=G.map(ft=>({...ft}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Br;l.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Bc(u),u}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];St(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?J0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Br;g.updateFromIdToken(a);const y=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const hv=new Map;function Ji(s){ts(s instanceof Function,"Expected a class definition");let t=hv.get(s);return t?(ts(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,hv.set(s,t),t)}class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Z0.type="NONE";const fv=Z0;function Cc(s,t,n){return`firebase:${s}:${t}:${n}`}class qr{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Cc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Cc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zc(this.auth,{idToken:t}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new qr(Ji(fv),t,a);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||Ji(fv);const d=Cc(a,t.config.apiKey,t.name);let g=null;for(const p of n)try{const E=await p._get(d);if(E){let b;if(typeof E=="string"){const C=await zc(t,{idToken:E}).catch(()=>{});if(!C)break;b=await Jn._fromGetAccountInfoResponse(t,C,E)}else b=Jn._fromJSON(t,E);p!==u&&(g=b),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new qr(u,t,a):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new qr(u,t,a))}}function dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sT(t))return"Blackberry";if(aT(t))return"Webos";if(tT(t))return"Safari";if((t.includes("chrome/")||eT(t))&&!t.includes("edge/"))return"Chrome";if(iT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function W0(s=Ze()){return/firefox\//i.test(s)}function tT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eT(s=Ze()){return/crios\//i.test(s)}function nT(s=Ze()){return/iemobile/i.test(s)}function iT(s=Ze()){return/android/i.test(s)}function sT(s=Ze()){return/blackberry/i.test(s)}function aT(s=Ze()){return/webos/i.test(s)}function Nm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ew(s=Ze()){return Nm(s)&&!!window.navigator?.standalone}function nw(){return gb()&&document.documentMode===10}function rT(s=Ze()){return Nm(s)||iT(s)||aT(s)||sT(s)||/windows phone/i.test(s)||nT(s)}function oT(s,t=[]){let n;switch(s){case"Browser":n=dv(Ze());break;case"Worker":n=`${dv(Ze())}-${s}`;break;default:n=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${a}`}class iw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((d,g)=>{try{const y=t(u);d(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function sw(s,t={}){return eo(s,"GET","/v2/passwordPolicy",Im(s,t))}const aw=6;class rw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class ow{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Ua(this));const n=t?Le(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sw(this),n=new rw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ji(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&U1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sh(s){return Le(s)}class mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ab(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lw(s){Dm=s}function uw(s){return Dm.loadJS(s)}function cw(){return Dm.gapiScript}function hw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function fw(s,t){const n=Am(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(za(u,t??{}))return l;Ci(l,"already-initialized")}return n.initialize({options:t})}function dw(s,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function mw(s,t,n){const a=sh(s);St(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,u=lT(t),{host:d,port:g}=gw(t),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){St(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),St(za(p,a.config.emulator)&&za(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Wr(d)?(L0(`${u}//${d}${y}`),P0("Auth",!0)):pw()}function lT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function gw(s){const t=lT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:gv(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:gv(d)}}}function gv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function pw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class uT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function Hr(s,t){return G1(s,"POST","/v1/accounts:signInWithIdp",Im(s,t))}const yw="http://localhost";class qa extends uT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const d=new qa(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Hr(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Hr(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hr(t,n)}buildRequest(){const t={requestUri:yw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=kl(n)}return t}}class Om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Ul{constructor(){super("facebook.com")}static credential(t){return qa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Xi extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Xi.credential(n,a)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class zs extends Ul{constructor(){super("github.com")}static credential(t){return qa._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Bs extends Ul{constructor(){super("twitter.com")}static credential(t,n){return qa._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Bs.credential(n,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";class Qr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const u=await Jn._fromIdTokenResponse(t,a,l),d=pv(a);return new Qr({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=pv(a);return new Qr({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class qc extends ss{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new qc(t,n,a,l)}}function cT(s,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(s,u,t,a):u})}async function _w(s,t,n=!1){const a=await Rl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Qr._forOperation(s,"link",a)}async function vw(s,t,n=!1){const{auth:a}=s;if($n(a.app))return Promise.reject(Ua(a));const l="reauthenticate";try{const u=await Rl(s,cT(a,l,t,s),n);St(u.idToken,a,"internal-error");const d=Cm(u.idToken);St(d,a,"internal-error");const{sub:g}=d;return St(s.uid===g,a,"user-mismatch"),Qr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ci(a,"user-mismatch"),u}}async function Tw(s,t,n=!1){if($n(s.app))return Promise.reject(Ua(s));const a="signIn",l=await cT(s,a,t),u=await Qr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(u.user),u}function Ew(s,t,n,a){return Le(s).onIdTokenChanged(t,n,a)}function Sw(s,t,n){return Le(s).beforeAuthStateChanged(t,n)}function Aw(s,t,n,a){return Le(s).onAuthStateChanged(t,n,a)}function bw(s){return Le(s).signOut()}const Hc="__sak";class hT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ww=1e3,Rw=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);nw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Rw):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fT.type="LOCAL";const Iw=fT;class dT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dT.type="SESSION";const mT=dT;function Cw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await Cw(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];function xm(s="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return s+n}class Nw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=xm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const C=b;if(C.data.eventId===p)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(C.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function Dw(s){Ai().location.href=s}function gT(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function Ow(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xw(){return navigator?.serviceWorker?.controller||null}function Mw(){return gT()?self:null}const pT="firebaseLocalStorageDb",Vw=1,Fc="firebaseLocalStorage",yT="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(s,t){return s.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function kw(){const s=indexedDB.deleteDatabase(pT);return new Ll(s).toPromise()}function Zd(){const s=indexedDB.open(pT,Vw);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Fc,{keyPath:yT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await kw(),t(await Zd()))})})}async function yv(s,t,n){const a=rh(s,!0).put({[yT]:t,value:n});return new Ll(a).toPromise()}async function jw(s,t){const n=rh(s,!1).get(t),a=await new Ll(n).toPromise();return a===void 0?null:a.value}function _v(s,t){const n=rh(s,!0).delete(t);return new Ll(n).toPromise()}const Uw=800,Lw=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>Lw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(Mw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ow(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await yv(t,Hc,"1"),await _v(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>yv(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>jw(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=rh(l,!1).getAll();return new Ll(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const Pw=_T;new jl(3e4,6e4);function vT(s,t){return t?Ji(t):(St(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mm extends uT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function zw(s){return Tw(s.auth,new Mm(s),s.bypassAuthState)}function Bw(s){const{auth:t,user:n}=s;return St(n,t,"internal-error"),vw(n,new Mm(s),s.bypassAuthState)}async function qw(s){const{auth:t,user:n}=s;return St(n,t,"internal-error"),_w(n,new Mm(s),s.bypassAuthState)}class TT{constructor(t,n,a,l,u=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return Bw;default:Ci(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hw=new jl(2e3,1e4);async function Fw(s,t,n){if($n(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=sh(s);L1(s,t,Om);const l=vT(a,n);return new ka(a,"signInViaPopup",t,l).executeNotNull()}class ka extends TT{constructor(t,n,a,l,u){super(t,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Hw.get())};t()}}ka.currentPopupAction=null;const Gw="pendingRedirect",Nc=new Map;class Qw extends TT{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const a=await Yw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yw(s,t){const n=$w(t),a=Xw(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function Kw(s,t){Nc.set(s._key(),t)}function Xw(s){return Ji(s._redirectPersistence)}function $w(s){return Cc(Gw,s.config.apiKey,s.name)}async function Jw(s,t,n=!1){if($n(s.app))return Promise.reject(Ua(s));const a=sh(s),l=vT(a,t),d=await new Qw(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Zw=600*1e3;class Ww{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ET(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Zn(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(t))}saveEventToCache(t){this.cachedEventUids.add(vv(t)),this.lastProcessedEventTime=Date.now()}}function vv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function ET({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function tR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(s);default:return!1}}async function eR(s,t={}){return eo(s,"GET","/v1/projects",t)}const nR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iR=/^https?/;async function sR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await eR(s);for(const n of t)try{if(aR(n))return}catch{}Ci(s,"unauthorized-domain")}function aR(s){const t=$d(),{protocol:n,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!iR.test(n))return!1;if(nR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const rR=new jl(3e4,6e4);function Tv(){const s=Ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function oR(s){return new Promise((t,n)=>{function a(){Tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tv(),n(Zn(s,"network-request-failed"))},timeout:rR.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=hw("iframefcb");return Ai()[l]=()=>{gapi.load?a():n(Zn(s,"network-request-failed"))},uw(`${cw()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function lR(s){return Dc=Dc||oR(s),Dc}const uR=new jl(5e3,15e3),cR="__/auth/iframe",hR="emulator/auth/iframe",fR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mR(s){const t=s.config;St(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Rm(t,hR):`https://${s.config.authDomain}/${cR}`,a={apiKey:t.apiKey,appName:s.name,v:to},l=dR.get(s.config.apiHost);l&&(a.eid=l);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${kl(a).slice(1)}`}async function gR(s){const t=await lR(s),n=Ai().gapi;return St(n,s,"internal-error"),t.open({where:document.body,url:mR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fR,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),g=Ai().setTimeout(()=>{u(d)},uR.get());function y(){Ai().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{u(d)})}))}const pR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yR=500,_R=600,vR="_blank",TR="http://localhost";class Ev{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ER(s,t,n,a=yR,l=_R){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...pR,width:a.toString(),height:l.toString(),top:u,left:d},p=Ze().toLowerCase();n&&(g=eT(p)?vR:n),W0(p)&&(t=t||TR,y.scrollbars="yes");const E=Object.entries(y).reduce((C,[j,G])=>`${C}${j}=${G},`,"");if(ew(p)&&g!=="_self")return SR(t||"",g),new Ev(null);const b=window.open(t||"",g,E);St(b,s,"popup-blocked");try{b.focus()}catch{}return new Ev(b)}function SR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const AR="__/auth/handler",bR="emulator/auth/handler",wR=encodeURIComponent("fac");async function Sv(s,t,n,a,l,u){St(s.config.authDomain,s,"auth-domain-config-required"),St(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:to,eventId:l};if(t instanceof Om){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Sb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(t instanceof Ul){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),p=y?`#${wR}=${encodeURIComponent(y)}`:"";return`${RR(s)}?${kl(g).slice(1)}${p}`}function RR({config:s}){return s.emulator?Rm(s,bR):`https://${s.authDomain}/${AR}`}const Ld="webStorageSupport";class IR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=Jw,this._overrideRedirectResult=Kw}async _openPopup(t,n,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Sv(t,n,a,$d(),l);return ER(t,u,xm())}async _openRedirect(t,n,a,l){await this._originValidation(t);const u=await Sv(t,n,a,$d(),l);return Dw(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ts(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await gR(t),a=new Ww(t);return n.register("authEvent",l=>(St(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const u=l?.[0]?.[Ld];u!==void 0&&n(!!u),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return rT()||tT()||Nm()}}const CR=IR;var Av="@firebase/auth",bv="1.11.1";class NR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OR(s){Gr(new Ba("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;St(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(s)},p=new ow(a,l,u,y);return dw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Gr(new Ba("auth-internal",t=>{const n=sh(t.getProvider("auth").getImmediate());return(a=>new NR(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(Av,bv,DR(s)),Gs(Av,bv,"esm2020")}const xR=300,MR=U0("authIdTokenMaxAge")||xR;let wv=null;const VR=s=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>MR)return;const l=n?.token;wv!==l&&(wv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kR(s=H0()){const t=Am(s,"auth");if(t.isInitialized())return t.getImmediate();const n=fw(s,{popupRedirectResolver:CR,persistence:[Pw,Iw,mT]}),a=U0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=VR(u.toString());Sw(n,d,()=>d(n.currentUser)),Ew(n,g=>d(g))}}const l=k0("auth");return l&&mw(n,`http://${l}`),n}function jR(){return document.getElementsByTagName("head")?.[0]??document}lw({loadJS(s){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const u=Zn("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",jR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OR("Browser");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,ST;(function(){var s;function t(N,I){function O(){}O.prototype=I.prototype,N.F=I.prototype,N.prototype=new O,N.prototype.constructor=N,N.D=function(k,A,D){for(var R=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)R[mt-2]=arguments[mt];return I.prototype[A].apply(k,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,I,O){O||(O=0);const k=Array(16);if(typeof I=="string")for(var A=0;A<16;++A)k[A]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(A=0;A<16;++A)k[A]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=N.g[0],O=N.g[1],A=N.g[2];let D=N.g[3],R;R=I+(D^O&(A^D))+k[0]+3614090360&4294967295,I=O+(R<<7&4294967295|R>>>25),R=D+(A^I&(O^A))+k[1]+3905402710&4294967295,D=I+(R<<12&4294967295|R>>>20),R=A+(O^D&(I^O))+k[2]+606105819&4294967295,A=D+(R<<17&4294967295|R>>>15),R=O+(I^A&(D^I))+k[3]+3250441966&4294967295,O=A+(R<<22&4294967295|R>>>10),R=I+(D^O&(A^D))+k[4]+4118548399&4294967295,I=O+(R<<7&4294967295|R>>>25),R=D+(A^I&(O^A))+k[5]+1200080426&4294967295,D=I+(R<<12&4294967295|R>>>20),R=A+(O^D&(I^O))+k[6]+2821735955&4294967295,A=D+(R<<17&4294967295|R>>>15),R=O+(I^A&(D^I))+k[7]+4249261313&4294967295,O=A+(R<<22&4294967295|R>>>10),R=I+(D^O&(A^D))+k[8]+1770035416&4294967295,I=O+(R<<7&4294967295|R>>>25),R=D+(A^I&(O^A))+k[9]+2336552879&4294967295,D=I+(R<<12&4294967295|R>>>20),R=A+(O^D&(I^O))+k[10]+4294925233&4294967295,A=D+(R<<17&4294967295|R>>>15),R=O+(I^A&(D^I))+k[11]+2304563134&4294967295,O=A+(R<<22&4294967295|R>>>10),R=I+(D^O&(A^D))+k[12]+1804603682&4294967295,I=O+(R<<7&4294967295|R>>>25),R=D+(A^I&(O^A))+k[13]+4254626195&4294967295,D=I+(R<<12&4294967295|R>>>20),R=A+(O^D&(I^O))+k[14]+2792965006&4294967295,A=D+(R<<17&4294967295|R>>>15),R=O+(I^A&(D^I))+k[15]+1236535329&4294967295,O=A+(R<<22&4294967295|R>>>10),R=I+(A^D&(O^A))+k[1]+4129170786&4294967295,I=O+(R<<5&4294967295|R>>>27),R=D+(O^A&(I^O))+k[6]+3225465664&4294967295,D=I+(R<<9&4294967295|R>>>23),R=A+(I^O&(D^I))+k[11]+643717713&4294967295,A=D+(R<<14&4294967295|R>>>18),R=O+(D^I&(A^D))+k[0]+3921069994&4294967295,O=A+(R<<20&4294967295|R>>>12),R=I+(A^D&(O^A))+k[5]+3593408605&4294967295,I=O+(R<<5&4294967295|R>>>27),R=D+(O^A&(I^O))+k[10]+38016083&4294967295,D=I+(R<<9&4294967295|R>>>23),R=A+(I^O&(D^I))+k[15]+3634488961&4294967295,A=D+(R<<14&4294967295|R>>>18),R=O+(D^I&(A^D))+k[4]+3889429448&4294967295,O=A+(R<<20&4294967295|R>>>12),R=I+(A^D&(O^A))+k[9]+568446438&4294967295,I=O+(R<<5&4294967295|R>>>27),R=D+(O^A&(I^O))+k[14]+3275163606&4294967295,D=I+(R<<9&4294967295|R>>>23),R=A+(I^O&(D^I))+k[3]+4107603335&4294967295,A=D+(R<<14&4294967295|R>>>18),R=O+(D^I&(A^D))+k[8]+1163531501&4294967295,O=A+(R<<20&4294967295|R>>>12),R=I+(A^D&(O^A))+k[13]+2850285829&4294967295,I=O+(R<<5&4294967295|R>>>27),R=D+(O^A&(I^O))+k[2]+4243563512&4294967295,D=I+(R<<9&4294967295|R>>>23),R=A+(I^O&(D^I))+k[7]+1735328473&4294967295,A=D+(R<<14&4294967295|R>>>18),R=O+(D^I&(A^D))+k[12]+2368359562&4294967295,O=A+(R<<20&4294967295|R>>>12),R=I+(O^A^D)+k[5]+4294588738&4294967295,I=O+(R<<4&4294967295|R>>>28),R=D+(I^O^A)+k[8]+2272392833&4294967295,D=I+(R<<11&4294967295|R>>>21),R=A+(D^I^O)+k[11]+1839030562&4294967295,A=D+(R<<16&4294967295|R>>>16),R=O+(A^D^I)+k[14]+4259657740&4294967295,O=A+(R<<23&4294967295|R>>>9),R=I+(O^A^D)+k[1]+2763975236&4294967295,I=O+(R<<4&4294967295|R>>>28),R=D+(I^O^A)+k[4]+1272893353&4294967295,D=I+(R<<11&4294967295|R>>>21),R=A+(D^I^O)+k[7]+4139469664&4294967295,A=D+(R<<16&4294967295|R>>>16),R=O+(A^D^I)+k[10]+3200236656&4294967295,O=A+(R<<23&4294967295|R>>>9),R=I+(O^A^D)+k[13]+681279174&4294967295,I=O+(R<<4&4294967295|R>>>28),R=D+(I^O^A)+k[0]+3936430074&4294967295,D=I+(R<<11&4294967295|R>>>21),R=A+(D^I^O)+k[3]+3572445317&4294967295,A=D+(R<<16&4294967295|R>>>16),R=O+(A^D^I)+k[6]+76029189&4294967295,O=A+(R<<23&4294967295|R>>>9),R=I+(O^A^D)+k[9]+3654602809&4294967295,I=O+(R<<4&4294967295|R>>>28),R=D+(I^O^A)+k[12]+3873151461&4294967295,D=I+(R<<11&4294967295|R>>>21),R=A+(D^I^O)+k[15]+530742520&4294967295,A=D+(R<<16&4294967295|R>>>16),R=O+(A^D^I)+k[2]+3299628645&4294967295,O=A+(R<<23&4294967295|R>>>9),R=I+(A^(O|~D))+k[0]+4096336452&4294967295,I=O+(R<<6&4294967295|R>>>26),R=D+(O^(I|~A))+k[7]+1126891415&4294967295,D=I+(R<<10&4294967295|R>>>22),R=A+(I^(D|~O))+k[14]+2878612391&4294967295,A=D+(R<<15&4294967295|R>>>17),R=O+(D^(A|~I))+k[5]+4237533241&4294967295,O=A+(R<<21&4294967295|R>>>11),R=I+(A^(O|~D))+k[12]+1700485571&4294967295,I=O+(R<<6&4294967295|R>>>26),R=D+(O^(I|~A))+k[3]+2399980690&4294967295,D=I+(R<<10&4294967295|R>>>22),R=A+(I^(D|~O))+k[10]+4293915773&4294967295,A=D+(R<<15&4294967295|R>>>17),R=O+(D^(A|~I))+k[1]+2240044497&4294967295,O=A+(R<<21&4294967295|R>>>11),R=I+(A^(O|~D))+k[8]+1873313359&4294967295,I=O+(R<<6&4294967295|R>>>26),R=D+(O^(I|~A))+k[15]+4264355552&4294967295,D=I+(R<<10&4294967295|R>>>22),R=A+(I^(D|~O))+k[6]+2734768916&4294967295,A=D+(R<<15&4294967295|R>>>17),R=O+(D^(A|~I))+k[13]+1309151649&4294967295,O=A+(R<<21&4294967295|R>>>11),R=I+(A^(O|~D))+k[4]+4149444226&4294967295,I=O+(R<<6&4294967295|R>>>26),R=D+(O^(I|~A))+k[11]+3174756917&4294967295,D=I+(R<<10&4294967295|R>>>22),R=A+(I^(D|~O))+k[2]+718787259&4294967295,A=D+(R<<15&4294967295|R>>>17),R=O+(D^(A|~I))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+A&4294967295,N.g[3]=N.g[3]+D&4294967295}a.prototype.v=function(N,I){I===void 0&&(I=N.length);const O=I-this.blockSize,k=this.C;let A=this.h,D=0;for(;D<I;){if(A==0)for(;D<=O;)l(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<I;)if(k[A++]=N.charCodeAt(D++),A==this.blockSize){l(this,k),A=0;break}}else for(;D<I;)if(k[A++]=N[D++],A==this.blockSize){l(this,k),A=0;break}}this.h=A,this.o+=I},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var O=N.length-8;O<N.length;++O)N[O]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,O=0;O<4;++O)for(let k=0;k<32;k+=8)N[I++]=this.g[O]>>>k&255;return N};function u(N,I){var O=g;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=I(N)}function d(N,I){this.h=I;const O=[];let k=!0;for(let A=N.length-1;A>=0;A--){const D=N[A]|0;k&&D==I||(O[A]=D,k=!1)}this.g=O}var g={};function y(N){return-128<=N&&N<128?u(N,function(I){return new d([I|0],I<0?-1:0)}):new d([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return K(p(-N));const I=[];let O=1;for(let k=0;N>=O;k++)I[k]=N/O|0,O*=4294967296;return new d(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return K(E(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=p(Math.pow(I,8));let k=b;for(let D=0;D<N.length;D+=8){var A=Math.min(8,N.length-D);const R=parseInt(N.substring(D,D+A),I);A<8?(A=p(Math.pow(I,A)),k=k.j(A).add(p(R))):(k=k.j(O),k=k.add(p(R)))}return k}var b=y(0),C=y(1),j=y(16777216);s=d.prototype,s.m=function(){if(Z(this))return-K(this).m();let N=0,I=1;for(let O=0;O<this.g.length;O++){const k=this.i(O);N+=(k>=0?k:4294967296+k)*I,I*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Z(this))return"-"+K(this).toString(N);const I=p(Math.pow(N,6));var O=this;let k="";for(;;){const A=dt(O,I).g;O=lt(O,A.j(I));let D=((O.g.length>0?O.g[0]:O.h)>>>0).toString(N);if(O=A,G(O))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function Z(N){return N.h==-1}s.l=function(N){return N=lt(this,N),Z(N)?-1:G(N)?0:1};function K(N){const I=N.g.length,O=[];for(let k=0;k<I;k++)O[k]=~N.g[k];return new d(O,~N.h).add(C)}s.abs=function(){return Z(this)?K(this):this},s.add=function(N){const I=Math.max(this.g.length,N.g.length),O=[];let k=0;for(let A=0;A<=I;A++){let D=k+(this.i(A)&65535)+(N.i(A)&65535),R=(D>>>16)+(this.i(A)>>>16)+(N.i(A)>>>16);k=R>>>16,D&=65535,R&=65535,O[A]=R<<16|D}return new d(O,O[O.length-1]&-2147483648?-1:0)};function lt(N,I){return N.add(K(I))}s.j=function(N){if(G(this)||G(N))return b;if(Z(this))return Z(N)?K(this).j(K(N)):K(K(this).j(N));if(Z(N))return K(this.j(K(N)));if(this.l(j)<0&&N.l(j)<0)return p(this.m()*N.m());const I=this.g.length+N.g.length,O=[];for(var k=0;k<2*I;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(let A=0;A<N.g.length;A++){const D=this.i(k)>>>16,R=this.i(k)&65535,mt=N.i(A)>>>16,Ft=N.i(A)&65535;O[2*k+2*A]+=R*Ft,ft(O,2*k+2*A),O[2*k+2*A+1]+=D*Ft,ft(O,2*k+2*A+1),O[2*k+2*A+1]+=R*mt,ft(O,2*k+2*A+1),O[2*k+2*A+2]+=D*mt,ft(O,2*k+2*A+2)}for(N=0;N<I;N++)O[N]=O[2*N+1]<<16|O[2*N];for(N=I;N<2*I;N++)O[N]=0;return new d(O,0)};function ft(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function et(N,I){this.g=N,this.h=I}function dt(N,I){if(G(I))throw Error("division by zero");if(G(N))return new et(b,b);if(Z(N))return I=dt(K(N),I),new et(K(I.g),K(I.h));if(Z(I))return I=dt(N,K(I)),new et(K(I.g),I.h);if(N.g.length>30){if(Z(N)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var O=C,k=I;k.l(N)<=0;)O=it(O),k=it(k);var A=tt(O,1),D=tt(k,1);for(k=tt(k,2),O=tt(O,2);!G(k);){var R=D.add(k);R.l(N)<=0&&(A=A.add(O),D=R),k=tt(k,1),O=tt(O,1)}return I=lt(N,A.j(I)),new et(A,I)}for(A=b;N.l(I)>=0;){for(O=Math.max(1,Math.floor(N.m()/I.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=p(O),R=D.j(I);Z(R)||R.l(N)>0;)O-=k,D=p(O),R=D.j(I);G(D)&&(D=C),A=A.add(D),N=lt(N,R)}return new et(A,N)}s.B=function(N){return dt(this,N).h},s.and=function(N){const I=Math.max(this.g.length,N.g.length),O=[];for(let k=0;k<I;k++)O[k]=this.i(k)&N.i(k);return new d(O,this.h&N.h)},s.or=function(N){const I=Math.max(this.g.length,N.g.length),O=[];for(let k=0;k<I;k++)O[k]=this.i(k)|N.i(k);return new d(O,this.h|N.h)},s.xor=function(N){const I=Math.max(this.g.length,N.g.length),O=[];for(let k=0;k<I;k++)O[k]=this.i(k)^N.i(k);return new d(O,this.h^N.h)};function it(N){const I=N.g.length+1,O=[];for(let k=0;k<I;k++)O[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(O,N.h)}function tt(N,I){const O=I>>5;I%=32;const k=N.g.length-O,A=[];for(let D=0;D<k;D++)A[D]=I>0?N.i(D+O)>>>I|N.i(D+O+1)<<32-I:N.i(D+O);return new d(A,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ST=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Qs=d}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AT,gl,bT,Oc,Wd,wT,RT,IT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(c,m){if(m)t:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in v))break t;v=v[L]}c=c[c.length-1],w=v[c],m=m(w),m!=w&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&v.push([w,m[w]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,L,H){for(var at=Array(arguments.length-2),It=2;It<arguments.length;It++)at[It-2]=arguments[It];return m.prototype[L].apply(w,at)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const m=c.length;if(m>0){const v=Array(m);for(let w=0;w<m;w++)v[w]=c[w];return v}return[]}function G(c,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const H=L.length||0;c.length=v+H;for(let at=0;at<H;at++)c[v+at]=L[at]}else c.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(c){d.setTimeout(()=>{throw c},0)}function lt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const w=et.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var et=new Z(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,tt=!1,N=new ft,I=()=>{const c=Promise.resolve(void 0);it=()=>{c.then(O)}};function O(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){K(v)}var m=et;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}tt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function mt(c,m){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(mt,A),mt.prototype.init=function(c,m){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),q=0;function st(c,m,v,w,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=L,this.key=++q,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nt(c,m,v){for(const w in c)m.call(v,c[w],w,c)}function Bt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,m){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)c[v]=w[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,m,v,w,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const at=Nt(c,m,w,L);return at>-1?(m=c[at],v||(m.fa=!1)):(m=new st(m,this.src,H,!!w,L),m.fa=v,c.push(m)),m};function At(c,m){const v=m.type;if(v in c.g){var w=c.g[v],L=Array.prototype.indexOf.call(w,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(w,L,1),H&&(pt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Nt(c,m,v,w){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==w)return L}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function re(c,m,v,w,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)re(c,m[H],v,w,L);return null}return v=co(v),c&&c[Ft]?c.J(m,v,g(w)?!!w.capture:!1,L):ia(c,m,v,!1,w,L)}function ia(c,m,v,w,L,H){if(!m)throw Error("Invalid event type");const at=g(L)?!!L.capture:!!L;let It=sa(c);if(It||(c[Pt]=It=new ct(c)),v=It.add(m,v,w,at,H),v.proxy)return v;if(w=Ya(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)D||(L=at),L===void 0&&(L=!1),c.addEventListener(m.toString(),w,L);else if(c.attachEvent)c.attachEvent(ti(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ya(){function c(v){return m.call(c.src,c.listener,v)}const m=lo;return c}function Ka(c,m,v,w,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ka(c,m[H],v,w,L);else w=g(w)?!!w.capture:!!w,v=co(v),c&&c[Ft]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=Nt(m,v,w,L),v>-1&&(pt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=sa(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Nt(m,v,w,L)),(v=c>-1?m[c]:null)&&Xa(v))}function Xa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ft])At(m.i,c);else{var v=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(v,w,c.capture):m.detachEvent?m.detachEvent(ti(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=sa(m))?(At(v,c),v.h==0&&(v.src=null,m[Pt]=null)):pt(c)}}}function ti(c){return c in De?De[c]:De[c]="on"+c}function lo(c,m){if(c.da)c=!0;else{m=new mt(m,this);const v=c.listener,w=c.ha||c.src;c.fa&&Xa(c),c=v.call(w,m)}return c}function sa(c){return c=c[Pt],c instanceof ct?c:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(c){return typeof c=="function"?c:(c[uo]||(c[uo]=function(m){return c.handleEvent(m)}),c[uo])}function _e(){k.call(this),this.i=new ct(this),this.M=this,this.G=null}b(_e,k),_e.prototype[Ft]=!0,_e.prototype.removeEventListener=function(c,m,v,w){Ka(this,c,m,v,w)};function Oe(c,m){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new A(m,c);else if(m instanceof A)m.target=m.target||c;else{var L=m;m=new A(w,c),rt(m,L)}L=!0;let H,at;if(v)for(at=v.length-1;at>=0;at--)H=m.g=v[at],L=as(H,w,!0,m)&&L;if(H=m.g=c,L=as(H,w,!0,m)&&L,L=as(H,w,!1,m)&&L,v)for(at=0;at<v.length;at++)H=m.g=v[at],L=as(H,w,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let w=0;w<v.length;w++)pt(v[w]);delete c.g[m],c.h--}}this.G=null},_e.prototype.J=function(c,m,v,w){return this.i.add(String(c),m,!1,v,w)},_e.prototype.K=function(c,m,v,w){return this.i.add(String(c),m,!0,v,w)};function as(c,m,v,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const at=m[H];if(at&&!at.da&&at.capture==v){const It=at.listener,me=at.ha||at.src;at.fa&&At(c.i,at),L=It.call(me,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ih(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Ql(c){c.g=Ih(()=>{c.g=null,c.i&&(c.i=!1,Ql(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){k.call(this),this.h=c,this.g={}}b(aa,k);var ho=[];function fo(c){nt(c.g,function(m,v){this.g.hasOwnProperty(v)&&Xa(m)},c),c.g={}}aa.prototype.N=function(){aa.Z.N.call(this),fo(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Ch=d.JSON.parse,Yl=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Kl(){}function Xl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){A.call(this,"d")}b(Pe,A);function An(){A.call(this,"c")}b(An,A);var de={},$l=null;function $a(){return $l=$l||new _e}de.Ia="serverreachability";function Jl(c){A.call(this,de.Ia,c)}b(Jl,A);function ei(c){const m=$a();Oe(m,new Jl(m))}de.STAT_EVENT="statevent";function ra(c,m){A.call(this,de.STAT_EVENT,c),this.stat=m}b(ra,A);function ve(c){const m=$a();Oe(m,new ra(m,c))}de.Ja="timingevent";function ni(c,m){A.call(this,de.Ja,c),this.size=m}b(ni,A);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Nh(c,m,v,w,L,H){c.info(function(){if(c.g)if(H){var at="",It=H.split("&");for(let Gt=0;Gt<It.length;Gt++){var me=It[Gt].split("=");if(me.length>1){const oe=me[0];me=me[1];const In=oe.split("_");at=In.length>=2&&In[1]=="type"?at+(oe+"="+me+"&"):at+(oe+"=redacted&")}}}else at=null;else at=H;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+v+`
`+at})}function Zl(c,m,v,w,L,H,at){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+at})}function si(c,m,v,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(c,v)+(w?" "+w:"")})}function oa(c,m){c.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Dh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let at=1;at<w.length;at++)w[at]=""}}}}return rs(H)}catch{return m}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function ua(){}b(ua,Kl),ua.prototype.g=function(){return new XMLHttpRequest},go=new ua;function Di(c){return encodeURIComponent(String(c))}function Wl(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function zn(c,m,v,w){this.j=c,this.i=m,this.l=v,this.S=w||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Te={},Ve={};function ai(c,m,v){c.M=1,c.A=ca(Se(m)),c.u=v,c.R=!0,Ja(c,null)}function Ja(c,m){c.F=Date.now(),ri(c),c.B=Se(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),er(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Bn,c.g=mu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let H=0;H<L.length;H++){const at=re(v,L[H],w||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ei(),Nh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fn(c)==3?m.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)t:{const It=Fn(this.g),me=this.g.ya(),Gt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||It!=4||me==7||(me==8||Gt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var H=w;break e}}H=null}if(c=H)si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,ve(12),dn(this),bn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=eu(this,v),oe==Ve){It==4&&(this.m=4,ve(14),c=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,ve(15),si(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else si(this.i,this.l,oe,null),li(this,oe);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(at),at.P=!0,ve(11))}}else si(this.i,this.l,v,null),li(this,v);It==4&&dn(this),this.o&&!this.K&&(It==4?cu(this.j,this):(this.o=!1,ri(this)))}else xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),bn(this)}}}catch{}finally{}};function Oh(c){if(!tu(c))return c.g.la();const m=ze(c.g);if(m==="")return"";let v="";const w=m.length,L=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(L&&H==w-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function eu(c,m){var v=c.C,w=m.indexOf(`
`,v);return w==-1?Ve:(v=Number(m.substring(v,w)),isNaN(v)?Te:(w+=1,w+v>m.length?Ve:(m=m.slice(w,w+v),c.C=w+v,m)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(c){c.T=Date.now()+c.H,Za(c,c.H)}function Za(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(p(c.aa,c),m)}function oi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(oa(this.i,this.B),this.M!=2&&(ei(),ve(17)),dn(this),this.m=2,bn(this)):Za(this,this.T-c)};function bn(c){c.j.I==0||c.K||cu(c.j,c)}function dn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,fo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)rr(v),ms(v);else break t;ya(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(p(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((c.L||v.g==c)&&rr(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const In=Gt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const yi=Gt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=Gt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(w=1.5*Gn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Qn=c.g;if(Qn){const _a=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var H=w.h;H.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(_o(H,H.h),H.h=null))}if(w.G){const or=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;or&&(w.wa=or,Kt(w.J,w.G,or))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var at=c;if(w.na=du(w,w.L?w.ba:null,w.W),at.L){vo(w.h,at);var It=at,me=w.O;me&&(It.H=me),It.D&&(oi(It),ri(It)),w.g=at}else lu(w);v.i.length>0&&gi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||pi(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?pi(v,7):Co(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function po(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function _o(c,m){c.g?c.g.add(m):c.h=m}function vo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}po.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function To(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return j(c.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let L,H=null;w>=0?(L=c[v].substring(0,w),H=c[v].substring(w+1)):L=c[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,ke(this,c.j),this.o=c.o,this.g=c.g,os(this,c.u),this.h=c.h,Eo(this,ru(c.i)),this.m=c.m):c&&(m=String(c).match(nu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),os(this,m[4]),this.h=hi(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ha(m,tr,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ha(m,tr,!0),"@"),c.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ha(v,v.charAt(0)=="/"?So:iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ha(v,su)),c.join("")},mn.prototype.resolve=function(c){const m=Se(this);let v=!!c.j;v?ke(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var w=c.h;if(v)os(m,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let at=0;at<L.length;){const It=L[at++];It=="."?w&&at==L.length&&H.push(""):It==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&at==L.length&&H.push("")):(H.push(It),w=!0)}w=H.join("/")}else w=L}return v?m.h=w:v=c.i.toString()!=="",v?Eo(m,ru(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Se(c){return new mn(c)}function ke(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function os(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Eo(c,m,v){m instanceof us?(c.i=m,nr(c.i,c.l)):(v||(m=ha(m,ls)),c.i=new us(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function ca(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tr=/[#\/\?@]/g,iu=/[#\?:]/g,So=/[#\?]/g,ls=/[#\?@]/g,su=/#/g;function us(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=us.prototype,s.add=function(c,m){sn(this),this.i=null,c=cs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function au(c,m){sn(c),m=cs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ao(c,m){return sn(c),m=cs(c,m),c.g.has(m)}s.forEach=function(c,m){sn(this),this.g.forEach(function(v,w){v.forEach(function(L){c.call(m,L,w,this)},this)},this)};function bo(c,m){sn(c);let v=[];if(typeof m=="string")Ao(c,m)&&(v=v.concat(c.g.get(cs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return sn(this),this.i=null,c=cs(this,c),Ao(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=bo(this,c),c.length>0?String(c[0]):m):m};function er(c,m,v){au(c,m),v.length>0&&(c.i=null,c.g.set(cs(c,m),j(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var v=m[w];const L=Di(v);v=bo(this,v);for(let H=0;H<v.length;H++){let at=L;v[H]!==""&&(at+="="+Di(v[H])),c.push(at)}}return this.i=c.join("&")};function ru(c){const m=new us;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function cs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function nr(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(au(this,w),er(this,L,v))},c)),c.j=m}function qn(c,m){const v=new Pn;if(d.Image){const w=new Image;w.onload=E(wn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=E(wn,v,"TestLoadImage: error",!1,m,w),w.onabort=E(wn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function wo(c,m){const v=new Pn,w=new AbortController,L=setTimeout(()=>{w.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(L),H.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(c,m,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function hs(){this.g=new Yl}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(fi,Kl),fi.prototype.g=function(){return new fa(this.i,this.h)};function fa(c,m){_e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fa,_e),s=fa.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ir(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ir(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?fs(this):Hn(this),this.readyState==3&&ir(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},s.Na=function(c){this.g&&(this.response=c,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let m="";return nt(c,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function da(c,m,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Rn(v),typeof c=="string"?v!=null&&Di(v):Kt(c,m,v))}function Jt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,_e);var di=/^https?$/i,Ro=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=C(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){ma(this,H);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())v.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of v)this.g.setRequestHeader(H,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ma(this,H)}};function ma(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Io(c),Oi(c)}function Io(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},s.Xa=function(){ga(this)};function ga(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var w;if(w=H===0){let at=String(c.D).match(nu)[1]||null;!at&&d.self&&d.self.location&&(at=d.self.location.protocol.slice(0,-1)),w=!di.test(at?at.toLowerCase():"")}v=w}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var L=Fn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Io(c)}}finally{Oi(c)}}}}function Oi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ch(m)}};function ze(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(c){const m={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var v=Wl(c[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Bt(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ds(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new po(c&&c.concurrentRequestLimit),this.Ba=new hs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,w){ve(0),this.W=c,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=du(this,null,this.W),gi(this)};function Co(c){if(sr(c),c.I==3){var m=c.V++,v=Se(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),pa(c,v),m=new zn(c,c.j,m),m.M=2,m.A=ca(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}fu(c)}function ms(c){c.g&&(Do(c),c.g.cancel(),c.g=null)}function sr(c){ms(c),c.v&&(d.clearTimeout(c.v),c.v=null),rr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function gi(c){if(!yo(c.h)&&!c.m){c.m=!0;var m=c.Ea;it||I(),tt||(it(),tt=!0),N.add(m,c),c.D=0}}function ar(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(p(c.Ea,c,m),hu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new zn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),rt(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ou(this,L,m),v=Se(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),pa(this,v),H&&(this.R?m="headers="+Di(Rn(H))+"&"+m:this.u&&da(v,this.u,H)),_o(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,ai(L,v,null)):ai(L,v,m),this.I=2}}else this.I==3&&(c?No(this,c):this.i.length==0||yo(this.h)||No(this))};function No(c,m){var v;m?v=m.l:v=c.V++;const w=Se(c.J);Kt(w,"SID",c.M),Kt(w,"RID",v),Kt(w,"AID",c.K),pa(c,w),c.u&&c.o&&da(w,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=ou(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_o(c.h,v),ai(v,w,m)}function pa(c,m){c.H&&nt(c.H,function(v,w){Kt(m,w,v)}),c.l&&nt({},function(v,w){Kt(m,w,v)})}function ou(c,m,v){v=Math.min(c.i.length,v);const w=c.l?p(c.l.Ka,c.l,c):null;t:{var L=c.i;let It=-1;for(;;){const me=["count="+v];It==-1?v>0?(It=L[0].g,me.push("ofs="+It)):It=0:me.push("ofs="+It);let Gt=!0;for(let oe=0;oe<v;oe++){var H=L[oe].g;const In=L[oe].map;if(H-=It,H<0)It=Math.max(0,L[oe].g-100),Gt=!1;else try{H="req"+H+"_"||"";try{var at=In instanceof Map?In:Object.entries(In);for(const[yi,Gn]of at){let Qn=Gn;g(Gn)&&(Qn=rs(Gn)),me.push(H+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw me.push(H+"type="+encodeURIComponent("_badmap")),yi}}catch{w&&w(In)}}if(Gt){at=me.join("&");break t}}at=void 0}return c=c.i.splice(0,v),m.G=c,at}function lu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;it||I(),tt||(it(),tt=!0),N.add(m,c),c.A=0}}function ya(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(p(c.Da,c),hu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ms(this),uu(this))};function Do(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function uu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Se(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),pa(c,m),c.u&&c.o&&da(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ca(Se(m)),v.u=null,v.R=!0,Ja(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),ya(this),ve(19))};function rr(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function cu(c,m){var v=null;if(c.g==m){rr(c),Do(c),c.g=null;var w=2}else if(ci(c.h,m))v=m.G,vo(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;w=$a(),Oe(w,new ni(w,v)),gi(c)}else lu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&ar(c,m)||w==2&&ya(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function hu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function pi(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),w=c.Ua;const L=!w;w=new mn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(w,"https"),ca(w),L?qn(w.toString(),v):wo(w.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(m),fu(c),sr(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function fu(c){if(c.I=0,c.ja=[],c.l){const m=To(c.h);(m.length!=0||c.i.length!=0)&&(G(c.ja,m),G(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function du(c,m,v){var w=v instanceof mn?Se(v):new mn(v);if(w.g!="")m&&(w.g=m+"."+w.g),os(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new mn(null);w&&ke(H,w),m&&(H.g=m),L&&os(H,L),v&&(H.h=v),w=H}return v=c.G,m=c.wa,v&&m&&Kt(w,v,m),Kt(w,"VER",c.ka),pa(c,w),w}function mu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Jt(new fi({ab:v})):new Jt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}s=gu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){_e.call(this),this.g=new ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Mi(this)}b(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Co(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=rs(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,tn.Z.N.call(this)};function pu(c){Pe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(pu,Pe);function yu(){An.call(this),this.status=1}b(yu,An);function Mi(c){this.g=c}b(Mi,gu),Mi.prototype.ra=function(){Oe(this.g,"a")},Mi.prototype.qa=function(c){Oe(this.g,new pu(c))},Mi.prototype.pa=function(c){Oe(this.g,new yu)},Mi.prototype.oa=function(){Oe(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,IT=function(){return new gs},RT=function(){return $a()},wT=de,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Oc=la,mo.COMPLETE="complete",bT=mo,Xl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,gl=Xl,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,AT=Jt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore",Cv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let no="12.3.0";const Ha=new Em("@firebase/firestore");function Ur(){return Ha.logLevel}function ut(s,...t){if(Ha.logLevel<=kt.DEBUG){const n=t.map(Vm);Ha.debug(`Firestore (${no}): ${s}`,...n)}}function es(s,...t){if(Ha.logLevel<=kt.ERROR){const n=t.map(Vm);Ha.error(`Firestore (${no}): ${s}`,...n)}}function Yr(s,...t){if(Ha.logLevel<=kt.WARN){const n=t.map(Vm);Ha.warn(`Firestore (${no}): ${s}`,...n)}}function Vm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Et(s,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,CT(s,a,n)}function CT(s,t,n){let a=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw es(a),new Error(a)}function Yt(s,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||CT(t,l,a)}function Rt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ss{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class NT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class LR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new NT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class zR{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BR{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new zR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const a=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=HR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=t.charAt(l[u]%62))}return a}}function jt(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const n=Math.min(s.length,t.length);for(let a=0;a<n;a++){const l=s.charAt(a),u=t.charAt(a);if(l!==u)return Pd(l)===Pd(u)?jt(l,u):Pd(l)?1:-1}return jt(s.length,t.length)}const FR=55296,GR=57343;function Pd(s){const t=s.charCodeAt(0);return t>=FR&&t<=GR}function Kr(s,t,n){return s.length===t.length&&s.every(((a,l)=>n(a,t[l])))}const Dv="__name__";class Si{constructor(t,n,a){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Et(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const u=Si.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return jt(t.length,n.length)}static compareSegments(t,n){const a=Si.isNumericId(t),l=Si.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(n)):tm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ne extends Si{construct(t,n,a){return new ne(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const QR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,n,a){return new Qe(t,n,a)}static isValidIdentifier(t){return QR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Qe([Dv])}static fromServerFormat(t){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ne.fromString(t))}static fromName(t){return new _t(ne.fromString(t).popFirst(5))}static empty(){return new _t(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ne(t.slice()))}}function DT(s,t,n){if(!n)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function YR(s,t,n,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Ov(s){if(!_t.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xv(s){if(_t.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function OT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function fn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Ne(s,t){const n={typeString:s};return t&&(n.value=t),n}function Pl(s,t){if(!OT(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ot($.INVALID_ARGUMENT,n);return!0}const Mv=-62135596800,Vv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Vv);return new ae(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Mv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ae(0,0))}static max(){return new bt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function KR(s,t){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new ae(n+1,0):new ae(n,a));return new Ks(l,_t.empty(),t)}function XR(s){return new Ks(s.readTime,s.key,Il)}class Ks{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Ks(bt.min(),_t.empty(),Il)}static max(){return new Ks(bt.max(),_t.empty(),Il)}}function $R(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(s.documentKey,t.documentKey),n!==0?n:jt(s.largestBatchId,t.largestBatchId))}const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function io(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==JR)throw s;ut("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,a)=>{n(t)}))}static reject(t){return new W(((n,a)=>{a(t)}))}static waitFor(t){return new W(((n,a)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>a(y)))})),d=!0,u===l&&n()}))}static or(t){let n=W.resolve(!1);for(const a of t)n=n.next((l=>l?W.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(t,n){return new W(((a,l)=>{const u=t.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(t[p]).next((E=>{d[p]=E,++g,g===u&&a(d)}),(E=>l(E)))}}))}static doWhile(t,n){return new W(((a,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):a()};u()}))}}function WR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(s){return s.name==="IndexedDbTransactionError"}class lh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;const jm=-1;function uh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function tI(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const xT="";function eI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=kv(t)),t=nI(s.get(n),t);return kv(t)}function nI(s,t){let n=t;const a=s.length;for(let l=0;l<a;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case xT:n+="";break;default:n+=u}}return n}function kv(s){return s+xT+""}function jv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ta(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function MT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,a,l,u){this.key=t,this.value=n,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,u){return new Ge(t??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,a,l,u){return this}insert(t,n,a){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(t){return new Uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class Uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new Me(Qe.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Kr(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VT("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const n=iI.exec(s);if(Yt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $s(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const kT="server_timestamp",jT="__type__",UT="__previous_value__",LT="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[jT]?.stringValue===kT}function ch(s){const t=s.mapValue.fields[UT];return Um(t)?ch(t):t}function Cl(s){const t=Xs(s.mapValue.fields[LT].timestampValue);return new ae(t.seconds,t.nanos)}class sI{constructor(t,n,a,l,u,d,g,y,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Qc="(default)";class Nl{constructor(t,n){this.projectId=t,this.database=n||Qc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}const PT="__type__",aI="__max__",bc={mapValue:{}},zT="__vector__",Yc="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:oI(s)?9007199254740991:rI(s)?10:11:Et(28295,{value:s})}function Ni(s,t){if(s===t)return!0;const n=Js(s);if(n!==Js(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Cl(s).isEqual(Cl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Xs(l.timestampValue),g=Xs(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return $s(l.bytesValue).isEqual($s(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ye(l.doubleValue),g=ye(u.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Kr(s.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(jv(d)!==jv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ni(d[y],g[y])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function Dl(s,t){return(s.values||[]).find((n=>Ni(n,t)))!==void 0}function Xr(s,t){if(s===t)return 0;const n=Js(s),a=Js(t);if(n!==a)return jt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ye(u.integerValue||u.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Lv(s.timestampValue,t.timestampValue);case 4:return Lv(Cl(s),Cl(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(u,d){const g=$s(u),y=$s(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=jt(g[p],y[p]);if(E!==0)return E}return jt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=jt(ye(u.latitude),ye(d.latitude));return g!==0?g:jt(ye(u.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Pv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[Yc]?.arrayValue,E=y[Yc]?.arrayValue,b=jt(p?.values?.length||0,E?.values?.length||0);return b!==0?b:Pv(p,E)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===bc.mapValue&&d===bc.mapValue)return 0;if(u===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const C=tm(y[b],E[b]);if(C!==0)return C;const j=Xr(g[y[b]],p[E[b]]);if(j!==0)return j}return jt(y.length,E.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function Lv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const n=Xs(s),a=Xs(t),l=jt(n.seconds,a.seconds);return l!==0?l:jt(n.nanos,a.nanos)}function Pv(s,t){const n=s.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=Xr(n[l],a[l]);if(u)return u}return jt(n.length,a.length)}function $r(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Xs(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return $s(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return _t.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=em(u);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${em(n.fields[d])}`;return l+"}"})(s.mapValue):Et(61005,{value:s})}function xc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(s);return t?16+xc(t):16;case 5:return 2*s.stringValue.length;case 6:return $s(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+xc(u)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ta(a.fields,((u,d)=>{l+=u.length+xc(d)})),l})(s.mapValue);default:throw Et(13486,{value:s})}}function zv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function nm(s){return!!s&&"integerValue"in s}function Lm(s){return!!s&&"arrayValue"in s}function Bv(s){return!!s&&"nullValue"in s}function qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mc(s){return!!s&&"mapValue"in s}function rI(s){return(s?.mapValue?.fields||{})[PT]?.stringValue===zT}function El(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ta(s.mapValue.fields,((n,a)=>t.mapValue.fields[n]=El(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=El(s.arrayValue.values[n]);return t}return{...s}}function oI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aI}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(n)}setAll(t){let n=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=El(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){ta(n,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new hn(El(this.value))}}function BT(s){const t=[];return ta(s.fields,((n,a)=>{const l=new Qe([n]);if(Mc(a)){const u=BT(a.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Je{constructor(t,n,a,l,u,d,g){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,bt.min(),bt.min(),bt.min(),hn.empty(),0)}static newFoundDocument(t,n,a,l){return new Je(t,1,n,bt.min(),a,l,0)}static newNoDocument(t,n){return new Je(t,2,n,bt.min(),bt.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,bt.min(),bt.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,n){this.position=t,this.inclusive=n}}function Hv(s,t,n){let a=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),n.key):a=Xr(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Fv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ni(s.position[n],t.position[n]))return!1;return!0}class Ol{constructor(t,n="asc"){this.field=t,this.dir=n}}function lI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class qT{}class Ce extends qT{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new cI(t,n,a):n==="array-contains"?new dI(t,a):n==="in"?new mI(t,a):n==="not-in"?new gI(t,a):n==="array-contains-any"?new pI(t,a):new Ce(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new hI(t,a):new fI(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xr(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Xr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends qT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Wn(t,n)}matches(t){return HT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HT(s){return s.op==="and"}function FT(s){return uI(s)&&HT(s)}function uI(s){for(const t of s.filters)if(t instanceof Wn)return!1;return!0}function im(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+$r(s.value);if(FT(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((n=>im(n))).join(",");return`${s.op}(${t})`}}function GT(s,t){return s instanceof Ce?(function(a,l){return l instanceof Ce&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(s,t):s instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&GT(d,l.filters[g])),!0):!1})(s,t):void Et(19439)}function QT(s){return s instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${$r(n.value)}`})(s):s instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"})(s):"Filter"}class cI extends Ce{constructor(t,n,a){super(t,n,a),this.key=_t.fromName(a.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class hI extends Ce{constructor(t,n){super(t,"in",n),this.keys=YT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class fI extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=YT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function YT(s,t){return(t.arrayValue?.values||[]).map((n=>_t.fromName(n.referenceValue)))}class dI extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lm(n)&&Dl(n.arrayValue,this.value)}}class mI extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class gI extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class pI extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Dl(this.value.arrayValue,a)))}}class yI{constructor(t,n=null,a=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Gv(s,t=null,n=[],a=[],l=null,u=null,d=null){return new yI(s,t,n,a,l,u,d)}function Pm(s){const t=Rt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>im(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>$r(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>$r(a))).join(",")),t.Te=n}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!lI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!GT(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Fv(s.startAt,t.startAt)&&Fv(s.endAt,t.endAt)}function sm(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ao{constructor(t,n=null,a=[],l=[],u=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _I(s,t,n,a,l,u,d,g){return new ao(s,t,n,a,l,u,d,g)}function hh(s){return new ao(s)}function Qv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function KT(s){return s.collectionGroup!==null}function Sl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ol(u,a))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new Ol(Qe.keyField(),a))}return t.Ie}function bi(s){const t=Rt(s);return t.Ee||(t.Ee=vI(t,Sl(s))),t.Ee}function vI(s,t){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ol(l.field,u)}));const n=s.endAt?new Kc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Kc(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,t,s.filters,s.limit,n,a)}}function am(s,t){const n=s.filters.concat([t]);return new ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function rm(s,t,n){return new ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function fh(s,t){return zm(bi(s),bi(t))&&s.limitType===t.limitType}function XT(s){return`${Pm(bi(s))}|lt:${s.limitType}`}function Lr(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>QT(l))).join(", ")}]`),uh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>$r(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>$r(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function dh(s,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_t.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(s,t)&&(function(a,l){for(const u of Sl(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const p=Hv(d,g,y);return d.inclusive?p<=0:p<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,g,y){const p=Hv(d,g,y);return d.inclusive?p>=0:p>0})(a.endAt,Sl(a),l))})(s,t)}function TI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $T(s){return(t,n)=>{let a=!1;for(const l of Sl(s)){const u=EI(l,t,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function EI(s,t,n){const a=s.field.isKeyField()?_t.comparator(t.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?Xr(y,p):Et(42886)})(s.field,t,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:s.dir})}}class Ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ta(this.inner,((n,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}const SI=new ue(_t.comparator);function ns(){return SI}const JT=new ue(_t.comparator);function pl(...s){let t=JT;for(const n of s)t=t.insert(n.key,n);return t}function ZT(s){let t=JT;return s.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function ja(){return Al()}function WT(){return Al()}function Al(){return new Ga((s=>s.toString()),((s,t)=>s.isEqual(t)))}const AI=new ue(_t.comparator),bI=new Me(_t.comparator);function Ut(...s){let t=bI;for(const n of s)t=t.add(n);return t}const wI=new Me(jt);function RI(){return wI}function Bm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function tE(s){return{integerValue:""+s}}function II(s,t){return tI(t)?tE(t):Bm(s,t)}class mh{constructor(){this._=void 0}}function CI(s,t,n){return s instanceof Xc?(function(l,u){const d={fields:{[jT]:{stringValue:kT},[LT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Um(u)&&(u=ch(u)),u&&(d.fields[UT]=u),{mapValue:d}})(n,t):s instanceof xl?nE(s,t):s instanceof Ml?iE(s,t):(function(l,u){const d=eE(l,u),g=Yv(d)+Yv(l.Ae);return nm(d)&&nm(l.Ae)?tE(g):Bm(l.serializer,g)})(s,t)}function NI(s,t,n){return s instanceof xl?nE(s,t):s instanceof Ml?iE(s,t):n}function eE(s,t){return s instanceof $c?(function(a){return nm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Xc extends mh{}class xl extends mh{constructor(t){super(),this.elements=t}}function nE(s,t){const n=sE(t);for(const a of s.elements)n.some((l=>Ni(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ml extends mh{constructor(t){super(),this.elements=t}}function iE(s,t){let n=sE(t);for(const a of s.elements)n=n.filter((l=>!Ni(l,a)));return{arrayValue:{values:n}}}class $c extends mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Yv(s){return ye(s.integerValue||s.doubleValue)}function sE(s){return Lm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function DI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof xl&&l instanceof xl||a instanceof Ml&&l instanceof Ml?Kr(a.elements,l.elements,Ni):a instanceof $c&&l instanceof $c?Ni(a.Ae,l.Ae):a instanceof Xc&&l instanceof Xc})(s.transform,t.transform)}class OI{constructor(t,n){this.version=t,this.transformResults=n}}class Un{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class gh{}function aE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qm(s.key,Un.none()):new zl(s.key,s.data,Un.none());{const n=s.data,a=hn.empty();let l=new Me(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new ea(s.key,a,new Sn(l.toArray()),Un.none())}}function xI(s,t,n){s instanceof zl?(function(l,u,d){const g=l.value.clone(),y=Xv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,n):s instanceof ea?(function(l,u,d){if(!Vc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Xv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(rE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function bl(s,t,n,a){return s instanceof zl?(function(u,d,g,y){if(!Vc(u.precondition,d))return g;const p=u.value.clone(),E=$v(u.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,t,n,a):s instanceof ea?(function(u,d,g,y){if(!Vc(u.precondition,d))return g;const p=$v(u.fieldTransforms,y,d),E=d.data;return E.setAll(rE(u)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,n,a):(function(u,d,g){return Vc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,n)}function MI(s,t){let n=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),u=eE(a.transform,l||null);u!=null&&(n===null&&(n=hn.empty()),n.set(a.field,u))}return n||null}function Kv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Kr(a,l,((u,d)=>DI(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class zl extends gh{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ea extends gh{constructor(t,n,a,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);t.set(n,a)}})),t}function Xv(s,t,n){const a=new Map;Yt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=t.data.field(u.field);a.set(u.field,NI(d,g,n[l]))}return a}function $v(s,t,n){const a=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);a.set(l.field,CI(u,d,t))}return a}class qm extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VI extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kI{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&xI(u,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=bl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=bl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=WT();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=aE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Kr(this.mutations,t.mutations,((n,a)=>Kv(n,a)))&&Kr(this.baseMutations,t.baseMutations,((n,a)=>Kv(n,a)))}}class Hm{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return AI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Hm(t,n,a,l)}}class jI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ie,zt;function LI(s){switch(s){case $.OK:return Et(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function oE(s){if(s===void 0)return es("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return Et(39323,{code:s})}}(zt=Ie||(Ie={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function PI(){return new TextEncoder}const zI=new Qs([4294967295,4294967295],0);function Jv(s){const t=PI().encode(s),n=new ST;return n.update(t),new Uint8Array(n.digest())}function Zv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Qs([n,a],0),new Qs([l,u],0)]}class Fm{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(a<0)throw new yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Qs.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(Qs.fromNumber(a)));return l.compare(zI)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Jv(t),[a,l]=Zv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);if(!this.we(d))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Fm(u,l,n);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=Jv(t),[a,l]=Zv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,n,a,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new ph(bt.min(),l,new ue(jt),ns(),Ut())}}class Bl{constructor(t,n,a,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Bl(a,n,Ut(),Ut(),Ut())}}class kc{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class lE{constructor(t,n){this.targetId=t,this.Ce=n}}class uE{constructor(t,n,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class Wv{constructor(){this.ve=0,this.Fe=t0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),a=Ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:u})}})),new Bl(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=t0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.Je=wc(),this.He=wc(),this.Ye=new ue(jt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(sm(u))if(a===0){const d=new _t(u.path);this.et(n,d,Je.newNoDocument(d,bt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=$s(a).toUint8Array()}catch(y){if(y instanceof VT)return Yr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fm(d,l,u)}catch(y){return Yr(y instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&sm(g.target)){const y=new _t(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let a=Ut();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new ph(t,n,this.Ye,this.je,a);return this.je=ns(),this.Je=wc(),this.He=wc(),this.Ye=new ue(jt),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Wv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Me(jt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Me(jt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Wv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function wc(){return new ue(_t.comparator)}function t0(){return new ue(_t.comparator)}const qI={asc:"ASCENDING",desc:"DESCENDING"},HI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FI={and:"AND",or:"OR"};class GI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function om(s,t){return s.useProto3Json||uh(t)?t:{value:t}}function Jc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function QI(s,t){return Jc(s,t.toTimestamp())}function wi(s){return Yt(!!s,49232),bt.fromTimestamp((function(n){const a=Xs(n);return new ae(a.seconds,a.nanos)})(s))}function Gm(s,t){return lm(s,t).canonicalString()}function lm(s,t){const n=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function hE(s){const t=ne.fromString(s);return Yt(pE(t),10190,{key:t.toString()}),t}function um(s,t){return Gm(s.databaseId,t.path)}function zd(s,t){const n=hE(t);if(n.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _t(dE(n))}function fE(s,t){return Gm(s.databaseId,t)}function YI(s){const t=hE(s);return t.length===4?ne.emptyPath():dE(t)}function cm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dE(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function e0(s,t,n){return{name:um(s,t),fields:n.value.mapValue.fields}}function KI(s,t){let n;if("targetChange"in t){t.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?$.UNKNOWN:oE(p.code);return new ot(E,p.message||"")})(d);n=new uE(a,l,u,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(s,a.document.name),u=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):bt.min(),g=new hn({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(l,u,d,g),p=a.targetIds||[],E=a.removedTargetIds||[];n=new kc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(s,a.document),u=a.readTime?wi(a.readTime):bt.min(),d=Je.newNoDocument(l,u),g=a.removedTargetIds||[];n=new kc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(s,a.document),u=a.removedTargetIds||[];n=new kc([],u,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new UI(l,u),g=a.targetId;n=new lE(g,d)}}return n}function XI(s,t){let n;if(t instanceof zl)n={update:e0(s,t.key,t.value)};else if(t instanceof qm)n={delete:um(s,t.key)};else if(t instanceof ea)n={update:e0(s,t.key,t.data),updateMask:s2(t.fieldMask)};else{if(!(t instanceof VI))return Et(16599,{Vt:t.type});n={verify:um(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof Xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $c)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:QI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(s,t.precondition)),n}function $I(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?wi(l.updateTime):wi(u);return d.isEqual(bt.min())&&(d=wi(u)),new OI(d,l.transformResults||[])})(n,t)))):[]}function JI(s,t){return{documents:[fE(s,t.path)]}}function ZI(s,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=fE(s,l);const u=(function(p){if(p.length!==0)return gE(Wn.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((E=>(function(C){return{field:Pr(C.field),direction:e2(C.dir)}})(E)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=om(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:l}}function WI(s){let t=YI(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const C=mE(b);return C instanceof Wn&&FT(C)?C.getFilters():[C]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((C=>(function(G){return new Ol(zr(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(C)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let C;return C=typeof b=="object"?b.value:b,uh(C)?null:C})(n.limit));let y=null;n.startAt&&(y=(function(b){const C=!!b.before,j=b.values||[];return new Kc(j,C)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const C=!b.before,j=b.values||[];return new Kc(j,C)})(n.endAt)),_I(t,l,d,u,g,"F",y,p)}function t2(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function mE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=zr(n.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=zr(n.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zr(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=zr(n.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ce.create(zr(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((a=>mE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(s):Et(30097,{filter:s})}function e2(s){return qI[s]}function n2(s){return HI[s]}function i2(s){return FI[s]}function Pr(s){return{fieldPath:s.canonicalString()}}function zr(s){return Qe.fromServerFormat(s.fieldPath)}function gE(s){return s instanceof Ce?(function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(n.field),op:n2(n.op),value:n.value}}})(s):s instanceof Wn?(function(n){const a=n.getFilters().map((l=>gE(l)));return a.length===1?a[0]:{compositeFilter:{op:i2(n.op),filters:a}}})(s):Et(54877,{filter:s})}function s2(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function pE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class qs{constructor(t,n,a,l,u=bt.min(),d=bt.min(),g=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class a2{constructor(t){this.yt=t}}function r2(s){const t=WI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class o2{constructor(){this.Cn=new l2}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Ks.min())}updateCollectionGroup(t,n,a){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class l2{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new Me(ne.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(yE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Jr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jr(0)}static cr(){return new Jr(-1)}}const i0="LruGarbageCollector",u2=1048576;function s0([s,t],[n,a]){const l=jt(s,n);return l===0?jt(t,a):l}class c2{constructor(t){this.Ir=t,this.buffer=new Me(s0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();s0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h2{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(i0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?ut(i0,"Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.Vr(3e5)}))}}class f2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(lh.ce);const a=new c2(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(n0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,u,d,g,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(p=Date.now(),Ur()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function d2(s,t){return new f2(s,t)}class m2{constructor(){this.changes=new Ga((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class g2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class p2{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&bl(a.mutation,l,Sn.empty(),ae.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=Ut()){const l=ja();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((u=>{let d=pl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const a=ja();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,Ut())))}populateOverlays(t,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,a,l){let u=ns();const d=Al(),g=(function(){return Al()})();return n.forEach(((y,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof ea)?u=u.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),bl(E.mutation,p,E.mutation.getFieldMask(),ae.now())):d.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((p,E)=>d.set(p,E))),n.forEach(((p,E)=>g.set(p,new g2(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,n){const a=Al();let l=new ue(((d,g)=>d-g)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=a.get(y)||Sn.empty();E=g.applyToLocalView(p,E),a.set(y,E);const b=(l.get(g.batchId)||Ut()).add(y);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,b=WT();E.forEach((C=>{if(!u.has(C)){const j=aE(n.get(C),a.get(C));j!==null&&b.set(C,j),u=u.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,b))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):KT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-u.size):W.resolve(ja());let g=Il,y=u;return d.next((p=>W.forEach(p,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((C=>{y=y.insert(E,C)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,y,p,Ut()))).next((E=>({batchId:g,changes:ZT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const u=n.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,u).next((g=>W.forEach(g,(y=>{const p=(function(b,C){return new ao(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,a,l).next((E=>{E.forEach(((b,C)=>{d=d.insert(b,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,l)))).next((d=>{u.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))}));let g=pl();return d.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&bl(E.mutation,p,Sn.empty(),ae.now()),dh(n,p)&&(g=g.insert(y,p))})),g}))}}class y2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:r2(l.bundledQuery),readTime:wi(l.readTime)}})(n)),W.resolve()}}class _2{constructor(){this.overlays=new ue(_t.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const a=ja();return W.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(t,n,a){const l=ja(),u=n.length+1,d=new _t(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let u=new ue(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=ja(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=ja(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=l)););return W.resolve(g)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new jI(n,a));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}class v2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class Qm{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new Ue(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new _t(new ne([])),a=new Ue(n,t),l=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new _t(new ne([])),a=new Ue(n,t),l=new Ue(n,t+1);let u=Ut();return this.Ur.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Ue(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return _t.comparator(t.key,n.key)||jt(t.Yr,n.Yr)}static Kr(t,n){return jt(t.Yr,n.Yr)||_t.comparator(t.key,n.key)}}class T2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kI(u,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ue(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Ue(n,0),l=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Me(jt);return n.forEach((l=>{const u=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{a=a.add(g.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let u=a;_t.isDocumentKey(u)||(u=u.child(""));const d=new Ue(new _t(u),0);let g=new Me(jt);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(n.mutations,(l=>{const u=new Ue(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new Ue(n,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class E2{constructor(t){this.ri=t,this.docs=(function(){return new ue(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let a=ns();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let u=ns();const d=n.path,g=new _t(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||$R(XR(E),a)<=0||(l.has(E.key)||dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,a,l){Et(9500)}ii(t,n){return W.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new S2(this)}getSize(t){return W.resolve(this.size)}}class S2 extends m2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class A2{constructor(t){this.persistence=t,this.si=new Ga((n=>Pm(n)),zm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Jr.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Jr(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,a){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return W.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),W.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return W.resolve(a)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class _E{constructor(t,n){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new v2,this.referenceDelegate=t(this),this.Pi=new A2(this),this.indexManager=new o2,this.remoteDocumentCache=(function(l){return new E2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new a2(n),this.Ii=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new T2(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){ut("MemoryPersistence","Starting transaction:",t);const l=new b2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class b2 extends ZR{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),W.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=_t.fromPath(a);return this.gi(t,l).next((u=>{u||n.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.pi=new Ga((a=>eI(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=d2(this,n)}static mi(t,n){return new Zc(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((a,l)=>this.br(t,a,l).next((u=>u?W.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(a++,u.removeEntry(d,bt.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xc(t.data.value)),n}br(t,n,a){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=Ut(),l=Ut();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Km(t,n.fromCache,a,l)}}class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pb()?8:WR(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new w2;return this.Ss(t,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>u.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(Ur()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Lr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ur()<=kt.DEBUG&&ut("QueryEngine","Query:",Lr(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ur()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Lr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(n))):W.resolve())}ys(t,n){if(Qv(n))return W.resolve(null);let a=bi(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=rm(n,null,"F"),a=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const d=Ut(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,d,y.readTime)?this.ys(t,rm(n,null,"F")):this.vs(t,p,n,y)}))))})))))}ws(t,n,a,l){return Qv(n)||l.isEqual(bt.min())?W.resolve(null):this.ps.getDocuments(t,a).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,l)?W.resolve(null):(Ur()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Lr(n)),this.vs(t,d,n,KR(l,Il)).next((g=>g)))}))}Ds(t,n){let a=new Me($T(t));return n.forEach(((l,u)=>{dh(t,u)&&(a=a.add(u))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,a){return Ur()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Lr(n)),this.ps.getDocumentsMatchingQuery(t,n,Ks.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Xm="LocalStore",I2=3e8;class C2{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ue(jt),this.xs=new Ga((u=>Pm(u)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function N2(s,t,n,a){return new C2(s,t,n,a)}async function vE(s,t){const n=Rt(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let y=Ut();for(const p of l){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(a,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function D2(s,t){const n=Rt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const b=p.batch,C=b.keys();let j=W.resolve();return C.forEach((G=>{j=j.next((()=>E.getEntry(y,G))).next((Z=>{const K=p.docVersions.get(G);Yt(K!==null,48541),Z.version.compareTo(K)<0&&(b.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),E.addEntry(Z)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(n,a,t,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ut();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function TE(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function O2(s,t){const n=Rt(s),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((E,b)=>{const C=l.get(b);if(!C)return;g.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let j=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(Ye.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),l=l.insert(b,j),(function(Z,K,lt){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=I2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(C,j,E)&&g.push(n.Pi.updateTargetData(u,j))}));let y=ns(),p=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),g.push(x2(u,d,t.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!a.isEqual(bt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(E)}return W.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function x2(s,t,n){let a=Ut(),l=Ut();return n.forEach((u=>a=a.add(u))),t.getEntries(s,a).next((u=>{let d=ns();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ut(Xm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function M2(s,t){const n=Rt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=jm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function V2(s,t){const n=Rt(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((u=>u?(l=u,W.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function hm(s,t,n){const a=Rt(s),l=a.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;ut(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function a0(s,t,n){const a=Rt(s);let l=bt.min(),u=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const b=Rt(y),C=b.xs.get(E);return C!==void 0?W.resolve(b.Ms.get(C)):b.Pi.getTargetData(p,E)})(a,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,n?l:bt.min(),n?u:Ut()))).next((g=>(k2(a,TI(t),g),{documents:g,Qs:u})))))}function k2(s,t,n){let a=s.Os.get(t)||bt.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Os.set(t,a)}class r0{constructor(){this.activeTargetIds=RI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j2{constructor(){this.Mo=new r0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new r0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class U2{Oo(t){}shutdown(){}}const o0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(o0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(o0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function fm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const Bd="RestConnection",L2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,u){const d=fm(),g=this.zo(t,n.toUriEncodedString());ut(Bd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),E=Wr(p);return this.Jo(t,g,y,a,E).then((b=>(ut(Bd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Yr(Bd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,n,a,l,u,d){return this.Go(t,n,a,l,u)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const a=L2[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class z2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class B2 extends P2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,u){const d=fm();return new Promise(((g,y)=>{const p=new AT;p.setWithCredentials(!0),p.listenOnce(bT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Oc.NO_ERROR:const b=p.getResponseJson();ut(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Oc.TIMEOUT:ut(Xe,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const C=p.getStatus();if(ut(Xe,`RPC '${t}' ${d} failed with status:`,C,"response text:",p.getResponseText()),C>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const Z=(function(lt){const ft=lt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ft)>=0?ft:$.UNKNOWN})(G.status);y(new ot(Z,G.message))}else y(new ot($.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ut(Xe,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ut(Xe,`RPC '${t}' ${d} sending request:`,l),p.send(n,"POST",E,a,15)}))}T_(t,n,a){const l=fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=IT(),g=RT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const E=u.join("");ut(Xe,`Creating RPC '${t}' stream ${l}: ${E}`,y);const b=d.createWebChannel(E,y);this.I_(b);let C=!1,j=!1;const G=new z2({Yo:K=>{j?ut(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(C||(ut(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),C=!0),ut(Xe,`RPC '${t}' stream ${l} sending:`,K),b.send(K))},Zo:()=>b.close()}),Z=(K,lt,ft)=>{K.listen(lt,(et=>{try{ft(et)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return Z(b,gl.EventType.OPEN,(()=>{j||(ut(Xe,`RPC '${t}' stream ${l} transport opened.`),G.o_())})),Z(b,gl.EventType.CLOSE,(()=>{j||(j=!0,ut(Xe,`RPC '${t}' stream ${l} transport closed`),G.a_(),this.E_(b))})),Z(b,gl.EventType.ERROR,(K=>{j||(j=!0,Yr(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),G.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),Z(b,gl.EventType.MESSAGE,(K=>{if(!j){const lt=K.data[0];Yt(!!lt,16349);const ft=lt,et=ft?.error||ft[0]?.error;if(et){ut(Xe,`RPC '${t}' stream ${l} received error:`,et);const dt=et.status;let it=(function(I){const O=Ie[I];if(O!==void 0)return oE(O)})(dt),tt=et.message;it===void 0&&(it=$.INTERNAL,tt="Unknown error status: "+dt+" with message "+et.message),j=!0,G.a_(new ot(it,tt)),b.close()}else ut(Xe,`RPC '${t}' stream ${l} received:`,lt),G.u_(lt)}})),Z(g,wT.STAT_EVENT,(K=>{K.stat===Wd.PROXY?ut(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Wd.NOPROXY&&ut(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function qd(){return typeof document<"u"?document:null}function yh(s){return new GI(s,!0)}class EE{constructor(t,n,a=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const u0="PersistentStream";class SE{constructor(t,n,a,l,u,d,g,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(u0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ut(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q2 extends SE{constructor(t,n,a,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=KI(this.serializer,t),a=(function(u){if(!("targetChange"in u))return bt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?wi(d.readTime):bt.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=cm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=sm(y)?{documents:JI(u,y)}:{query:ZI(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=cE(u,d.resumeToken);const p=om(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=Jc(u,d.snapshotVersion.toTimestamp());const p=om(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const a=t2(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=cm(this.serializer),n.removeTarget=t,this.q_(n)}}class H2 extends SE{constructor(t,n,a,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=$I(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>XI(this.serializer,a)))};this.q_(n)}}class F2{}class G2 extends F2{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,lm(n,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot($.UNKNOWN,u.toString())}))}Ho(t,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,lm(n,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fa="RemoteStore";class Y2{constructor(t,n,a,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qa(this)&&(ut(Fa,"Restarting streams for network reachability change."),await(async function(y){const p=Rt(y);p.Ea.add(4),await ql(p),p.Ra.set("Unknown"),p.Ea.delete(4),await _h(p)})(this))}))})),this.Ra=new Q2(a,l)}}async function _h(s){if(Qa(s))for(const t of s.da)await t(!0)}async function ql(s){for(const t of s.da)await t(!1)}function AE(s,t){const n=Rt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Wm(n)?Zm(n):ro(n).O_()&&Jm(n,t))}function $m(s,t){const n=Rt(s),a=ro(n);n.Ia.delete(t),a.O_()&&bE(n,t),n.Ia.size===0&&(a.O_()?a.L_():Qa(n)&&n.Ra.set("Unknown"))}function Jm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ro(s).Y_(t)}function bE(s,t){s.Va.Ue(t),ro(s).Z_(t)}function Zm(s){s.Va=new BI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.Ra.ua()}function Wm(s){return Qa(s)&&!ro(s).x_()&&s.Ia.size>0}function Qa(s){return Rt(s).Ea.size===0}function wE(s){s.Va=void 0}async function K2(s){s.Ra.set("Online")}async function X2(s){s.Ia.forEach(((t,n)=>{Jm(s,t)}))}async function $2(s,t){wE(s),Wm(s)?(s.Ra.ha(t),Zm(s)):s.Ra.set("Unknown")}async function J2(s,t,n){if(s.Ra.set("Online"),t instanceof uE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(a){ut(Fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Wc(s,a)}else if(t instanceof kc?s.Va.Ze(t):t instanceof lE?s.Va.st(t):s.Va.tt(t),!n.isEqual(bt.min()))try{const a=await TE(s.localStore);n.compareTo(a)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),bE(u,y);const b=new qs(E.target,y,p,E.sequenceNumber);Jm(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(a){ut(Fa,"Failed to raise snapshot:",a),await Wc(s,a)}}async function Wc(s,t,n){if(!so(t))throw t;s.Ea.add(1),await ql(s),s.Ra.set("Offline"),n||(n=()=>TE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(Fa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await _h(s)}))}function RE(s,t){return t().catch((n=>Wc(s,n,t)))}async function vh(s){const t=Rt(s),n=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;Z2(t);)try{const l=await M2(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,W2(t,l)}catch(l){await Wc(t,l)}IE(t)&&CE(t)}function Z2(s){return Qa(s)&&s.Ta.length<10}function W2(s,t){s.Ta.push(t);const n=Zs(s);n.O_()&&n.X_&&n.ea(t.mutations)}function IE(s){return Qa(s)&&!Zs(s).x_()&&s.Ta.length>0}function CE(s){Zs(s).start()}async function tC(s){Zs(s).ra()}async function eC(s){const t=Zs(s);for(const n of s.Ta)t.ea(n.mutations)}async function nC(s,t,n){const a=s.Ta.shift(),l=Hm.from(a,t,n);await RE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await vh(s)}async function iC(s,t){t&&Zs(s).X_&&await(async function(a,l){if((function(d){return LI(d)&&d!==$.ABORTED})(l.code)){const u=a.Ta.shift();Zs(a).B_(),await RE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await vh(a)}})(s,t),IE(s)&&CE(s)}async function c0(s,t){const n=Rt(s);n.asyncQueue.verifyOperationInProgress(),ut(Fa,"RemoteStore received new credentials");const a=Qa(n);n.Ea.add(3),await ql(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _h(n)}async function sC(s,t){const n=Rt(s);t?(n.Ea.delete(2),await _h(n)):t||(n.Ea.add(2),await ql(n),n.Ra.set("Unknown"))}function ro(s){return s.ma||(s.ma=(function(n,a,l){const u=Rt(n);return u.sa(),new q2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:K2.bind(null,s),t_:X2.bind(null,s),r_:$2.bind(null,s),H_:J2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Wm(s)?Zm(s):s.Ra.set("Unknown")):(await s.ma.stop(),wE(s))}))),s.ma}function Zs(s){return s.fa||(s.fa=(function(n,a,l){const u=Rt(n);return u.sa(),new H2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:tC.bind(null,s),r_:iC.bind(null,s),ta:eC.bind(null,s),na:nC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await vh(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(Fa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(t,n,a,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,u){const d=Date.now()+a,g=new tg(t,n,d,l,u);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(s,t){if(es("AsyncQueue",`${t}: ${s}`),so(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Fr{static emptySet(t){return new Fr(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||_t.comparator(n.key,a.key):(n,a)=>_t.comparator(n.key,a.key),this.keyedMap=pl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Fr;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class h0{constructor(){this.ga=new ue(_t.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class Zr{constructor(t,n,a,l,u,d,g,y,p){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,n,a,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new Zr(t,n,Fr.emptySet(n),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class aC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rC{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Rt(n),u=l.queries;l.queries=f0(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function f0(){return new Ga((s=>XT(s)),fh)}async function ng(s,t){const n=Rt(s);let a=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(a=2):(u=new aC,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=eg(d,`Initialization of query '${Lr(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&sg(n)}async function ig(s,t){const n=Rt(s),a=t.query;let l=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function oC(s,t){const n=Rt(s);let a=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&sg(n)}function lC(s,t,n){const a=Rt(s),l=a.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(t)}function sg(s){s.Ca.forEach((t=>{t.next()}))}var dm,d0;(d0=dm||(dm={})).Ma="default",d0.Cache="cache";class ag{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Zr(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Zr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class NE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class uC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=$T(t),this.tu=new Fr(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new h0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,b)=>{const C=l.get(E),j=dh(this.query,b)?b:null,G=!!C&&this.mutatedKeys.has(C.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let K=!1;C&&j?C.data.isEqual(j.data)?G!==Z&&(a.track({type:3,doc:j}),K=!0):this.su(C,j)||(a.track({type:2,doc:j}),K=!0,(y&&this.eu(j,y)>0||p&&this.eu(j,p)<0)&&(g=!0)):!C&&j?(a.track({type:0,doc:j}),K=!0):C&&!j&&(a.track({type:1,doc:C}),K=!0,(y||p)&&(g=!0)),K&&(j?(d=d.add(j),u=Z?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,b)=>(function(j,G){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:K})}};return Z(j)-Z(G)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Zr(this.query,t.tu,u,d,t.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new DE(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new NE(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class cC{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class hC{constructor(t){this.key=t,this.hu=!1}}class fC{constructor(t,n,a,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ga((g=>XT(g)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(_t.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Jr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dC(s,t,n=!0){const a=jE(s);let l;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await OE(a,t,n,!0),l}async function mC(s,t){const n=jE(s);await OE(n,t,!0,!1)}async function OE(s,t,n,a){const l=await V2(s.localStore,bi(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await gC(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&AE(s.remoteStore,l),g}async function gC(s,t,n,a,l){s.pu=(b,C,j)=>(async function(Z,K,lt,ft){let et=K.view.ru(lt);et.Cs&&(et=await a0(Z.localStore,K.query,!1).then((({documents:N})=>K.view.ru(N,et))));const dt=ft&&ft.targetChanges.get(K.targetId),it=ft&&ft.targetMismatches.get(K.targetId)!=null,tt=K.view.applyChanges(et,Z.isPrimaryClient,dt,it);return g0(Z,K.targetId,tt.au),tt.snapshot})(s,b,C,j);const u=await a0(s.localStore,t,!0),d=new uC(t,u.Qs),g=d.ru(u.documents),y=Bl.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);g0(s,n,p.au);const E=new cC(t,n,d);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),p.snapshot}async function pC(s,t,n){const a=Rt(s),l=a.Tu.get(t),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&$m(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(io)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function yC(s,t){const n=Rt(s),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),$m(n.remoteStore,a.targetId))}async function _C(s,t,n){const a=wC(s);try{const l=await(function(d,g){const y=Rt(d),p=ae.now(),E=g.reduce(((j,G)=>j.add(G.key)),Ut());let b,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=ns(),Z=Ut();return y.Ns.getEntries(j,E).next((K=>{G=K,G.forEach(((lt,ft)=>{ft.isValidDocument()||(Z=Z.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,G))).next((K=>{b=K;const lt=[];for(const ft of g){const et=MI(ft,b.get(ft.key).overlayedDocument);et!=null&&lt.push(new ea(ft.key,et,BT(et.value.mapValue),Un.exists(!0)))}return y.mutationQueue.addMutationBatch(j,p,lt,g)})).next((K=>{C=K;const lt=K.applyToLocalDocumentSet(b,Z);return y.documentOverlayCache.saveOverlays(j,K.batchId,lt)}))})).then((()=>({batchId:C.batchId,changes:ZT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ue(jt)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(a,l.batchId,n),await Hl(a,l.changes),await vh(a.remoteStore)}catch(l){const u=eg(l,"Failed to persist write");n.reject(u)}}async function xE(s,t){const n=Rt(s);try{const a=await O2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Hl(n,a,t)}catch(a){await io(a)}}function m0(s,t,n){const a=Rt(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Rt(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,b)=>{for(const C of b.Sa)C.va(g)&&(p=!0)})),p&&sg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function vC(s,t,n){const a=Rt(s);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),u=l&&l.key;if(u){let d=new ue(_t.comparator);d=d.insert(u,Je.newNoDocument(u,bt.min()));const g=Ut().add(u),y=new ph(bt.min(),new Map,new ue(jt),d,g);await xE(a,y),a.du=a.du.remove(u),a.Au.delete(t),og(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,n))).catch(io)}async function TC(s,t){const n=Rt(s),a=t.batch.batchId;try{const l=await D2(n.localStore,t);VE(n,a,null),ME(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Hl(n,l)}catch(l){await io(l)}}async function EC(s,t,n){const a=Rt(s);try{const l=await(function(d,g){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((b=>(Yt(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(p,b)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(a.localStore,t);VE(a,t,n),ME(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Hl(a,l)}catch(l){await io(l)}}function ME(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function VE(s,t,n){const a=Rt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function mm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||kE(s,a)}))}function kE(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&($m(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),og(s))}function g0(s,t,n){for(const a of n)a instanceof NE?(s.Ru.addReference(a.key,t),SC(s,a)):a instanceof DE?(ut(rg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||kE(s,a.key)):Et(19791,{wu:a})}function SC(s,t){const n=t.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(ut(rg,"New document in limbo: "+n),s.Eu.add(a),og(s))}function og(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new _t(ne.fromString(t)),a=s.fu.next();s.Au.set(a,new hC(n)),s.du=s.du.insert(n,a),AE(s.remoteStore,new qs(bi(hh(n.path)),a,"TargetPurposeLimboResolution",lh.ce))}}async function Hl(s,t,n){const a=Rt(s),l=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,n).then((p=>{if((p||n)&&a.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){l.push(p);const E=Km.As(y.targetId,p);u.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,p){const E=Rt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(p,(C=>W.forEach(C.Es,(j=>E.persistence.referenceDelegate.addReference(b,C.targetId,j))).next((()=>W.forEach(C.ds,(j=>E.persistence.referenceDelegate.removeReference(b,C.targetId,j)))))))))}catch(b){if(!so(b))throw b;ut(Xm,"Failed to update sequence numbers: "+b)}for(const b of p){const C=b.targetId;if(!b.fromCache){const j=E.Ms.get(C),G=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(C,Z)}}})(a.localStore,u))}async function AC(s,t){const n=Rt(s);if(!n.currentUser.isEqual(t)){ut(rg,"User change. New user:",t.toKey());const a=await vE(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new ot($.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hl(n,a.Ls)}}function bC(s,t){const n=Rt(s),a=n.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function jE(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vC.bind(null,t),t.Pu.H_=oC.bind(null,t.eventManager),t.Pu.yu=lC.bind(null,t.eventManager),t}function wC(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EC.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return N2(this.persistence,new R2,t.initialUser,this.serializer)}Cu(t){return new _E(Ym.mi,this.serializer)}Du(t){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class RC extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new h2(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new _E((a=>Zc.mi(a,n)),this.serializer)}}class gm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>m0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await sC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rC})()}createDatastore(t){const n=yh(t.databaseInfo.databaseId),a=(function(u){return new B2(u)})(t.databaseInfo);return(function(u,d,g,y){return new G2(u,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,u,d,g){return new Y2(a,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>m0(this.syncEngine,n,0)),(function(){return l0.v()?new l0:new U2})())}createSyncEngine(t,n){return(function(l,u,d,g,y,p,E){const b=new fC(l,u,d,g,y,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Rt(n);ut(Fa,"RemoteStore shutting down."),a.Ea.add(5),await ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class lg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ws="FirestoreClient";class IC{constructor(t,n,a,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ut(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=eg(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),ut(Ws,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await vE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function p0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await CC(s);ut(Ws,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((a=>c0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>c0(t.remoteStore,l))),s._onlineComponents=t}async function CC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(Ws,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Yr("Error using user provided cache. Falling back to memory cache: "+n),await Hd(s,new th)}}else ut(Ws,"Using default OfflineComponentProvider"),await Hd(s,new RC(void 0));return s._offlineComponents}async function UE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(Ws,"Using user provided OnlineComponentProvider"),await p0(s,s._uninitializedComponentsProvider._online)):(ut(Ws,"Using default OnlineComponentProvider"),await p0(s,new gm))),s._onlineComponents}function NC(s){return UE(s).then((t=>t.syncEngine))}async function eh(s){const t=await UE(s),n=t.eventManager;return n.onListen=dC.bind(null,t.syncEngine),n.onUnlisten=pC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yC.bind(null,t.syncEngine),n}function DC(s,t,n={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const E=new lg({next:C=>{E.Nu(),d.enqueueAndForget((()=>ig(u,b)));const j=C.docs.has(g);!j&&C.fromCache?p.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&y&&y.source==="server"?p.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),b=new ag(hh(g.path),E,{includeMetadataChanges:!0,qa:!0});return ng(u,b)})(await eh(s),s.asyncQueue,t,n,a))),a.promise}function OC(s,t,n={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const E=new lg({next:C=>{E.Nu(),d.enqueueAndForget((()=>ig(u,b))),C.fromCache&&y.source==="server"?p.reject(new ot($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),b=new ag(g,E,{includeMetadataChanges:!0,qa:!0});return ng(u,b)})(await eh(s),s.asyncQueue,t,n,a))),a.promise}function LE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const y0=new Map;const PE="firestore.googleapis.com",_0=!0;class v0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PE,this.ssl=_0}else this.host=t.host,this.ssl=t.ssl??_0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<u2)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new UR;switch(a.type){case"firstParty":return new BR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=y0.get(n);a&&(ut("ComponentProvider","Removing Datastore"),y0.delete(n),a.terminate())})(this),Promise.resolve()}}function xC(s,t,n,a={}){s=fn(s,Th);const l=Wr(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(L0(`https://${g}`),P0("Firestore",!0)),u.host!==PE&&u.host!==g&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:a};if(!za(y,d)&&(s._setSettings(y),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=$e.MOCK_USER;else{p=ob(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(b)}s._authCredentials=new LR(new NT(p,E))}}class na{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class fe{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fe(this.firestore,t,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Pl(n,fe._jsonSchema))return new fe(t,a||null,new _t(ne.fromString(n.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:Ne("string",fe._jsonSchemaVersion),referencePath:Ne("string")};class Ys extends na{constructor(t,n,a){super(t,n,hh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fe(this.firestore,null,new _t(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function ug(s,t,...n){if(s=Le(s),DT("collection","path",t),s instanceof Th){const a=ne.fromString(t,...n);return xv(a),new Ys(s,null,a)}{if(!(s instanceof fe||s instanceof Ys))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...n));return xv(a),new Ys(s.firestore,null,a)}}function oo(s,t,...n){if(s=Le(s),arguments.length===1&&(t=km.newId()),DT("doc","path",t),s instanceof Th){const a=ne.fromString(t,...n);return Ov(a),new fe(s,null,new _t(a))}{if(!(s instanceof fe||s instanceof Ys))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...n));return Ov(a),new fe(s.firestore,s instanceof Ys?s.converter:null,new _t(a))}}const T0="AsyncQueue";class E0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EE(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&ut(T0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;ut(T0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",S0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=tg.createAndSchedule(this,t,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function S0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function A0(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class is extends Th{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new E0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E0(t),this._firestoreClient=void 0,await t}}}function MC(s,t){const n=typeof s=="object"?s:H0(),a=typeof s=="string"?s:Qc,l=Am(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=ab("firestore");u&&xC(l,...u)}return l}function Eh(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||VC(s),s._firestoreClient}function VC(s){const t=s._freezeSettings(),n=(function(l,u,d,g){return new sI(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,LE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new IC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ye.fromBase64String(t))}catch(n){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ne("string",jn._jsonSchemaVersion),bytes:Ne("string")};class Sh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cg{constructor(t){this._methodName=t}}class Ri{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ne("string",Ri._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Ii{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ii(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ne("string",Ii._jsonSchemaVersion),vectorValues:Ne("object")};const kC=/^__.*__$/;class jC{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,n,this.fieldTransforms):new zl(t,this.data,n,this.fieldTransforms)}}class zE{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new ea(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function BE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class hg{constructor(t,n,a,l,u,d){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BE(this.Ac)&&kC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class UC{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||yh(t)}Cc(t,n,a,l=!1){return new hg({Ac:t,methodName:n,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ah(s){const t=s._freezeSettings(),n=yh(s._databaseId);return new UC(s._databaseId,!!t.ignoreUndefinedProperties,n)}function qE(s,t,n,a,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,n,l);fg("Data must be an object, but it was:",d,a);const g=HE(a,d);let y,p;if(u.merge)y=new Sn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=pm(t,b,n);if(!d.contains(C))throw new ot($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);GE(E,C)||E.push(C)}y=new Sn(E),p=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,p=d.fieldTransforms;return new jC(new hn(g),y,p)}class bh extends cg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function LC(s,t,n,a){const l=s.Cc(1,t,n);fg("Data must be an object, but it was:",l,a);const u=[],d=hn.empty();ta(a,((y,p)=>{const E=dg(t,y,n);p=Le(p);const b=l.yc(E);if(p instanceof bh)u.push(E);else{const C=Fl(p,b);C!=null&&(u.push(E),d.set(E,C))}}));const g=new Sn(u);return new zE(d,g,l.fieldTransforms)}function PC(s,t,n,a,l,u){const d=s.Cc(1,t,n),g=[pm(t,a,n)],y=[l];if(u.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)g.push(pm(t,u[C])),y.push(u[C+1]);const p=[],E=hn.empty();for(let C=g.length-1;C>=0;--C)if(!GE(p,g[C])){const j=g[C];let G=y[C];G=Le(G);const Z=d.yc(j);if(G instanceof bh)p.push(j);else{const K=Fl(G,Z);K!=null&&(p.push(j),E.set(j,K))}}const b=new Sn(p);return new zE(E,b,d.fieldTransforms)}function zC(s,t,n,a=!1){return Fl(n,s.Cc(a?4:3,t))}function Fl(s,t){if(FE(s=Le(s)))return fg("Unsupported field value:",t,s),HE(s,t);if(s instanceof cg)return(function(a,l){if(!BE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let y=Fl(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,t)}return(function(a,l){if((a=Le(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return II(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ae.fromDate(a);return{timestampValue:Jc(l.serializer,u)}}if(a instanceof ae){const u=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,u)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:cE(l.serializer,a._byteString)};if(a instanceof fe){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,g){return{mapValue:{fields:{[PT]:{stringValue:zT},[Yc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${oh(a)}`)})(s,t)}function HE(s,t){const n={};return MT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(s,((a,l)=>{const u=Fl(l,t.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof Ri||s instanceof jn||s instanceof fe||s instanceof cg||s instanceof Ii)}function fg(s,t,n){if(!FE(n)||!OT(n)){const a=oh(n);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function pm(s,t,n){if((t=Le(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return dg(s,t);throw nh("Field path arguments must be of type string or ",s,!1,void 0,n)}const BC=new RegExp("[~\\*/\\[\\]]");function dg(s,t,n){if(t.search(BC)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Sh(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function nh(s,t,n,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ot($.INVALID_ARGUMENT,g+s+y)}function GE(s,t){return s.some((n=>n.isEqual(t)))}class QE{constructor(t,n,a,l,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qC extends QE{data(){return super.data()}}function mg(s,t){return typeof t=="string"?dg(s,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function YE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class KE extends gg{}function XE(s,t,...n){let a=[];t instanceof gg&&a.push(t),a=a.concat(n),(function(u){const d=u.filter((y=>y instanceof yg)).length,g=u.filter((y=>y instanceof pg)).length;if(d>1||d>0&&g>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class pg extends KE{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new pg(t,n,a)}_apply(t){const n=this._parse(t);return JE(t._query,n),new na(t.firestore,t.converter,am(t._query,n))}_parse(t){const n=Ah(t.firestore);return(function(u,d,g,y,p,E,b){let C;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){w0(b,E);const G=[];for(const Z of b)G.push(b0(y,u,Z));C={arrayValue:{values:G}}}else C=b0(y,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||w0(b,E),C=zC(g,d,b,E==="in"||E==="not-in");return Ce.create(p,E,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class yg extends gg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new yg(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)JE(d,y),d=am(d,y)})(t._query,n),new na(t.firestore,t.converter,am(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _g extends KE{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new _g(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(u,d)})(t._query,this._field,this._direction);return new na(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function $E(s,t="asc"){const n=t,a=mg("orderBy",s);return _g._create(a,n)}function b0(s,t,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(t)&&n.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(ne.fromString(n));if(!_t.isDocumentKey(a))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return zv(s,new _t(a))}if(n instanceof fe)return zv(s,n._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function w0(s,t){if(!Array.isArray(s)||s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JE(s,t){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class HC{convertValue(t,n="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return ta(t,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(t){const n=t.fields?.[Yc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ii(n)}convertGeoPoint(t){return new Ri(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const n=Xs(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=ne.fromString(t);Yt(pE(a),9688,{name:t});const l=new Nl(a.get(1),a.get(3)),u=new _t(a.popFirst(5));return l.isEqual(n)||es(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function ZE(s,t,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,a}class _l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class La extends QE{constructor(t,n,a,l,u,d){super(t,n,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(mg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Ne("string",La._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class jc extends La{data(t={}){return super.data(t)}}class Pa{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new jc(this._firestore,this._userDataWriter,a.key,a,new _l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:FC(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}function GC(s){s=fn(s,fe);const t=fn(s.firestore,is);return DC(Eh(t),s._key).then((n=>eS(t,s,n)))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:Ne("string",Pa._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class vg extends HC{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fe(this.firestore,null,n)}}function QC(s){s=fn(s,na);const t=fn(s.firestore,is),n=Eh(t),a=new vg(t);return YE(s._query),OC(n,s._query).then((l=>new Pa(t,a,s,l)))}function WE(s,t,n){s=fn(s,fe);const a=fn(s.firestore,is),l=ZE(s.converter,t,n);return wh(a,[qE(Ah(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Un.none())])}function YC(s,t,n,...a){s=fn(s,fe);const l=fn(s.firestore,is),u=Ah(l);let d;return d=typeof(t=Le(t))=="string"||t instanceof Sh?PC(u,"updateDoc",s._key,t,n,a):LC(u,"updateDoc",s._key,t),wh(l,[d.toMutation(s._key,Un.exists(!0))])}function tS(s){return wh(fn(s.firestore,is),[new qm(s._key,Un.none())])}function KC(s,t){const n=fn(s.firestore,is),a=oo(s),l=ZE(s.converter,t);return wh(n,[qE(Ah(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then((()=>a))}function XC(s,...t){s=Le(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||A0(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(A0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let u,d,g;if(s instanceof fe)d=fn(s.firestore,is),g=hh(s._key.path),u={next:y=>{t[a]&&t[a](eS(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=fn(s,na);d=fn(y.firestore,is),g=y._query;const p=new vg(d);u={next:E=>{t[a]&&t[a](new Pa(d,p,y,E))},error:t[a+1],complete:t[a+2]},YE(s._query)}return(function(p,E,b,C){const j=new lg(C),G=new ag(E,j,b);return p.asyncQueue.enqueueAndForget((async()=>ng(await eh(p),G))),()=>{j.Nu(),p.asyncQueue.enqueueAndForget((async()=>ig(await eh(p),G)))}})(Eh(d),g,l,u)}function wh(s,t){return(function(a,l){const u=new Zi;return a.asyncQueue.enqueueAndForget((async()=>_C(await NC(a),l,u))),u.promise})(Eh(s),t)}function eS(s,t,n){const a=n.docs.get(t._key),l=new vg(s);return new La(s,l,t._key,a,new _l(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){no=l})(to),Gr(new Ba("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new is(new PR(a.getProvider("auth-internal")),new qR(d,a.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(p.options.projectId,E)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Gs(Iv,Cv,t),Gs(Iv,Cv,"esm2020")})();const $C={apiKey:"AIzaSyA4Dg6dUSUljW3lRZGMndbzSnsbcwkEuv8",authDomain:"studyapp-28e08.firebaseapp.com",projectId:"studyapp-28e08",storageBucket:"studyapp-28e08.firebasestorage.app",messagingSenderId:"929036775806",appId:"1:929036775806:web:50c21242a761566e31c32f"},nS=q0($C),Fd=kR(nS),JC=new Xi,Rh=MC(nS);function R0({onAuthChange:s}){const[t,n]=Tt.useState(null),[a,l]=Tt.useState(!0);Tt.useEffect(()=>{const g=Aw(Fd,y=>{n(y),l(!1),s&&s(y)});return()=>g()},[s]);const u=async()=>{try{await Fw(Fd,JC)}catch(g){console.error("Error signing in with Google:",g),alert(": "+g.message)}},d=async()=>{try{await bw(Fd)}catch(g){console.error("Error signing out:",g),alert(": "+g.message)}};return a?T.jsx("div",{className:"auth-container",children:T.jsx("div",{className:"auth-loading",children:"..."})}):t?T.jsxs("div",{className:"auth-user-info",children:[T.jsxs("div",{className:"user-profile",children:[t.photoURL&&T.jsx("img",{src:t.photoURL,alt:"Profile",className:"user-avatar"}),T.jsx("span",{className:"user-name",children:t.displayName||t.email})]}),T.jsx("button",{onClick:d,className:"signout-btn",children:""})]}):T.jsx("div",{className:"auth-container",children:T.jsxs("div",{className:"auth-card",children:[T.jsx("h2",{children:" SAPIX "}),T.jsxs("p",{className:"auth-description",children:["Google",T.jsx("br",{}),""]}),T.jsxs("button",{onClick:u,className:"google-signin-btn",children:[T.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[T.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),T.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),T.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),T.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})]}),"Google"]})]})})}function ZC({tasks:s,onToggleTask:t,onDeleteTask:n,onEditTask:a}){const[l,u]=Tt.useState("today");function d(C){const j=C.getFullYear(),G=String(C.getMonth()+1).padStart(2,"0"),Z=String(C.getDate()).padStart(2,"0");return`${j}-${G}-${Z}`}function g(){const C=d(new Date);return s.filter(j=>j.dueDate===C)}const y={:"",:"",:"",:""},p={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},E=g(),b=C=>{u(l===C?null:C)};return T.jsx("div",{className:"today-week-view",children:T.jsxs("div",{className:"priority-section today-section",children:[T.jsxs("div",{className:"section-header",onClick:()=>b("today"),children:[T.jsxs("h2",{children:[" ",T.jsxs("span",{className:"task-count",children:[E.filter(C=>!C.completed).length," / ",E.length]})]}),T.jsx("span",{className:"toggle-icon",children:l==="today"?"":""})]}),l==="today"&&T.jsx("div",{className:"task-grid",children:E.length===0?T.jsx("div",{className:"no-tasks-message",children:""}):E.map(C=>{const j=p[C.subject]||"#64748b";return T.jsxs("div",{className:`priority-task ${C.completed?"completed":""}`,style:{borderColor:j,backgroundColor:`${j}15`,boxShadow:`0 2px 8px ${j}25`},children:[T.jsx("input",{type:"checkbox",checked:C.completed,onChange:()=>t(C.id),className:"task-checkbox"}),T.jsx("span",{className:"subject-emoji",children:y[C.subject]}),T.jsx("span",{className:"subject-badge",style:{color:j},children:C.subject}),T.jsx("span",{className:"task-title",children:C.title}),C.priority&&T.jsx("span",{className:"task-priority-badge",children:C.priority}),T.jsxs("div",{className:"task-actions",children:[a&&T.jsx("button",{className:"edit-btn",onClick:()=>a(C),title:"",children:""}),T.jsx("button",{className:"delete-btn",onClick:()=>n(C.id),title:"",children:""})]})]},C.id)})})]})})}const WC="modulepreload",tN=function(s){return"/New_Repository/"+s},I0={},eN=function(t,n,a){let l=Promise.resolve();if(n&&n.length>0){let p=function(E){return Promise.all(E.map(b=>Promise.resolve(b).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var d=p;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");l=p(n.map(E=>{if(E=tN(E),E in I0)return;I0[E]=!0;const b=E.endsWith(".css"),C=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${C}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":WC,b||(j.as="script"),j.crossOrigin="",j.href=E,y&&j.setAttribute("nonce",y),document.head.appendChild(j),b)return new Promise((G,Z)=>{j.addEventListener("load",G),j.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return l.then(g=>{for(const y of g||[])y.status==="rejected"&&u(y.reason);return t().catch(u)})},ym={:{"3":[{id:"math3_01",name:"",category:""},{id:"math3_02",name:"",category:""},{id:"math3_03",name:"",category:""},{id:"math3_04",name:"",category:""},{id:"math3_05",name:"",category:""},{id:"math3_06",name:"",category:""},{id:"math3_07",name:"",category:""},{id:"math3_08",name:"",category:""},{id:"math3_09",name:"",category:""},{id:"math3_10",name:"",category:""},{id:"math3_11",name:"",category:""},{id:"math3_12",name:"",category:""}],"4":[{id:"math4_01",name:"",category:""},{id:"math4_02",name:"",category:""},{id:"math4_03",name:"",category:""},{id:"math4_04",name:"",category:""},{id:"math4_05",name:"",category:""},{id:"math4_06",name:"",category:""},{id:"math4_07",name:"",category:""},{id:"math4_08",name:"",category:""},{id:"math4_09",name:"",category:""},{id:"math4_10",name:"",category:""},{id:"math4_11",name:"",category:""},{id:"math4_12",name:"",category:""},{id:"math4_13",name:"",category:""},{id:"math4_14",name:"",category:""},{id:"math4_15",name:"",category:""}],"5":[{id:"math5_01",name:"",category:""},{id:"math5_02",name:"",category:""},{id:"math5_03",name:"",category:""},{id:"math5_04",name:"",category:""},{id:"math5_05",name:"",category:""},{id:"math5_06",name:"",category:""},{id:"math5_07",name:"",category:""},{id:"math5_08",name:"",category:""},{id:"math5_09",name:"",category:""},{id:"math5_10",name:"",category:""},{id:"math5_11",name:"",category:""},{id:"math5_12",name:"",category:""},{id:"math5_13",name:"",category:""},{id:"math5_14",name:"",category:""},{id:"math5_15",name:"N",category:""},{id:"math5_16",name:"",category:""},{id:"math5_17",name:"",category:""},{id:"math5_18",name:"",category:""}],"6":[{id:"math6_01",name:"",category:""},{id:"math6_02",name:"",category:""},{id:"math6_03",name:"",category:""},{id:"math6_04",name:"",category:""},{id:"math6_05",name:"",category:""},{id:"math6_06",name:"",category:""},{id:"math6_07",name:"",category:""},{id:"math6_08",name:"",category:""},{id:"math6_09",name:"",category:""},{id:"math6_10",name:"",category:""},{id:"math6_11",name:"",category:""},{id:"math6_12",name:"",category:""}]},:{"3":[{id:"lang3_01",name:"3",category:""},{id:"lang3_02",name:"",category:""},{id:"lang3_03",name:"",category:""},{id:"lang3_04",name:"",category:""},{id:"lang3_05",name:"",category:""},{id:"lang3_06",name:"",category:""},{id:"lang3_07",name:"",category:""},{id:"lang3_08",name:"",category:""}],"4":[{id:"lang4_01",name:"4",category:""},{id:"lang4_02",name:"",category:""},{id:"lang4_03",name:"",category:""},{id:"lang4_04",name:"",category:""},{id:"lang4_05",name:"",category:""},{id:"lang4_06",name:"",category:""},{id:"lang4_07",name:"",category:""},{id:"lang4_08",name:"",category:""},{id:"lang4_09",name:"",category:""},{id:"lang4_10",name:"",category:""}],"5":[{id:"lang5_01",name:"5",category:""},{id:"lang5_02",name:"",category:""},{id:"lang5_03",name:"",category:""},{id:"lang5_04",name:"",category:""},{id:"lang5_05",name:"",category:""},{id:"lang5_06",name:"",category:""},{id:"lang5_07",name:"",category:""},{id:"lang5_08",name:"",category:""},{id:"lang5_09",name:"",category:""},{id:"lang5_10",name:"",category:""},{id:"lang5_11",name:"",category:""}],"6":[{id:"lang6_01",name:"6",category:""},{id:"lang6_02",name:"",category:""},{id:"lang6_03",name:"",category:""},{id:"lang6_04",name:"",category:""},{id:"lang6_05",name:"",category:""},{id:"lang6_06",name:"",category:""},{id:"lang6_07",name:"",category:""},{id:"lang6_08",name:"",category:""},{id:"lang6_09",name:"",category:""},{id:"lang6_10",name:"",category:""}]},:{"3":[{id:"sci3_01",name:"",category:""},{id:"sci3_02",name:"",category:""},{id:"sci3_03",name:"",category:""},{id:"sci3_04",name:"",category:""},{id:"sci3_05",name:"",category:""},{id:"sci3_06",name:"",category:""},{id:"sci3_07",name:"",category:""},{id:"sci3_08",name:"",category:""}],"4":[{id:"sci4_01",name:"",category:""},{id:"sci4_02",name:"",category:""},{id:"sci4_03",name:"",category:""},{id:"sci4_04",name:"",category:""},{id:"sci4_05",name:"",category:""},{id:"sci4_06",name:"",category:""},{id:"sci4_07",name:"",category:""},{id:"sci4_08",name:"",category:""},{id:"sci4_09",name:"",category:""},{id:"sci4_10",name:"",category:""},{id:"sci4_11",name:"",category:""}],"5":[{id:"sci5_01",name:"",category:""},{id:"sci5_02",name:"",category:""},{id:"sci5_03",name:"",category:""},{id:"sci5_04",name:"",category:""},{id:"sci5_05",name:"",category:""},{id:"sci5_06",name:"",category:""},{id:"sci5_07",name:"",category:""},{id:"sci5_08",name:"",category:""},{id:"sci5_09",name:"",category:""},{id:"sci5_10",name:"",category:""},{id:"sci5_11",name:"",category:""},{id:"sci5_12",name:"",category:""}],"6":[{id:"sci6_01",name:"",category:""},{id:"sci6_02",name:"",category:""},{id:"sci6_03",name:"",category:""},{id:"sci6_04",name:"",category:""},{id:"sci6_05",name:"",category:""},{id:"sci6_06",name:"",category:""},{id:"sci6_07",name:"",category:""},{id:"sci6_08",name:"",category:""},{id:"sci6_09",name:"",category:""},{id:"sci6_10",name:"",category:""}]},:{"3":[{id:"soc3_01",name:"",category:""},{id:"soc3_02",name:"",category:""},{id:"soc3_03",name:"",category:""},{id:"soc3_04",name:"",category:""},{id:"soc3_05",name:"",category:""},{id:"soc3_06",name:"",category:""}],"4":[{id:"soc4_01",name:"",category:""},{id:"soc4_02",name:"",category:""},{id:"soc4_03",name:"",category:""},{id:"soc4_04",name:"",category:""},{id:"soc4_05",name:"",category:""},{id:"soc4_06",name:"",category:""},{id:"soc4_07",name:"",category:""},{id:"soc4_08",name:"",category:""},{id:"soc4_09",name:"",category:""}],"5":[{id:"soc5_01",name:"",category:""},{id:"soc5_02",name:"",category:""},{id:"soc5_03",name:"",category:""},{id:"soc5_04",name:"",category:""},{id:"soc5_05",name:"",category:""},{id:"soc5_06",name:"",category:""},{id:"soc5_07",name:"",category:""},{id:"soc5_08",name:"",category:""},{id:"soc5_09",name:"",category:""},{id:"soc5_10",name:"",category:""},{id:"soc5_11",name:"",category:""},{id:"soc5_12",name:"",category:""},{id:"soc5_13",name:"",category:""},{id:"soc5_14",name:"",category:""}],"6":[{id:"soc6_01",name:"",category:""},{id:"soc6_02",name:"",category:""},{id:"soc6_03",name:"",category:""},{id:"soc6_04",name:"",category:""},{id:"soc6_05",name:"",category:""},{id:"soc6_06",name:"",category:""},{id:"soc6_07",name:"",category:""},{id:"soc6_08",name:"",category:""},{id:"soc6_09",name:"",category:""}]}},nN=["","","",""],iS=["3","4","5","6"];function C0({onAddTask:s,onUpdateTask:t,editingTask:n,onCancelEdit:a,customUnits:l=[],onAddCustomUnit:u}){const[d,g]=Tt.useState(""),[y,p]=Tt.useState(""),[E,b]=Tt.useState("4"),[C,j]=Tt.useState(""),[G,Z]=Tt.useState("daily"),[K,lt]=Tt.useState("B"),[ft,et]=Tt.useState(""),[dt,it]=Tt.useState(!1),[tt,N]=Tt.useState(""),[I,O]=Tt.useState("");Tt.useEffect(()=>{n&&(g(n.title||""),p(n.subject||""),b(n.grade||"4"),j(n.unitId||""),Z(n.taskType||"daily"),lt(n.priority||"B"),et(n.dueDate||""))},[n]);const k=nt=>{if(nt.preventDefault(),d.trim()){const Bt=A(C),M={title:d.trim(),subject:y,grade:E,unitId:C,unit:Bt,taskType:G,priority:K,dueDate:ft||null};console.log(" /:",M),n?t(n.id,M):s(M),g(""),j(""),n&&a&&a()}},A=nt=>{if(console.log(" getUnitName:",{unitId:nt,subject:y,grade:E}),!nt)return"";const M=(ym[y]?.[E]||[]).find(rt=>rt.id===nt);if(M)return console.log(" :",M.name),M.name;console.log(" :",{customUnits:l,unitId:nt});const Y=l.find(rt=>rt.id===nt);return Y?(console.log(" :",Y.name),Y.name):(console.log(" "),"")},D=async()=>{if(!tt.trim()){alert("");return}if(!u){alert("");return}const{generateCustomUnitId:nt}=await eN(async()=>{const{generateCustomUnitId:rt}=await Promise.resolve().then(()=>IN);return{generateCustomUnitId:rt}},void 0),M={id:nt(y,E,tt),subject:y,grade:E,name:tt.trim(),category:I};console.log(" :",M);const Y=await u(M);console.log(" :",Y),Y.success?(N(""),O(""),it(!1),j(Y.data.id),alert(` ${tt}`)):alert(` : ${Y.error||""}`)},R=()=>{g(""),j(""),a&&a()},mt=[{value:"daily",label:"",emoji:""},{value:"basic",label:"",emoji:""},{value:"test",label:"",emoji:""},{value:"pastpaper",label:"",emoji:""},{value:"weakness",label:"",emoji:""}],Ft=[{value:"A",label:"A ()",color:"#ef4444"},{value:"B",label:"B ()",color:"#f59e0b"},{value:"C",label:"C ()",color:"#3b82f6"}],q=["","","",""],st=ym[y]?.[E]||[],pt=l.filter(nt=>nt.subject===y&&nt.grade===E);return[...st,...pt],Tt.useEffect(()=>{console.log(" :"),console.log("  :",l),console.log("  :",y),console.log("  :",E),console.log("  :",pt)},[l,y,E,pt]),T.jsxs("form",{className:"task-form sapix-form",onSubmit:k,children:[T.jsx("h2",{children:n?" ":" "}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group third",children:[T.jsx("label",{htmlFor:"subject",children:""}),T.jsx("select",{id:"subject",value:y,onChange:nt=>{p(nt.target.value),j("")},children:q.map(nt=>T.jsx("option",{value:nt,children:nt},nt))})]}),T.jsxs("div",{className:"form-group third",children:[T.jsx("label",{htmlFor:"grade",children:""}),T.jsx("select",{id:"grade",value:E,onChange:nt=>{b(nt.target.value),j("")},children:iS.map(nt=>T.jsx("option",{value:nt,children:nt},nt))})]}),T.jsxs("div",{className:"form-group third",children:[T.jsx("label",{htmlFor:"unit",children:""}),T.jsxs("div",{className:"unit-select-container",children:[T.jsxs("select",{id:"unit",value:C,onChange:nt=>j(nt.target.value),children:[T.jsx("option",{value:"",children:""}),st.length>0&&T.jsx("optgroup",{label:"",children:st.map(nt=>T.jsxs("option",{value:nt.id,children:[nt.name," (",nt.category,")"]},nt.id))}),pt.length>0&&T.jsx("optgroup",{label:"",children:pt.map(nt=>T.jsxs("option",{value:nt.id,children:[nt.name," (",nt.category,")"]},nt.id))})]}),T.jsx("button",{type:"button",className:"add-custom-unit-btn",onClick:()=>it(!dt),title:"",children:""})]})]})]}),dt&&T.jsxs("div",{className:"custom-unit-form",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{htmlFor:"customUnitName",children:""}),T.jsx("input",{type:"text",id:"customUnitName",value:tt,onChange:nt=>N(nt.target.value),placeholder:": 20231"})]}),T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{htmlFor:"customUnitCategory",children:""}),T.jsxs("select",{id:"customUnitCategory",value:I,onChange:nt=>O(nt.target.value),children:[T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""})]})]})]}),T.jsxs("div",{className:"custom-unit-actions",children:[T.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{it(!1),N(""),O("")},children:""}),T.jsx("button",{type:"button",className:"btn-primary",onClick:D,children:""})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"title",children:""}),T.jsx("input",{type:"text",id:"title",value:d,onChange:nt=>g(nt.target.value),placeholder:":  No.23 p.12-15",required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:""}),T.jsx("div",{className:"task-type-buttons",children:mt.map(nt=>T.jsxs("button",{type:"button",className:`type-btn ${G===nt.value?"active":""}`,onClick:()=>Z(nt.value),children:[nt.emoji," ",nt.label]},nt.value))})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{children:""}),T.jsx("div",{className:"priority-buttons",children:Ft.map(nt=>T.jsx("button",{type:"button",className:`priority-btn ${K===nt.value?"active":""}`,style:{borderColor:K===nt.value?nt.color:"#e0e0e0",backgroundColor:K===nt.value?nt.color:"white",color:K===nt.value?"white":"#333"},onClick:()=>lt(nt.value),children:nt.label},nt.value))})]}),T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{htmlFor:"dueDate",children:" "}),T.jsx("input",{type:"date",id:"dueDate",value:ft,onChange:nt=>et(nt.target.value)})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"submit",className:"submit-btn sapix-btn",children:n?" ":" "}),n&&T.jsx("button",{type:"button",className:"cancel-btn",onClick:R,children:" "})]})]})}function iN({task:s,onToggle:t,onDelete:n,onEdit:a}){const l={:"",:"",:"",:"",:"",:"",:"",:""},d={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"}[s.subject]||"#007AFF";return T.jsxs("div",{className:`task-item ${s.completed?"completed":""}`,style:{borderColor:d,backgroundColor:`${d}15`,boxShadow:`0 2px 8px ${d}25`},children:[T.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>t(s.id),className:"task-checkbox"}),T.jsx("span",{className:"subject-emoji",children:l[s.subject]}),T.jsx("span",{className:"subject-badge",style:{color:d},children:s.subject}),T.jsx("span",{className:"task-title",children:s.title}),T.jsxs("div",{className:"task-actions",children:[a&&T.jsx("button",{className:"edit-btn",onClick:()=>a(s),"aria-label":"",children:""}),T.jsx("button",{className:"delete-btn",onClick:()=>n(s.id),"aria-label":"",children:""})]})]})}function sN({tasks:s,onToggleTask:t,onDeleteTask:n,onBulkDeleteTasks:a,onEditTask:l}){const[u,d]=Tt.useState(""),[g,y]=Tt.useState("dueDate"),[p,E]=Tt.useState([]),[b,C]=Tt.useState(!1),[j,G]=Tt.useState(""),Z=[{name:"",emoji:"",color:"#64748b"},{name:"",emoji:"",color:"#10b981"},{name:"",emoji:"",color:"#ef4444"},{name:"",emoji:"",color:"#3b82f6"},{name:"",emoji:"",color:"#f59e0b"}],K=Tt.useMemo(()=>{let tt=[...s];if(j!==""&&(tt=tt.filter(N=>N.subject===j)),u.trim()){const N=u.toLowerCase();tt=tt.filter(I=>I.title.toLowerCase().includes(N)||I.subject?.toLowerCase().includes(N)||I.unit?.toLowerCase().includes(N))}return tt.sort((N,I)=>{switch(g){case"dueDate":return new Date(N.dueDate)-new Date(I.dueDate);case"subject":return(N.subject||"").localeCompare(I.subject||"");case"priority":{const O={A:0,B:1,C:2};return(O[N.priority]||3)-(O[I.priority]||3)}case"created":return new Date(I.createdAt)-new Date(N.createdAt);default:return 0}}),tt},[s,u,g,j]),lt=Tt.useMemo(()=>{const tt=s.length,N=s.filter(D=>D.completed).length,I=tt-N,O=tt>0?Math.round(N/tt*100):0,k={};s.forEach(D=>{const R=D.subject||"";k[R]||(k[R]={total:0,completed:0}),k[R].total++,D.completed&&k[R].completed++});const A={};return s.forEach(D=>{const R=D.priority||"";A[R]||(A[R]={total:0,completed:0}),A[R].total++,D.completed&&A[R].completed++}),{total:tt,completed:N,pending:I,completionRate:O,bySubject:k,byPriority:A}},[s]),ft=()=>{p.length===K.length?E([]):E(K.map(tt=>tt.id))},et=tt=>{p.includes(tt)?E(p.filter(N=>N!==tt)):E([...p,tt])},dt=()=>{window.confirm(`${p.length}`)&&(p.forEach(tt=>{const N=s.find(I=>I.id===tt);N&&!N.completed&&t(tt)}),E([]),C(!1))},it=()=>{window.confirm(`${p.length}`)&&(a?a(p):p.forEach(tt=>{n(tt)}),E([]),C(!1))};return s.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx("p",{children:" "}),T.jsx("p",{children:""})]}):T.jsxs("div",{className:"enhanced-task-list",children:[T.jsxs("div",{className:"task-statistics",children:[T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsx("div",{className:"stat-value",children:lt.total})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsx("div",{className:"stat-value",children:lt.completed})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsx("div",{className:"stat-value",children:lt.pending})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[lt.completionRate,"%"]})]})]}),T.jsx("div",{className:"subject-filter",children:Z.map(tt=>T.jsxs("button",{className:`subject-filter-btn ${j===tt.name?"active":""}`,onClick:()=>G(tt.name),children:[T.jsx("span",{className:"subject-filter-emoji",children:tt.emoji}),T.jsx("span",{children:tt.name})]},tt.name))}),T.jsxs("div",{className:"task-controls",children:[T.jsxs("div",{className:"search-box",children:[T.jsx("span",{className:"search-icon",children:""}),T.jsx("input",{type:"text",placeholder:"...",value:u,onChange:tt=>d(tt.target.value),className:"search-input"}),u&&T.jsx("button",{className:"clear-search",onClick:()=>d(""),title:"",children:""})]}),T.jsxs("div",{className:"sort-box",children:[T.jsx("label",{children:":"}),T.jsxs("select",{value:g,onChange:tt=>y(tt.target.value),className:"sort-select",children:[T.jsx("option",{value:"dueDate",children:""}),T.jsx("option",{value:"subject",children:""}),T.jsx("option",{value:"priority",children:""}),T.jsx("option",{value:"created",children:""})]})]}),T.jsx("button",{className:`bulk-mode-btn ${b?"active":""}`,onClick:()=>{C(!b),E([])},children:b?" ":" "})]}),b&&T.jsxs("div",{className:"bulk-actions-bar",children:[T.jsxs("div",{className:"bulk-select",children:[T.jsx("input",{type:"checkbox",checked:p.length===K.length&&K.length>0,onChange:ft,id:"select-all"}),T.jsxs("label",{htmlFor:"select-all",children:[" (",p.length,"/",K.length,")"]})]}),p.length>0&&T.jsxs("div",{className:"bulk-buttons",children:[T.jsxs("button",{className:"bulk-complete-btn",onClick:dt,children:["  (",p.length,")"]}),T.jsxs("button",{className:"bulk-delete-btn",onClick:it,children:["  (",p.length,")"]})]})]}),u&&T.jsxs("div",{className:"search-results-info",children:[' "',u,'" : ',K.length,""]}),T.jsx("div",{className:"task-list",children:K.length===0?T.jsxs("div",{className:"no-results",children:[T.jsx("p",{children:" "}),T.jsx("button",{onClick:()=>d(""),className:"reset-search-btn",children:""})]}):K.map(tt=>T.jsxs("div",{className:`task-item-wrapper ${b?"bulk-mode":""}`,children:[b&&T.jsx("input",{type:"checkbox",checked:p.includes(tt.id),onChange:()=>et(tt.id),className:"task-checkbox"}),T.jsx(iN,{task:tt,onToggle:t,onDelete:n,onEdit:l})]},tt.id))})]})}function aN({tasks:s,onToggleTask:t,onDeleteTask:n,onEditTask:a}){const l=()=>{if(s.length>0){const A=s.filter(D=>D.dueDate);if(A.length>0)return new Date(A[0].dueDate)}return new Date},[u,d]=Tt.useState(b(l())),[g,y]=Tt.useState("week"),[p,E]=Tt.useState(l());function b(A){const D=new Date(A),R=D.getDay(),mt=D.getDate()-R;return new Date(D.setDate(mt))}function C(A){const D=A.getFullYear(),R=String(A.getMonth()+1).padStart(2,"0"),mt=String(A.getDate()).padStart(2,"0");return`${D}-${R}-${mt}`}function j(A,D){const R=new Date(A);return R.setDate(R.getDate()+D),R}function G(){d(j(u,-7))}function Z(){d(j(u,7))}function K(){const A=new Date(p);A.setMonth(A.getMonth()-1),E(A)}function lt(){const A=new Date(p);A.setMonth(A.getMonth()+1),E(A)}function ft(){const A=new Date;d(b(A)),E(A)}function et(){E(new Date(u)),y("month")}function dt(){d(b(p)),y("week")}const it=["","","","","","",""],tt=Array.from({length:7},(A,D)=>j(u,D));function N(){const A=p.getFullYear(),D=p.getMonth(),R=new Date(A,D,1),mt=new Date(R);mt.setDate(mt.getDate()-mt.getDay());const Ft=[];let q=new Date(mt);for(;Ft.length<42;)Ft.push(new Date(q)),q.setDate(q.getDate()+1);return Ft}function I(A){const D=C(A),R=s.filter(mt=>mt.dueDate===D);return(D==="2026-02-03"||D==="2026-02-04")&&(console.log(" Debug for date:",D),console.log("Total tasks:",s.length),console.log("Tasks with dueDate:",s.filter(mt=>mt.dueDate).length),console.log("Sample task dueDates:",s.slice(0,5).map(mt=>mt.dueDate)),console.log("Filtered tasks:",R.length)),R}const O={:"",:"",:"",:""},k=C(new Date);return T.jsxs("div",{className:"weekly-calendar",children:[T.jsxs("div",{className:"calendar-header",children:[T.jsx("button",{onClick:g==="week"?G:K,className:"nav-btn",children:""}),T.jsx("div",{className:"calendar-title",children:g==="week"?T.jsxs(T.Fragment,{children:[T.jsxs("h2",{children:[" ",tt[0].getMonth()+1," "]}),T.jsxs("div",{className:"calendar-controls",children:[T.jsx("button",{onClick:ft,className:"today-btn",children:" "}),T.jsx("button",{onClick:et,className:"view-mode-btn",children:""})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("h2",{children:[" ",p.getFullYear()," ",p.getMonth()+1,""]}),T.jsxs("div",{className:"calendar-controls",children:[T.jsx("button",{onClick:ft,className:"today-btn",children:" "}),T.jsx("button",{onClick:dt,className:"view-mode-btn",children:""})]})]})}),T.jsx("button",{onClick:g==="week"?Z:lt,className:"nav-btn",children:""})]}),g==="week"?T.jsx("div",{className:"calendar-grid weekly-grid",children:tt.map((A,D)=>{const R=C(A),mt=I(A),Ft=R===k;return T.jsxs("div",{className:`calendar-day ${Ft?"today":""}`,children:[T.jsxs("div",{className:"day-header",children:[T.jsx("div",{className:"day-name",children:it[D]}),T.jsxs("div",{className:"day-date",children:[A.getMonth()+1,"/",A.getDate()]})]}),T.jsx("div",{className:"day-tasks",children:mt.length===0?T.jsx("div",{className:"no-tasks",children:""}):mt.map(q=>T.jsxs("div",{className:`calendar-task ${q.completed?"completed":""}`,children:[T.jsxs("div",{className:"task-header",children:[T.jsx("input",{type:"checkbox",checked:q.completed,onChange:()=>t(q.id),className:"task-checkbox-small"}),T.jsx("span",{className:"task-emoji",children:O[q.subject]})]}),T.jsx("div",{className:"task-title-small clickable",onClick:()=>a&&a(q),title:"",children:q.title}),T.jsx("button",{className:"delete-btn-small",onClick:()=>n(q.id),children:""})]},q.id))})]},D)})}):T.jsxs("div",{className:"calendar-grid monthly-grid",children:[T.jsx("div",{className:"month-weekdays",children:it.map((A,D)=>T.jsx("div",{className:"weekday-header",children:A},D))}),T.jsx("div",{className:"month-days",children:N().map((A,D)=>{const R=C(A),mt=I(A),Ft=R===k,q=A.getMonth()===p.getMonth();return T.jsxs("div",{className:`month-day ${Ft?"today":""} ${q?"":"other-month"}`,children:[T.jsx("div",{className:"month-day-date",children:A.getDate()}),T.jsx("div",{className:"month-day-tasks",children:mt.length>0&&T.jsxs("div",{className:"task-indicators",children:[mt.slice(0,3).map(st=>T.jsx("div",{className:`task-dot ${st.completed?"completed":""} clickable`,title:`${st.title} ()`,onClick:()=>a&&a(st),children:O[st.subject]},st.id)),mt.length>3&&T.jsxs("div",{className:"more-tasks",children:["+",mt.length-3]})]})})]},D)})})]}),T.jsxs("div",{className:"unscheduled-tasks",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{className:"unscheduled-list",children:[s.filter(A=>!A.dueDate).map(A=>T.jsxs("div",{className:`unscheduled-task ${A.completed?"completed":""}`,children:[T.jsx("input",{type:"checkbox",checked:A.completed,onChange:()=>t(A.id),className:"task-checkbox-small"}),T.jsx("span",{className:"task-emoji",children:O[A.subject]}),T.jsx("span",{className:"task-title-small clickable",onClick:()=>a&&a(A),title:"",children:A.title}),T.jsx("button",{className:"delete-btn-small",onClick:()=>n(A.id),children:""})]},A.id)),s.filter(A=>!A.dueDate).length===0&&T.jsx("div",{className:"no-tasks",children:""})]})]})]})}const sS="sapix_study_sessions";function aS(){const s=localStorage.getItem(sS);return s?JSON.parse(s):[]}function rN(s){localStorage.setItem(sS,JSON.stringify(s))}function oN(s){const t=aS(),n={id:`session_${Date.now()}`,date:new Date().toISOString().split("T")[0],duration:0,masteryLevel:3,notes:"",testScore:null,needsReview:"medium",...s};return t.push(n),rN(t),n}function Tg(s){return aS().filter(n=>n.unitId===s).sort((n,a)=>new Date(a.date)-new Date(n.date))}function lN(s){const t=Tg(s);if(t.length===0)return{studyCount:0,totalDuration:0,averageMastery:0,lastStudyDate:null,needsReview:!1};const n=t.reduce((g,y)=>g+(y.duration||0),0),a=t.reduce((g,y)=>g+y.masteryLevel,0)/t.length,l=t[0].date,u=Math.floor((new Date-new Date(l))/(1e3*60*60*24)),d=u>7||a<3;return{studyCount:t.length,totalDuration:n,averageMastery:Math.round(a*10)/10,lastStudyDate:l,daysSinceLastStudy:u,needsReview:d}}function uN(s,t,n){const a=n.filter(g=>Tg(g.id).length>0),l=n.length,u=a.length,d=l>0?Math.round(u/l*100):0;return{totalUnits:l,studiedCount:u,unstudiedCount:l-u,percentage:d}}function cN({tasks:s,onEditTask:t}){const[n,a]=Tt.useState("4"),[l,u]=Tt.useState(""),[d,g]=Tt.useState(null),[y,p]=Tt.useState(!1),[E,b]=Tt.useState({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),C={:"",:"",:"",:""},j={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},G=ym[l]?.[n]||[],Z=uN(l,n,G),K=it=>{oN({unitId:it,...E}),p(!1),b({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),a(n)},lt=it=>{d===it?(g(null),p(!1)):(g(it),p(!1))},ft=it=>"".repeat(it)+"".repeat(5-it),et=it=>{if(!s)return[];const tt=s.filter(N=>N.unitId===it);return tt.length>0&&console.log(`Unit ${it} has ${tt.length} related tasks:`,tt.map(N=>N.title)),tt},dt=it=>it===0?"":it===1?"":it<7?`${it}`:it<30?`${Math.floor(it/7)}`:`${Math.floor(it/30)}`;return T.jsxs("div",{className:"unit-dashboard",children:[T.jsxs("div",{className:"dashboard-header",children:[T.jsxs("div",{className:"grade-selector",children:[T.jsx("label",{children:":"}),iS.map(it=>T.jsx("button",{className:`grade-btn ${n===it?"active":""}`,onClick:()=>a(it),children:it},it))]}),T.jsx("div",{className:"subject-selector",children:nN.map(it=>T.jsxs("button",{className:`subject-btn ${l===it?"active":""}`,onClick:()=>u(it),style:{borderColor:l===it?j[it]:"#e2e8f0",background:l===it?`${j[it]}15`:"white"},children:[T.jsx("span",{className:"subject-emoji",children:C[it]}),T.jsx("span",{children:it})]},it))})]}),T.jsxs("div",{className:"progress-summary",children:[T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsx("div",{className:"summary-value",children:Z.totalUnits})]}),T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsx("div",{className:"summary-value",style:{color:j[l]},children:Z.studiedCount})]}),T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsx("div",{className:"summary-value",children:Z.unstudiedCount})]}),T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsxs("div",{className:"summary-value",children:[Z.percentage,"%"]})]})]}),T.jsx("div",{className:"units-grid",children:G.map(it=>{const tt=lN(it.id),N=Tg(it.id),I=d===it.id,O=`${j[l]}26`,k=et(it.id);return T.jsxs("div",{className:`unit-card ${tt.needsReview?"needs-review":""} ${tt.studyCount===0?"unstudied":""} ${I?"expanded":""}`,style:{backgroundColor:O},children:[T.jsxs("div",{className:"unit-header clickable",onClick:()=>lt(it.id),children:[T.jsxs("div",{className:"unit-title",children:[T.jsx("span",{className:"unit-name",children:it.name}),T.jsx("span",{className:"unit-category",children:it.category})]}),T.jsxs("div",{className:"unit-header-right",children:[tt.studyCount>0&&T.jsxs("div",{className:"unit-badge",children:[tt.studyCount,""]}),T.jsx("span",{className:"expand-icon",children:I?"":""})]})]}),!I&&T.jsx("div",{className:"unit-compact",children:tt.studyCount>0?T.jsxs("div",{className:"compact-info",children:[T.jsx("span",{className:"compact-mastery",children:ft(Math.round(tt.averageMastery))}),T.jsx("span",{className:"compact-last-study",children:dt(tt.daysSinceLastStudy)}),tt.needsReview&&T.jsx("span",{className:"compact-alert",children:""})]}):T.jsx("div",{className:"unit-unstudied",children:" "})}),I&&T.jsxs("div",{className:"unit-details",children:[tt.studyCount>0&&T.jsxs("div",{className:"unit-stats",children:[T.jsxs("div",{className:"stat-row",children:[T.jsx("span",{className:"stat-label",children:":"}),T.jsx("span",{className:"stat-value mastery",children:ft(Math.round(tt.averageMastery))})]}),T.jsxs("div",{className:"stat-row",children:[T.jsx("span",{className:"stat-label",children:":"}),T.jsx("span",{className:"stat-value",children:dt(tt.daysSinceLastStudy)})]}),T.jsxs("div",{className:"stat-row",children:[T.jsx("span",{className:"stat-label",children:":"}),T.jsxs("span",{className:"stat-value",children:[tt.totalDuration,""]})]}),tt.needsReview&&T.jsx("div",{className:"review-alert",children:" "})]}),T.jsx("button",{className:"add-session-btn",onClick:A=>{A.stopPropagation(),p(!y)},children:y?" ":"+ "}),y&&T.jsxs("div",{className:"session-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:":"}),T.jsx("input",{type:"number",value:E.duration,onChange:A=>b({...E,duration:parseInt(A.target.value)}),min:"0",step:"5"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:":"}),T.jsx("div",{className:"mastery-buttons",children:[1,2,3,4,5].map(A=>T.jsx("button",{className:`mastery-btn ${E.masteryLevel===A?"active":""}`,onClick:()=>b({...E,masteryLevel:A}),children:ft(A)},A))})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:":"}),T.jsx("textarea",{value:E.notes,onChange:A=>b({...E,notes:A.target.value}),placeholder:"...",rows:"3"})]}),T.jsx("button",{className:"save-session-btn",onClick:()=>K(it.id),children:" "})]}),N.length>0&&T.jsxs("div",{className:"session-history",children:[T.jsx("div",{className:"history-header",children:":"}),N.map(A=>T.jsxs("div",{className:"session-item",children:[T.jsx("span",{className:"session-date",children:A.date}),T.jsx("span",{className:"session-mastery",children:ft(A.masteryLevel)}),T.jsxs("span",{className:"session-duration",children:[A.duration,""]})]},A.id))]}),k.length>0&&T.jsxs("div",{className:"related-tasks",children:[T.jsxs("div",{className:"related-header",children:["  (",k.length,")"]}),k.map(A=>T.jsxs("div",{className:"related-task-item",children:[T.jsxs("div",{className:"related-task-info",children:[T.jsx("span",{className:`task-status ${A.completed?"completed":""}`,children:A.completed?"":""}),T.jsx("span",{className:"related-task-title",children:A.title})]}),t&&T.jsx("button",{className:"edit-task-btn",onClick:D=>{D.stopPropagation(),console.log("Edit button clicked for task:",A.title,A),t(A)},title:"",children:""})]},A.id))]})]})]},it.id)})})]})}function hN({data:s,subjects:t,type:n="line"}){const[a,l]=Tt.useState(["",...t]),u={:"#6366f1",:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},d=et=>{a.includes(et)?a.length>1&&l(a.filter(dt=>dt!==et)):l([...a,et])},g=et=>s.map(dt=>et===""?dt.overall.percentage:dt.subjects[et]?.percentage||null),y=100,p=0,E=200,b={top:20,right:20,bottom:40,left:50},C=E-b.top-b.bottom,j=600,G=et=>et==null?null:b.top+C*(1-(et-p)/(y-p)),Z=et=>b.left+j/(s.length-1)*et,K=et=>{if(!et||et.length===0)return"";let dt="",it=-1;return et.forEach((tt,N)=>{if(tt!==null){const I=Z(N),O=G(tt);it===-1?dt+=`M ${I} ${O}`:dt+=` L ${I} ${O}`,it=N}}),dt},lt=()=>{const et=Math.ceil(s.length/6);return s.map((dt,it)=>it%et===0||it===s.length-1?{x:Z(it),label:ft(dt.date)}:null).filter(Boolean)},ft=et=>{if(!et)return"";const dt=new Date(et);return`${dt.getMonth()+1}/${dt.getDate()}`};return T.jsxs("div",{className:"progress-chart",children:[T.jsx("div",{className:"chart-legend",children:["",...t].map(et=>T.jsxs("button",{className:`legend-item ${a.includes(et)?"active":""}`,onClick:()=>d(et),style:{borderColor:u[et],background:a.includes(et)?`${u[et]}20`:"transparent"},children:[T.jsx("span",{className:"legend-color",style:{background:u[et]}}),T.jsx("span",{className:"legend-label",children:et})]},et))}),T.jsxs("div",{className:"chart-container",children:[T.jsxs("svg",{viewBox:`0 0 ${j+b.left+b.right} ${E}`,className:"chart-svg",children:[[0,25,50,75,100].map(et=>T.jsxs("g",{children:[T.jsx("line",{x1:b.left,y1:G(et),x2:b.left+j,y2:G(et),stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:et===0||et===100?"0":"4 4"}),T.jsxs("text",{x:b.left-10,y:G(et),textAnchor:"end",alignmentBaseline:"middle",className:"axis-label",children:[et,"%"]})]},et)),lt().map((et,dt)=>T.jsx("text",{x:et.x,y:E-10,textAnchor:"middle",className:"axis-label",children:et.label},dt)),a.map(et=>{const dt=g(et),it=K(dt);return T.jsxs("g",{children:[T.jsx("path",{d:it,fill:"none",stroke:u[et],strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),dt.map((tt,N)=>tt===null?null:T.jsx("circle",{cx:Z(N),cy:G(tt),r:"4",fill:u[et],stroke:"white",strokeWidth:"2"},N))]},et)})]}),s.length===0&&T.jsxs("div",{className:"no-data-message",children:[T.jsx("p",{children:" "}),T.jsx("p",{className:"hint",children:""})]})]})]})}const rS="progressHistory",fN=90,dN=()=>new Date().toISOString().split("T")[0],mN=s=>{if(!s||s.length===0)return;const t=dN(),n=Eg(),a=["","","",""],l={};let u=0;a.forEach(b=>{const C=s.filter(K=>K.subject===b),j=C.filter(K=>K.completed).length,G=C.length,Z=G>0?Math.round(j/G*100):0;l[b]={completed:j,total:G,percentage:Z}}),u=yN().reduce((b,C)=>b+(C.duration||0),0);const g=s.filter(b=>b.completed).length,y=s.length,p=y>0?Math.round(g/y*100):0,E={date:t,timestamp:new Date().toISOString(),subjects:l,overall:{completed:g,total:y,percentage:p},studyTime:u,taskCount:y};return n[t]=E,gN(n),localStorage.setItem(rS,JSON.stringify(n)),E},Eg=()=>{const s=localStorage.getItem(rS);if(!s)return{};try{return JSON.parse(s)}catch(t){return console.error("Failed to parse progress history:",t),{}}},gN=s=>{const t=new Date,n=new Date(t);n.setDate(n.getDate()-fN);const a=n.toISOString().split("T")[0];Object.keys(s).forEach(l=>{l<a&&delete s[l]})},_m=(s=30)=>{const t=Eg(),n=new Date,a=[];for(let l=s-1;l>=0;l--){const u=new Date(n);u.setDate(u.getDate()-l);const d=u.toISOString().split("T")[0];t[d]?a.push(t[d]):a.push({date:d,subjects:{},overall:{percentage:null},studyTime:0})}return a},pN=(s=12)=>{const t=Eg(),n=[],a=new Date;for(let l=s-1;l>=0;l--){const u=new Date(a);u.setDate(u.getDate()-l*7);const d=new Date(u);d.setDate(d.getDate()-6);const g=d.toISOString().split("T")[0],y=u.toISOString().split("T")[0],p={weekStart:g,weekEnd:y,totalStudyTime:0,subjects:{:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0}},overall:{percentage:null}};let E=0;const b={:0,:0,:0,:0};let C=0;for(let j=0;j<7;j++){const G=new Date(d);G.setDate(G.getDate()+j);const Z=G.toISOString().split("T")[0];t[Z]&&(E++,p.totalStudyTime+=t[Z].studyTime||0,Object.keys(t[Z].subjects).forEach(K=>{b[K]+=t[Z].subjects[K].percentage||0}),C+=t[Z].overall.percentage||0)}E>0&&(Object.keys(b).forEach(j=>{p.subjects[j].percentage=Math.round(b[j]/E)}),p.overall.percentage=Math.round(C/E)),n.push(p)}return n},yN=s=>[],_N=(s=30)=>{const n=_m(s).filter(j=>j.overall.percentage!==null);if(n.length===0)return{averageProgress:0,totalStudyTime:0,averageDailyStudyTime:0,improvement:0,bestSubject:null,weakestSubject:null};const a=Math.round(n.reduce((j,G)=>j+G.overall.percentage,0)/n.length),l=n.reduce((j,G)=>j+G.studyTime,0),u=Math.round(l/n.length);let d=0;if(n.length>=7){const j=n.slice(0,7),G=n.slice(-7),Z=j.reduce((lt,ft)=>lt+ft.overall.percentage,0)/j.length,K=G.reduce((lt,ft)=>lt+ft.overall.percentage,0)/G.length;d=Math.round(K-Z)}const g=["","","",""],y={};g.forEach(j=>{const G=n.filter(Z=>Z.subjects[j]&&Z.subjects[j].percentage!==null).map(Z=>Z.subjects[j].percentage);G.length>0&&(y[j]=Math.round(G.reduce((Z,K)=>Z+K,0)/G.length))});let p=null,E=null,b=-1,C=101;return Object.entries(y).forEach(([j,G])=>{G>b&&(b=G,p=j),G<C&&(C=G,E=j)}),{averageProgress:a,totalStudyTime:l,averageDailyStudyTime:u,improvement:d,bestSubject:p,weakestSubject:E,subjectAverages:y}};function vN({tasks:s}){const[t,n]=Tt.useState("30days"),[a,l]=Tt.useState([]),[u,d]=Tt.useState(null),g=["","","",""],y=Tt.useCallback(()=>{let E,b;t==="30days"?(E=_m(30),b=30):t==="90days"?(E=_m(90),b=90):t==="12weeks"&&(E=pN(12),b=84),l(E),d(_N(b))},[t]);Tt.useEffect(()=>{s&&s.length>0&&mN(s),y()},[s,t,y]);const p={:"",:"",:"",:""};return T.jsxs("div",{className:"analytics",children:[T.jsxs("div",{className:"analytics-header",children:[T.jsx("h2",{children:" "}),T.jsxs("div",{className:"period-selector",children:[T.jsx("button",{className:t==="30days"?"active":"",onClick:()=>n("30days"),children:"30"}),T.jsx("button",{className:t==="90days"?"active":"",onClick:()=>n("90days"),children:"90"}),T.jsx("button",{className:t==="12weeks"?"active":"",onClick:()=>n("12weeks"),children:"12"})]})]}),u&&T.jsxs("div",{className:"statistics-summary",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[u.averageProgress,"%"]})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[Math.round(u.totalStudyTime/60),"h ",u.totalStudyTime%60,"m"]})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:"1"}),T.jsxs("div",{className:"stat-value",children:[u.averageDailyStudyTime,""]})]})]}),T.jsxs("div",{className:`stat-card ${u.improvement>=0?"positive":"negative"}`,children:[T.jsx("div",{className:"stat-icon",children:u.improvement>=0?"":""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[u.improvement>0?"+":"",u.improvement,"%"]})]})]})]}),T.jsxs("div",{className:"chart-section",children:[T.jsx("h3",{children:" "}),T.jsx(hN,{data:a,subjects:g})]}),u&&u.subjectAverages&&T.jsxs("div",{className:"subject-analysis",children:[T.jsx("h3",{children:" "}),T.jsx("div",{className:"subject-grid",children:g.map(E=>{const b=u.subjectAverages[E]||0,C=E===u.bestSubject,j=E===u.weakestSubject;return T.jsxs("div",{className:`subject-card ${C?"best":""} ${j?"weakest":""}`,children:[T.jsxs("div",{className:"subject-card-header",children:[T.jsx("span",{className:"subject-emoji",children:p[E]}),T.jsx("span",{className:"subject-name",children:E}),C&&T.jsx("span",{className:"badge best-badge",children:""}),j&&T.jsx("span",{className:"badge weak-badge",children:""})]}),T.jsxs("div",{className:"subject-average",children:[T.jsxs("div",{className:"average-value",children:[b,"%"]}),T.jsx("div",{className:"average-label",children:""})]})]},E)})})]}),u&&T.jsxs("div",{className:"advice-section",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{className:"advice-cards",children:[u.weakestSubject&&T.jsxs("div",{className:"advice-card",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsxs("strong",{children:[p[u.weakestSubject]," ",u.weakestSubject,""]}),T.jsxs("p",{children:[": ",u.subjectAverages[u.weakestSubject],"%"]}),T.jsx("p",{children:""})]})]}),u.averageDailyStudyTime<60&&T.jsxs("div",{className:"advice-card",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsx("strong",{children:""}),T.jsxs("p",{children:["1: ",u.averageDailyStudyTime,""]}),T.jsx("p",{children:": 60SAPIX"})]})]}),u.improvement>10&&T.jsxs("div",{className:"advice-card positive",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsx("strong",{children:""}),T.jsxs("p",{children:["",u.improvement,"%"]}),T.jsx("p",{children:""})]})]}),u.improvement<-10&&T.jsxs("div",{className:"advice-card warning",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsx("strong",{children:""}),T.jsx("p",{children:""}),T.jsx("p",{children:""})]})]})]})]})]})}const TN=()=>{const s=[];let t=Date.now();const n=(a,l)=>`2026-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`;return s.push({id:t++,title:"2 ",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,6),completed:!1},{id:t++,title:"2 100",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"basic",priority:"A",dueDate:n(1,7),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,8),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"soc3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_02",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"soc3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,20),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:t++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"soc3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(2,3),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"soc3_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,10),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"soc3_05",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1}),s.push({id:t++,title:"",subject:"",grade:"3",unitId:"math3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"soc3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"test",priority:"A",dueDate:n(3,11),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(3,18),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"sci3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:t++,title:"",subject:"",grade:"3",unitId:"math3_12",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:t++,title:"3",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},N0=()=>{const s=[];let t=Date.now();const n=(a,l)=>`2026-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`;return s.push({id:t++,title:"3 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"B",dueDate:n(1,6),completed:!1},{id:t++,title:"3 200",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"B",dueDate:n(1,7),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"math4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(1,8),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:t++,title:"4 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:t++,title:" 4",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"soc4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"sci4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:t++,title:" 1",subject:"",grade:"4",unitId:"math4_14",unit:"",taskType:"basic",priority:"A",dueDate:n(1,20),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"lang4_03",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:t++,title:" No.1 ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:" No.1 ",subject:"",grade:"4",unitId:"lang4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:" No.1 ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:" No.1 ",subject:"",grade:"4",unitId:"soc4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:t++,title:" 2/4",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(2,4),completed:!1},{id:t++,title:"4 No.1",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"A",dueDate:n(2,5),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,6),completed:!1},{id:t++,title:" ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"B",dueDate:n(2,7),completed:!1},{id:t++,title:" No.2 ",subject:"",grade:"4",unitId:"math4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:" No.2 ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:" No.2 ",subject:"",grade:"4",unitId:"sci4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:" No.2 ",subject:"",grade:"4",unitId:"soc4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:t++,title:" 2/11",subject:"",grade:"4",unitId:"math4_15",unit:"",taskType:"basic",priority:"A",dueDate:n(2,11),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(2,12),completed:!1},{id:t++,title:" No.3 ",subject:"",grade:"4",unitId:"math4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"sci4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"soc4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:t++,title:" No.4 ",subject:"",grade:"4",unitId:"math4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"soc4_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,26),completed:!1}),s.push({id:t++,title:" No.5 ",subject:"",grade:"4",unitId:"math4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"sci4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"soc4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"math4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,11),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"sci4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"soc4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,13),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"math4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,18),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"sci4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"soc4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,20),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"math4_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(3,25),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"sci4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:t++,title:"",subject:"",grade:"4",unitId:"soc4_09",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:t++,title:"3",subject:"",grade:"4",unitId:"math4_13",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},EN=(s="4")=>{switch(s){case"3":return TN();case"4":return N0();default:return N0()}},Gl=s=>ug(Rh,"users",s,"tasks"),oS=s=>oo(Rh,"users",s),vm=async(s,t)=>{try{const n=oo(Gl(s),t.id.toString());return await WE(n,t),{success:!0}}catch(n){return console.error("Error adding task:",n),{success:!1,error:n}}},D0=async(s,t,n)=>{try{const a=oo(Gl(s),t.toString());return await YC(a,n),{success:!0}}catch(a){return console.error("Error updating task:",a),{success:!1,error:a}}},SN=async(s,t)=>{try{const n=oo(Gl(s),t.toString());return await tS(n),{success:!0}}catch(n){return console.error("Error deleting task:",n),{success:!1,error:n}}},O0=async(s,t)=>{try{const n=t.map(a=>tS(oo(Gl(s),a.toString())));return await Promise.all(n),{success:!0}}catch(n){return console.error("Error bulk deleting tasks:",n),{success:!1,error:n}}},AN=(s,t)=>{const n=XE(Gl(s),$E("createdAt","desc"));return XC(n,a=>{const l=[];a.forEach(u=>{l.push({...u.data(),id:u.id})}),t(l)},a=>{console.error("Error fetching tasks:",a),t([])})},lS=async(s,t)=>{try{const n=oS(s);return await WE(n,{targetSchools:t},{merge:!0}),{success:!0}}catch(n){return console.error("Error saving target schools:",n),{success:!1,error:n}}},bN=async s=>{try{const t=oS(s),n=await GC(t);return n.exists()?{success:!0,data:n.data().targetSchools||[]}:{success:!0,data:[]}}catch(t){return console.error("Error getting target schools:",t),{success:!1,error:t,data:[]}}},wN=async s=>{try{const t=localStorage.getItem("sapixTasks");if(t){const l=JSON.parse(t).map(u=>vm(s,u));await Promise.all(l)}const n=localStorage.getItem("targetSchools");if(n){const a=JSON.parse(n);await lS(s,a)}return{success:!0}}catch(t){return console.error("Error migrating data:",t),{success:!1,error:t}}};async function uS(s,t){try{const n=ug(Rh,"users",s,"customUnits"),a={...t,createdAt:new Date().toISOString()};return{success:!0,data:{id:(await KC(n,a)).id,...a}}}catch(n){return console.error("Error adding custom unit:",n),{success:!1,error:n.message}}}async function cS(s){try{const t=ug(Rh,"users",s,"customUnits"),n=XE(t,$E("createdAt","desc")),a=await QC(n),l=[];return a.forEach(u=>{l.push({firestoreId:u.id,...u.data()})}),{success:!0,data:l}}catch(t){return console.error("Error getting custom units:",t),{success:!1,error:t.message,data:[]}}}function RN(s,t,n){const a=Date.now(),l={:"math",:"lang",:"sci",:"soc"}[s]||"custom",u=t.replace("","");return`custom_${l}${u}_${a}`}const IN=Object.freeze(Object.defineProperty({__proto__:null,addCustomUnit:uS,generateCustomUnitId:RN,getCustomUnits:cS},Symbol.toStringTag,{value:"Module"}));function CN(){const[s,t]=Tt.useState(null),[n,a]=Tt.useState([]),[l,u]=Tt.useState("calendar"),[d,g]=Tt.useState("calendar"),[y,p]=Tt.useState(null),[E,b]=Tt.useState([]),[C,j]=Tt.useState([]),G=Tt.useRef(null),[Z,K]=Tt.useState(!1);Tt.useEffect(()=>{if(!s){const D=localStorage.getItem("sapixTasks");D&&a(JSON.parse(D));const R=localStorage.getItem("targetSchools");R&&b(JSON.parse(R));return}Z||(localStorage.getItem("sapixTasks")||localStorage.getItem("targetSchools")?wN(s.uid).then(()=>{console.log(" LocalStorageFirestore"),K(!0)}):K(!0)),bN(s.uid).then(D=>{D.success&&D.data.length>0&&b(D.data)}),cS(s.uid).then(D=>{console.log(" App.jsx - Firestore:",D),D.success?(console.log(" App.jsx - :",D.data),j(D.data)):console.log(" App.jsx - :",D.error)});const A=AN(s.uid,D=>{a(D)});return()=>A()},[s,Z]),Tt.useEffect(()=>{s?lS(s.uid,E):localStorage.setItem("targetSchools",JSON.stringify(E))},[E,s]);const lt=async A=>{const D={id:Date.now(),...A,completed:!1,createdAt:new Date().toISOString()};if(s)await vm(s.uid,D);else{const R=[...n,D];a(R),localStorage.setItem("sapixTasks",JSON.stringify(R))}p(null)},ft=async(A,D)=>{if(s)await D0(s.uid,A,D);else{const R=n.map(mt=>mt.id===A?{...mt,...D}:mt);a(R),localStorage.setItem("sapixTasks",JSON.stringify(R))}p(null),u(d)},et=async A=>{const D=n.find(R=>R.id===A);if(D)if(s)await D0(s.uid,A,{completed:!D.completed});else{const R=n.map(mt=>mt.id===A?{...mt,completed:!mt.completed}:mt);a(R),localStorage.setItem("sapixTasks",JSON.stringify(R))}},dt=async A=>{if(s)await SN(s.uid,A);else{const D=n.filter(R=>R.id!==A);a(D),localStorage.setItem("sapixTasks",JSON.stringify(D))}},it=async A=>{if(s)await O0(s.uid,A);else{const D=n.filter(R=>!A.includes(R.id));a(D),localStorage.setItem("sapixTasks",JSON.stringify(D))}},tt=A=>{console.log(" Editing task:",A.title),g(l),u("edit"),p(A)},N=()=>{p(null),u(d)},I=async()=>{const A=window.prompt(`

3 = 13
4 = 13

`,"4");if(!A)return;let D="4";if(A==="3")D="3";else if(A==="4")D="4";else{alert(" 34");return}const R=EN(D);if(s){const mt=n.map(q=>q.id);mt.length>0&&await O0(s.uid,mt);const Ft=R.map(q=>vm(s.uid,q));await Promise.all(Ft)}else a(R),localStorage.setItem("sapixTasks",JSON.stringify(R));alert(` ${D}${R.length}`)},O=async A=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",A),console.log(" App.jsx - customUnits:",C);const D=await uS(s.uid,A);if(console.log(" App.jsx - Firestore:",D),D.success){const R=[D.data,...C];return console.log(" App.jsx - customUnits:",R),j(R),{success:!0,data:D.data}}else return alert(" : "+D.error),{success:!1,error:D.error}},k=A=>{t(A)};return s?T.jsxs("div",{className:"app sapix-theme",children:[T.jsx("header",{className:"app-header",children:T.jsxs("div",{className:"header-content",children:[T.jsx("h1",{children:" SAPIX  "}),T.jsx(R0,{onAuthChange:k})]})}),T.jsxs("div",{className:"container",children:[l==="edit"?T.jsxs("div",{className:"edit-view",children:[T.jsxs("div",{className:"edit-header",children:[T.jsx("h2",{children:" "}),T.jsx("button",{onClick:N,className:"back-btn",children:" "})]}),T.jsx(C0,{onAddTask:lt,onUpdateTask:ft,editingTask:y,onCancelEdit:N,customUnits:C,onAddCustomUnit:O})]}):T.jsxs(T.Fragment,{children:[T.jsx(ZC,{tasks:n,onToggleTask:et,onDeleteTask:dt,onEditTask:tt}),n.length===0&&T.jsxs("div",{className:"sample-schedule-prompt",children:[T.jsx("p",{children:" "}),T.jsx("button",{onClick:I,className:"load-sample-btn",children:" SAPIX3 / 4"})]}),T.jsxs("div",{className:"view-switcher",children:[T.jsx("button",{className:l==="subject"?"active":"",onClick:()=>u("subject"),children:" "}),T.jsx("button",{className:l==="analytics"?"active":"",onClick:()=>u("analytics"),children:" "}),T.jsx("button",{className:l==="calendar"?"active":"",onClick:()=>u("calendar"),children:" "}),T.jsx("button",{className:l==="tasks"?"active":"",onClick:()=>u("tasks"),children:" "})]}),l==="subject"?T.jsx(cN,{tasks:n,onEditTask:tt}):l==="analytics"?T.jsx(vN,{tasks:n}):l==="calendar"?T.jsx(aN,{tasks:n,onToggleTask:et,onDeleteTask:dt,onEditTask:tt}):l==="tasks"?T.jsx(sN,{tasks:n,onToggleTask:et,onDeleteTask:dt,onBulkDeleteTasks:it,onEditTask:tt}):null]}),l!=="edit"&&T.jsx("div",{ref:G,children:T.jsx(C0,{onAddTask:lt,onUpdateTask:ft,editingTask:y,onCancelEdit:N,customUnits:C,onAddCustomUnit:O})})]})]}):T.jsx(R0,{onAuthChange:k})}$A.createRoot(document.getElementById("root")).render(T.jsx(Tt.StrictMode,{children:T.jsx(CN,{})}));
