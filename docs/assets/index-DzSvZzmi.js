(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Id={exports:{}},ml={};var F_;function GA(){if(F_)return ml;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:u}}return ml.Fragment=e,ml.jsx=n,ml.jsxs=n,ml}var G_;function QA(){return G_||(G_=1,Id.exports=GA()),Id.exports}var T=QA(),Cd={exports:{}},we={};var Q_;function YA(){if(Q_)return we;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function k(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,X={};function oe(D,J,se){this.props=D,this.context=J,this.refs=X,this.updater=se||Q}oe.prototype.isReactComponent={},oe.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},oe.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function he(){}he.prototype=oe.prototype;function H(D,J,se){this.props=D,this.context=J,this.refs=X,this.updater=se||Q}var ce=H.prototype=new he;ce.constructor=H,ee(ce,oe.prototype),ce.isPureReactComponent=!0;var Ee=Array.isArray;function ne(){}var x={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function N(D,J,se){var re=se.ref;return{$$typeof:s,type:D,key:J,ref:re!==void 0?re:null,props:se}}function V(D,J){return N(D.type,J,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function M(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return J[se]})}var R=/\/+/g;function K(D,J){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):J.toString(36)}function fe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ne,ne):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,J,se,re,pe){var Ne=typeof D;(Ne==="undefined"||Ne==="boolean")&&(D=null);var Be=!1;if(D===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(D.$$typeof){case s:case e:Be=!0;break;case E:return Be=D._init,z(Be(D._payload),J,se,re,pe)}}if(Be)return pe=pe(D),Be=re===""?"."+K(D,0):re,Ee(pe)?(se="",Be!=null&&(se=Be.replace(R,"$&/")+"/"),z(pe,J,se,"",function(sa){return sa})):pe!=null&&(C(pe)&&(pe=V(pe,se+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(R,"$&/")+"/")+Be)),J.push(pe)),1;Be=0;var Dt=re===""?".":re+":";if(Ee(D))for(var rt=0;rt<D.length;rt++)re=D[rt],Ne=Dt+K(re,rt),Be+=z(re,J,se,Ne,pe);else if(rt=k(D),typeof rt=="function")for(D=rt.call(D),rt=0;!(re=D.next()).done;)re=re.value,Ne=Dt+K(re,rt++),Be+=z(re,J,se,Ne,pe);else if(Ne==="object"){if(typeof D.then=="function")return z(fe(D),J,se,re,pe);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(D,J,se){if(D==null)return D;var re=[],pe=0;return z(D,re,"","",function(Ne){return J.call(se,Ne,pe++)}),re}function ge(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var xe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Pe={map:ie,forEach:function(D,J,se){ie(D,function(){J.apply(this,arguments)},se)},count:function(D){var J=0;return ie(D,function(){J++}),J},toArray:function(D){return ie(D,function(J){return J})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return we.Activity=A,we.Children=Pe,we.Component=oe,we.Fragment=n,we.Profiler=l,we.PureComponent=H,we.StrictMode=a,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(D,J,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=ee({},D.props),pe=D.key;if(J!=null)for(Ne in J.key!==void 0&&(pe=""+J.key),J)!b.call(J,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&J.ref===void 0||(re[Ne]=J[Ne]);var Ne=arguments.length-2;if(Ne===1)re.children=se;else if(1<Ne){for(var Be=Array(Ne),Dt=0;Dt<Ne;Dt++)Be[Dt]=arguments[Dt+2];re.children=Be}return N(D.type,pe,re)},we.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},we.createElement=function(D,J,se){var re,pe={},Ne=null;if(J!=null)for(re in J.key!==void 0&&(Ne=""+J.key),J)b.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=J[re]);var Be=arguments.length-2;if(Be===1)pe.children=se;else if(1<Be){for(var Dt=Array(Be),rt=0;rt<Be;rt++)Dt[rt]=arguments[rt+2];pe.children=Dt}if(D&&D.defaultProps)for(re in Be=D.defaultProps,Be)pe[re]===void 0&&(pe[re]=Be[re]);return N(D,Ne,pe)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:g,render:D}},we.isValidElement=C,we.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ge}},we.memo=function(D,J){return{$$typeof:p,type:D,compare:J===void 0?null:J}},we.startTransition=function(D){var J=x.T,se={};x.T=se;try{var re=D(),pe=x.S;pe!==null&&pe(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ne,xe)}catch(Ne){xe(Ne)}finally{J!==null&&se.types!==null&&(J.types=se.types),x.T=J}},we.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},we.use=function(D){return x.H.use(D)},we.useActionState=function(D,J,se){return x.H.useActionState(D,J,se)},we.useCallback=function(D,J){return x.H.useCallback(D,J)},we.useContext=function(D){return x.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,J){return x.H.useDeferredValue(D,J)},we.useEffect=function(D,J){return x.H.useEffect(D,J)},we.useEffectEvent=function(D){return x.H.useEffectEvent(D)},we.useId=function(){return x.H.useId()},we.useImperativeHandle=function(D,J,se){return x.H.useImperativeHandle(D,J,se)},we.useInsertionEffect=function(D,J){return x.H.useInsertionEffect(D,J)},we.useLayoutEffect=function(D,J){return x.H.useLayoutEffect(D,J)},we.useMemo=function(D,J){return x.H.useMemo(D,J)},we.useOptimistic=function(D,J){return x.H.useOptimistic(D,J)},we.useReducer=function(D,J,se){return x.H.useReducer(D,J,se)},we.useRef=function(D){return x.H.useRef(D)},we.useState=function(D){return x.H.useState(D)},we.useSyncExternalStore=function(D,J,se){return x.H.useSyncExternalStore(D,J,se)},we.useTransition=function(){return x.H.useTransition()},we.version="19.2.0",we}var Y_;function Tm(){return Y_||(Y_=1,Cd.exports=YA()),Cd.exports}var ve=Tm(),Nd={exports:{}},gl={},Dd={exports:{}},xd={};var K_;function KA(){return K_||(K_=1,(function(s){function e(z,ie){var ge=z.length;z.push(ie);e:for(;0<ge;){var xe=ge-1>>>1,Pe=z[xe];if(0<l(Pe,ie))z[xe]=ie,z[ge]=Pe,ge=xe;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var ie=z[0],ge=z.pop();if(ge!==ie){z[0]=ge;e:for(var xe=0,Pe=z.length,D=Pe>>>1;xe<D;){var J=2*(xe+1)-1,se=z[J],re=J+1,pe=z[re];if(0>l(se,ge))re<Pe&&0>l(pe,se)?(z[xe]=pe,z[re]=ge,xe=re):(z[xe]=se,z[J]=ge,xe=J);else if(re<Pe&&0>l(pe,ge))z[xe]=pe,z[re]=ge,xe=re;else break e}}return ie}function l(z,ie){var ge=z.sortIndex-ie.sortIndex;return ge!==0?ge:z.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,A=null,I=3,k=!1,Q=!1,ee=!1,X=!1,oe=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ce(z){for(var ie=n(p);ie!==null;){if(ie.callback===null)a(p);else if(ie.startTime<=z)a(p),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=n(p)}}function Ee(z){if(ee=!1,ce(z),!Q)if(n(y)!==null)Q=!0,ne||(ne=!0,M());else{var ie=n(p);ie!==null&&fe(Ee,ie.startTime-z)}}var ne=!1,x=-1,b=5,N=-1;function V(){return X?!0:!(s.unstable_now()-N<b)}function C(){if(X=!1,ne){var z=s.unstable_now();N=z;var ie=!0;try{e:{Q=!1,ee&&(ee=!1,he(x),x=-1),k=!0;var ge=I;try{t:{for(ce(z),A=n(y);A!==null&&!(A.expirationTime>z&&V());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,I=A.priorityLevel;var Pe=xe(A.expirationTime<=z);if(z=s.unstable_now(),typeof Pe=="function"){A.callback=Pe,ce(z),ie=!0;break t}A===n(y)&&a(y),ce(z)}else a(y);A=n(y)}if(A!==null)ie=!0;else{var D=n(p);D!==null&&fe(Ee,D.startTime-z),ie=!1}}break e}finally{A=null,I=ge,k=!1}ie=void 0}}finally{ie?M():ne=!1}}}var M;if(typeof H=="function")M=function(){H(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,K=R.port2;R.port1.onmessage=C,M=function(){K.postMessage(null)}}else M=function(){oe(C,0)};function fe(z,ie){x=oe(function(){z(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(z){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var ge=I;I=ie;try{return z()}finally{I=ge}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(z,ie){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ge=I;I=z;try{return ie()}finally{I=ge}},s.unstable_scheduleCallback=function(z,ie,ge){var xe=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?xe+ge:xe):ge=xe,z){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ge+Pe,z={id:E++,callback:ie,priorityLevel:z,startTime:ge,expirationTime:Pe,sortIndex:-1},ge>xe?(z.sortIndex=ge,e(p,z),n(y)===null&&z===n(p)&&(ee?(he(x),x=-1):ee=!0,fe(Ee,ge-xe))):(z.sortIndex=Pe,e(y,z),Q||k||(Q=!0,ne||(ne=!0,M()))),z},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(z){var ie=I;return function(){var ge=I;I=ie;try{return z.apply(this,arguments)}finally{I=ge}}}})(xd)),xd}var X_;function XA(){return X_||(X_=1,Dd.exports=KA()),Dd.exports}var Od={exports:{}},Kt={};var $_;function $A(){if($_)return Kt;$_=1;var s=Tm();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:p,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,E)},Kt.flushSync=function(y){var p=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=p,a.p=E,a.d.f()}},Kt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Kt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Kt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,A=g(E,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:k}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Kt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Kt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=g(E,p.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Kt.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Kt.requestFormReset=function(y){a.d.r(y)},Kt.unstable_batchedUpdates=function(y,p){return y(p)},Kt.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var J_;function JA(){if(J_)return Od.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Od.exports=$A(),Od.exports}var Z_;function ZA(){if(Z_)return gl;Z_=1;var s=XA(),e=Tm(),n=JA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,S=h.child;S;){if(S===r){_=!0,r=h,o=f;break}if(S===o){_=!0,o=h,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,o=h;break}if(S===o){_=!0,o=f,r=h;break}S=S.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case oe:return"Profiler";case X:return"StrictMode";case Ee:return"Suspense";case ne:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case H:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:K(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return K(t(i))}catch{}}return null}var fe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},xe=[],Pe=-1;function D(t){return{current:t}}function J(t){0>Pe||(t.current=xe[Pe],xe[Pe]=null,Pe--)}function se(t,i){Pe++,xe[Pe]=t.current,t.current=i}var re=D(null),pe=D(null),Ne=D(null),Be=D(null);function Dt(t,i){switch(se(Ne,i),se(pe,t),se(re,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=d_(i),t=m_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(re),se(re,t)}function rt(){J(re),J(pe),J(Ne)}function sa(t){t.memoizedState!==null&&se(Be,t);var i=re.current,r=m_(i,t.type);i!==r&&(se(pe,t),se(re,r))}function Ka(t){pe.current===t&&(J(re),J(pe)),Be.current===t&&(J(Be),cl._currentValue=ge)}var Xa,$a;function ei(t){if(Xa===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Xa=i&&i[1]||"",$a=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+t+$a}var uo=!1;function aa(t,i){if(!t||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){q=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var O=_.split(`
`),B=S.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===B.length)for(o=O.length-1,h=B.length-1;1<=o&&0<=h&&O[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==B[h]){var Y=`
`+O[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ei(r):""}function co(t,i){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return aa(t.type,!1);case 11:return aa(t.type.render,!1);case 1:return aa(t.type,!0);case 31:return ei("Activity");default:return""}}function ho(t){try{var i="",r=null;do i+=co(t,r),r=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,xt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Ch=s.unstable_shouldYield,Yl=s.unstable_requestPaint,Wt=s.unstable_now,ra=s.unstable_getCurrentPriorityLevel,fo=s.unstable_ImmediatePriority,mo=s.unstable_UserBlockingPriority,rs=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,Kl=s.unstable_IdlePriority,Xl=s.log,$l=s.unstable_setDisableYieldValue,Ln=null,Pt=null;function An(t){if(typeof Xl=="function"&&$l(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Ln,t)}catch{}}var dt=Math.clz32?Math.clz32:Zl,Jl=Math.log,Ja=Math.LN2;function Zl(t){return t>>>=0,t===0?32:31-(Jl(t)/Ja|0)|0}var ti=256,oa=262144,vt=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,i,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?h=ni(o):(_&=S,_!==0?h=ni(_):r||(r=S&~t,r!==0&&(h=ni(r))))):(S=o&~f,S!==0?h=ni(S):_!==0?h=ni(_):r||(r=o&~t,r!==0&&(h=ni(r)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,r=i&-i,f>=r||f===32&&(r&4194048)!==0)?i:h}function Pn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Dh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function si(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function la(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xh(t,i,r,o,h,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(r=_&~r;0<r;){var Y=31-dt(r),W=1<<Y;S[Y]=0,O[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}r&=~W}o!==0&&ua(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function ua(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function go(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-dt(r),h=1<<o;h&i|t[o]&i&&(t[o]|=i),r&=~h}}function po(t,i){var r=i&-i;return r=(r&42)!==0?1:ca(r),(r&(t.suspendedLanes|i))!==0?0:r}function ca(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function zn(t,i){var r=ie.p;try{return ie.p=t,i()}finally{ie.p=r}}var Bn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Bn,Vt="__reactProps$"+Bn,ai="__reactContainer$"+Bn,Za="__reactEvents$"+Bn,Oh="__reactListeners$"+Bn,tu="__reactHandles$"+Bn,nu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Wa(t){delete t[Tt],delete t[Vt],delete t[Za],delete t[Oh],delete t[tu]}function oi(t){var i=t[Tt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[ai]||r[Tt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=E_(t);t!==null;){if(r=t[Tt])return r;t=E_(t)}return i}t=r,r=t.parentNode}return null}function bn(t){if(t=t[Tt]||t[ai]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function li(t){var i=t[nu];return i||(i=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ri]=!0}var yo=new Set,_o={};function ui(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(_o[t]=i,t=0;t<i.length;t++)yo.add(i[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Eo={};function iu(t){return _t.call(Eo,t)?!0:_t.call(To,t)?!1:vo.test(t)?Eo[t]=!0:(To[t]=!0,!1)}function er(t,i,r){if(iu(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function mn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function St(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function os(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function So(t,i,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=os(t)?"checked":"value";t._valueTracker=So(t,i,""+t[i])}}function ha(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=os(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fa=/[\n"\\]/g;function nn(t){return t.replace(fa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tr(t,i,r,o,h,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ao(t,_,jt(i)):r!=null?Ao(t,_,jt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+jt(S):t.removeAttribute("name")}function su(t,i,r,o,h,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ke(t);return}r=r!=null?""+jt(r):"",i=i!=null?""+jt(i):r,S||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ao(t,i,r){i==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ls(t,i,r,o){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+jt(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function au(t,i,r){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+jt(r):""}function us(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=jt(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Ke(t)}function sn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||ru.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function wo(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&r[h]!==o&&bo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&bo(t,f,i[f])}function nr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(t){return cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Ro=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hs=null,fi=null;function da(t){var i=bn(t);if(i&&(t=i.stateNode)){var r=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(tr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(a(90));tr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&ha(o)}break e;case"textarea":au(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&ls(t,!!r.multiple,i,!1)}}}var sr=!1;function fs(t,i,r){if(sr)return t(i,r);sr=!0;try{var o=t(i);return o}finally{if(sr=!1,(hs!==null||fi!==null)&&(ec(),hs&&(i=hs,t=fi,fi=hs=null,da(i),t)))for(i=0;i<t.length;i++)da(t[i])}}function Hn(t,i){var r=t.stateNode;if(r===null)return null;var o=r[Vt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Rn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ma=!1}var di=null,Io=null,ga=null;function Co(){if(ga)return ga;var t,i=Io,r=i.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<r&&i[t]===h[t];t++);var _=r-t;for(o=1;o<=_&&i[r-o]===h[f-o];o++);return ga=h.slice(t,1<o?1-o:void 0)}function pa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Fn(){return!1}function zt(t){function i(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Fn,this.isPropagationStopped=Fn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=zt(Oi),ds=A({},Oi,{view:0,detail:0}),No=zt(ds),ms,ar,gi,rr=A({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(ms=t.screenX-gi.screenX,ar=t.screenY-gi.screenY):ar=ms=0,gi=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),Do=zt(rr),ya=A({},rr,{dataTransfer:0}),lu=zt(ya),uu=A({},ds,{relatedTarget:0}),_a=zt(uu),xo=A({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=zt(xo),or=A({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=zt(or),fu=A({},Oi,{data:0}),pi=zt(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=gu[t])?!!i[t]:!1}function gs(){return pu}var en=A({},ds,{key:function(t){if(t.key){var i=du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yu=zt(en),_u=A({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=zt(_u),c=A({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=zt(c),v=A({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=zt(v),L=A({},rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=zt(L),ae=A({},Oi,{newState:0,oldState:0}),Ie=zt(ae),mt=[9,13,27,32],Ge=Rn&&"CompositionEvent"in window,ot=null;Rn&&"documentMode"in document&&(ot=document.documentMode);var In=Rn&&"TextEvent"in window&&!ot,yi=Rn&&(!Ge||ot&&8<ot&&11>=ot),Gn=" ",Qn=!1;function va(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function gS(t,i){switch(t){case"compositionend":return lr(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return t=i.data,t===Gn&&Qn?null:t;default:return null}}function pS(t,i){if(ur)return t==="compositionend"||!Ge&&va(t,i)?(t=Co(),ga=Io=di=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var yS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!yS[t.type]:i==="textarea"}function wg(t,i,r,o){hs?fi?fi.push(o):fi=[o]:hs=o,i=oc(i,"onChange"),0<i.length&&(r=new mi("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var Oo=null,Mo=null;function _S(t){o_(t,0)}function vu(t){var i=dn(t);if(ha(i))return t}function Rg(t,i){if(t==="change")return i}var Ig=!1;if(Rn){var Mh;if(Rn){var Vh="oninput"in document;if(!Vh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Vh=typeof Cg.oninput=="function"}Mh=Vh}else Mh=!1;Ig=Mh&&(!document.documentMode||9<document.documentMode)}function Ng(){Oo&&(Oo.detachEvent("onpropertychange",Dg),Mo=Oo=null)}function Dg(t){if(t.propertyName==="value"&&vu(Mo)){var i=[];wg(i,Mo,t,wn(t)),fs(_S,i)}}function vS(t,i,r){t==="focusin"?(Ng(),Oo=i,Mo=r,Oo.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function TS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(Mo)}function ES(t,i){if(t==="click")return vu(i)}function SS(t,i){if(t==="input"||t==="change")return vu(i)}function AS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:AS;function Vo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_t.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,i){var r=xg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xg(r)}}function Mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hi(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=hi(t.document)}return i}function jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bS=Rn&&"documentMode"in document&&11>=document.documentMode,cr=null,kh=null,jo=null,Uh=!1;function jg(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uh||cr==null||cr!==hi(o)||(o=cr,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&Vo(jo,o)||(jo=o,o=oc(kh,"onSelect"),0<o.length&&(i=new mi("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=cr)))}function Ta(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var hr={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Lh={},kg={};Rn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Ea(t){if(Lh[t])return Lh[t];if(!hr[t])return t;var i=hr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in kg)return Lh[t]=i[r];return t}var Ug=Ea("animationend"),Lg=Ea("animationiteration"),Pg=Ea("animationstart"),wS=Ea("transitionrun"),RS=Ea("transitionstart"),IS=Ea("transitioncancel"),zg=Ea("transitionend"),Bg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Yn(t,i){Bg.set(t,i),ui(i,[t])}var Tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],fr=0,zh=0;function Eu(){for(var t=fr,i=zh=fr=0;i<t;){var r=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var f=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&qg(r,h,f)}}function Su(t,i,r,o){Cn[fr++]=t,Cn[fr++]=i,Cn[fr++]=r,Cn[fr++]=o,zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,i,r,o){return Su(t,i,r,o),Au(t)}function Sa(t,i){return Su(t,null,null,i),Au(t)}function qg(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-dt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=r|536870912),f):null}function Au(t){if(50<il)throw il=0,Jf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var dr={};function CS(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,r,o){return new CS(t,i,r,o)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,i){var r=t.alternate;return r===null?(r=pn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Hg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function bu(t,i,r,o,h,f){var _=0;if(o=t,typeof t=="function")qh(t)&&(_=1);else if(typeof t=="string")_=MA(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=pn(31,r,i,h),t.elementType=N,t.lanes=f,t;case ee:return Aa(r.children,h,f,i);case X:_=8,h|=24;break;case oe:return t=pn(12,r,i,h|2),t.elementType=oe,t.lanes=f,t;case Ee:return t=pn(13,r,i,h),t.elementType=Ee,t.lanes=f,t;case ne:return t=pn(19,r,i,h),t.elementType=ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:_=10;break e;case he:_=9;break e;case ce:_=11;break e;case x:_=14;break e;case b:_=16,o=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=pn(_,r,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Aa(t,i,r,o){return t=pn(7,t,o,i),t.lanes=r,t}function Hh(t,i,r){return t=pn(6,t,null,i),t.lanes=r,t}function Fg(t){var i=pn(18,null,null,0);return i.stateNode=t,i}function Fh(t,i,r){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Gg=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var r=Gg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:ho(i)},Gg.set(t,i),i)}return{value:t,source:i,stack:ho(i)}}var mr=[],gr=0,wu=null,ko=0,Dn=[],xn=0,ps=null,_i=1,vi="";function ji(t,i){mr[gr++]=ko,mr[gr++]=wu,wu=t,ko=i}function Qg(t,i,r){Dn[xn++]=_i,Dn[xn++]=vi,Dn[xn++]=ps,ps=t;var o=_i;t=vi;var h=32-dt(o)-1;o&=~(1<<h),r+=1;var f=32-dt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,_i=1<<32-dt(i)+h|r<<h|o,vi=f+t}else _i=1<<f|r<<h|o,vi=t}function Gh(t){t.return!==null&&(ji(t,1),Qg(t,1,0))}function Qh(t){for(;t===wu;)wu=mr[--gr],mr[gr]=null,ko=mr[--gr],mr[gr]=null;for(;t===ps;)ps=Dn[--xn],Dn[xn]=null,vi=Dn[--xn],Dn[xn]=null,_i=Dn[--xn],Dn[xn]=null}function Yg(t,i){Dn[xn++]=_i,Dn[xn++]=vi,Dn[xn++]=ps,_i=i.id,vi=i.overflow,ps=t}var Bt=null,it=null,ze=!1,ys=null,On=!1,Yh=Error(a(519));function _s(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Nn(i,t)),Yh}function Kg(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[Vt]=o,r){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(r=0;r<al.length;r++)Me(al[r],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),us(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||h_(i.textContent,r)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||_s(t,!0)}function Xg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Bt=Bt.return}}function pr(t){if(t!==Bt)return!1;if(!ze)return Xg(t),ze=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||fd(t.type,t.memoizedProps)),r=!r),r&&it&&_s(t),Xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=T_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=T_(t)}else i===27?(i=it,Os(t.type)?(t=yd,yd=null,it=t):it=i):it=Bt?Vn(t.stateNode.nextSibling):null;return!0}function ba(){it=Bt=null,ze=!1}function Kh(){var t=ys;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ys=null),t}function Uo(t){ys===null?ys=[t]:ys.push(t)}var Xh=D(null),wa=null,ki=null;function vs(t,i,r){se(Xh,i._currentValue),i._currentValue=r}function Ui(t){t._currentValue=Xh.current,J(Xh)}function $h(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function Jh(t,i,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),$h(f.return,r,t),o||(_=null);break e}f=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),$h(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function yr(t,i,r,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Be.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(cl):t=[cl])}h=h.return}t!==null&&Jh(i,t,r,o),i.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){wa=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return $g(wa,t)}function Iu(t,i){return wa===null&&Ra(t),$g(t,i)}function $g(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ki===null){if(t===null)throw Error(a(308));ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ki=ki.next=i;return r}var NS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},DS=s.unstable_scheduleCallback,xS=s.unstable_NormalPriority,At={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new NS,data:new Map,refCount:0}}function Lo(t){t.refCount--,t.refCount===0&&DS(xS,function(){t.controller.abort()})}var Po=null,Wh=0,_r=0,vr=null;function OS(t,i){if(Po===null){var r=Po=[];Wh=0,_r=id(),vr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Wh++,i.then(Jg,Jg),i}function Jg(){if(--Wh===0&&Po!==null){vr!==null&&(vr.status="fulfilled");var t=Po;Po=null,_r=0,vr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function MS(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Zg=z.S;z.S=function(t,i){jy=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OS(t,i),Zg!==null&&Zg(t,i)};var Ia=D(null);function ef(){var t=Ia.current;return t!==null?t:tt.pooledCache}function Cu(t,i){i===null?se(Ia,Ia.current):se(Ia,i.pool)}function Wg(){var t=ef();return t===null?null:{parent:At._currentValue,pool:t}}var Tr=Error(a(460)),tf=Error(a(474)),Nu=Error(a(542)),Du={then:function(){}};function ep(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(qn,qn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ip(t),t;default:if(typeof i.status=="string")i.then(qn,qn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ip(t),t}throw Na=i,Tr}}function Ca(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Na=r,Tr):r}}var Na=null;function np(){if(Na===null)throw Error(a(459));var t=Na;return Na=null,t}function ip(t){if(t===Tr||t===Nu)throw Error(a(483))}var Er=null,zo=0;function xu(t){var i=zo;return zo+=1,Er===null&&(Er=[]),tp(Er,t,i)}function Bo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ou(t,i){throw i.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sp(t){function i(U,j){if(t){var P=U.deletions;P===null?(U.deletions=[j],U.flags|=16):P.push(j)}}function r(U,j){if(!t)return null;for(;j!==null;)i(U,j),j=j.sibling;return null}function o(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function h(U,j){return U=Vi(U,j),U.index=0,U.sibling=null,U}function f(U,j,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<j?(U.flags|=67108866,j):P):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,j,P,$){return j===null||j.tag!==6?(j=Hh(P,U.mode,$),j.return=U,j):(j=h(j,P),j.return=U,j)}function O(U,j,P,$){var ye=P.type;return ye===ee?Y(U,j,P.props.children,$,P.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===b&&Ca(ye)===j.type)?(j=h(j,P.props),Bo(j,P),j.return=U,j):(j=bu(P.type,P.key,P.props,null,U.mode,$),Bo(j,P),j.return=U,j)}function B(U,j,P,$){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=Fh(P,U.mode,$),j.return=U,j):(j=h(j,P.children||[]),j.return=U,j)}function Y(U,j,P,$,ye){return j===null||j.tag!==7?(j=Aa(P,U.mode,$,ye),j.return=U,j):(j=h(j,P),j.return=U,j)}function W(U,j,P){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Hh(""+j,U.mode,P),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return P=bu(j.type,j.key,j.props,null,U.mode,P),Bo(P,j),P.return=U,P;case Q:return j=Fh(j,U.mode,P),j.return=U,j;case b:return j=Ca(j),W(U,j,P)}if(fe(j)||M(j))return j=Aa(j,U.mode,P,null),j.return=U,j;if(typeof j.then=="function")return W(U,xu(j),P);if(j.$$typeof===H)return W(U,Iu(U,j),P);Ou(U,j)}return null}function q(U,j,P,$){var ye=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:S(U,j,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case k:return P.key===ye?O(U,j,P,$):null;case Q:return P.key===ye?B(U,j,P,$):null;case b:return P=Ca(P),q(U,j,P,$)}if(fe(P)||M(P))return ye!==null?null:Y(U,j,P,$,null);if(typeof P.then=="function")return q(U,j,xu(P),$);if(P.$$typeof===H)return q(U,j,Iu(U,P),$);Ou(U,P)}return null}function G(U,j,P,$,ye){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(P)||null,S(j,U,""+$,ye);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return U=U.get($.key===null?P:$.key)||null,O(j,U,$,ye);case Q:return U=U.get($.key===null?P:$.key)||null,B(j,U,$,ye);case b:return $=Ca($),G(U,j,P,$,ye)}if(fe($)||M($))return U=U.get(P)||null,Y(j,U,$,ye,null);if(typeof $.then=="function")return G(U,j,P,xu($),ye);if($.$$typeof===H)return G(U,j,P,Iu(j,$),ye);Ou(j,$)}return null}function de(U,j,P,$){for(var ye=null,He=null,me=j,De=j=0,je=null;me!==null&&De<P.length;De++){me.index>De?(je=me,me=null):je=me.sibling;var Fe=q(U,me,P[De],$);if(Fe===null){me===null&&(me=je);break}t&&me&&Fe.alternate===null&&i(U,me),j=f(Fe,j,De),He===null?ye=Fe:He.sibling=Fe,He=Fe,me=je}if(De===P.length)return r(U,me),ze&&ji(U,De),ye;if(me===null){for(;De<P.length;De++)me=W(U,P[De],$),me!==null&&(j=f(me,j,De),He===null?ye=me:He.sibling=me,He=me);return ze&&ji(U,De),ye}for(me=o(me);De<P.length;De++)je=G(me,U,De,P[De],$),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?De:je.key),j=f(je,j,De),He===null?ye=je:He.sibling=je,He=je);return t&&me.forEach(function(Us){return i(U,Us)}),ze&&ji(U,De),ye}function Te(U,j,P,$){if(P==null)throw Error(a(151));for(var ye=null,He=null,me=j,De=j=0,je=null,Fe=P.next();me!==null&&!Fe.done;De++,Fe=P.next()){me.index>De?(je=me,me=null):je=me.sibling;var Us=q(U,me,Fe.value,$);if(Us===null){me===null&&(me=je);break}t&&me&&Us.alternate===null&&i(U,me),j=f(Us,j,De),He===null?ye=Us:He.sibling=Us,He=Us,me=je}if(Fe.done)return r(U,me),ze&&ji(U,De),ye;if(me===null){for(;!Fe.done;De++,Fe=P.next())Fe=W(U,Fe.value,$),Fe!==null&&(j=f(Fe,j,De),He===null?ye=Fe:He.sibling=Fe,He=Fe);return ze&&ji(U,De),ye}for(me=o(me);!Fe.done;De++,Fe=P.next())Fe=G(me,U,De,Fe.value,$),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?De:Fe.key),j=f(Fe,j,De),He===null?ye=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function(FA){return i(U,FA)}),ze&&ji(U,De),ye}function et(U,j,P,$){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case k:e:{for(var ye=P.key;j!==null;){if(j.key===ye){if(ye=P.type,ye===ee){if(j.tag===7){r(U,j.sibling),$=h(j,P.props.children),$.return=U,U=$;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===b&&Ca(ye)===j.type){r(U,j.sibling),$=h(j,P.props),Bo($,P),$.return=U,U=$;break e}r(U,j);break}else i(U,j);j=j.sibling}P.type===ee?($=Aa(P.props.children,U.mode,$,P.key),$.return=U,U=$):($=bu(P.type,P.key,P.props,null,U.mode,$),Bo($,P),$.return=U,U=$)}return _(U);case Q:e:{for(ye=P.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){r(U,j.sibling),$=h(j,P.children||[]),$.return=U,U=$;break e}else{r(U,j);break}else i(U,j);j=j.sibling}$=Fh(P,U.mode,$),$.return=U,U=$}return _(U);case b:return P=Ca(P),et(U,j,P,$)}if(fe(P))return de(U,j,P,$);if(M(P)){if(ye=M(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),Te(U,j,P,$)}if(typeof P.then=="function")return et(U,j,xu(P),$);if(P.$$typeof===H)return et(U,j,Iu(U,P),$);Ou(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,j!==null&&j.tag===6?(r(U,j.sibling),$=h(j,P),$.return=U,U=$):(r(U,j),$=Hh(P,U.mode,$),$.return=U,U=$),_(U)):r(U,j)}return function(U,j,P,$){try{zo=0;var ye=et(U,j,P,$);return Er=null,ye}catch(me){if(me===Tr||me===Nu)throw me;var He=pn(29,me,null,U.mode);return He.lanes=$,He.return=U,He}finally{}}}var Da=sp(!0),ap=sp(!1),Ts=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Au(t),qg(t,null,r),i}return Su(t,o,i,r),Au(t)}function qo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,go(t,r)}}function af(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=i:f=f.next=i}else h=f=i;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var rf=!1;function Ho(){if(rf){var t=vr;if(t!==null)throw t}}function Fo(t,i,r,o){rf=!1;var h=t.updateQueue;Ts=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,B=O.next;O.next=null,_===null?f=B:_.next=B,_=O;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=B:S.next=B,Y.lastBaseUpdate=O))}if(f!==null){var W=h.baseState;_=0,Y=B=O=null,S=f;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(Ve&q)===q:(o&q)===q){q!==0&&q===_r&&(rf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=t,Te=S;q=i;var et=r;switch(Te.tag){case 1:if(de=Te.payload,typeof de=="function"){W=de.call(et,W,q);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Te.payload,q=typeof de=="function"?de.call(et,W,q):de,q==null)break e;W=A({},W,q);break e;case 2:Ts=!0}}q=S.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(B=Y=G,O=W):Y=Y.next=G,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(O=W),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Is|=_,t.lanes=_,t.memoizedState=W}}function rp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function op(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rp(r[t],i)}var Sr=D(null),Mu=D(0);function lp(t,i){t=Qi,se(Mu,t),se(Sr,i),Qi=t|i.baseLanes}function of(){se(Mu,Qi),se(Sr,Sr.current)}function lf(){Qi=Mu.current,J(Sr),J(Mu)}var yn=D(null),Mn=null;function As(t){var i=t.alternate;se(gt,gt.current&1),se(yn,t),Mn===null&&(i===null||Sr.current!==null||i.memoizedState!==null)&&(Mn=t)}function uf(t){se(gt,gt.current),se(yn,t),Mn===null&&(Mn=t)}function up(t){t.tag===22?(se(gt,gt.current),se(yn,t),Mn===null&&(Mn=t)):bs()}function bs(){se(gt,gt.current),se(yn,yn.current)}function _n(t){J(yn),Mn===t&&(Mn=null),J(gt)}var gt=D(0);function Vu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||pd(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Li=0,Ce=null,Ze=null,bt=null,ju=!1,Ar=!1,xa=!1,ku=0,Go=0,br=null,VS=0;function ct(){throw Error(a(321))}function cf(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!gn(t[r],i[r]))return!1;return!0}function hf(t,i,r,o,h,f){return Li=f,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=t===null||t.memoizedState===null?Qp:Rf,xa=!1,f=r(o,h),xa=!1,Ar&&(f=hp(i,r,o,h)),cp(t),f}function cp(t){z.H=Ko;var i=Ze!==null&&Ze.next!==null;if(Li=0,bt=Ze=Ce=null,ju=!1,Go=0,br=null,i)throw Error(a(300));t===null||wt||(t=t.dependencies,t!==null&&Ru(t)&&(wt=!0))}function hp(t,i,r,o){Ce=t;var h=0;do{if(Ar&&(br=null),Go=0,Ar=!1,25<=h)throw Error(a(301));if(h+=1,bt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Yp,f=i(r,o)}while(Ar);return f}function jS(){var t=z.H,i=t.useState()[0];return i=typeof i.then=="function"?Qo(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function ff(){var t=ku!==0;return ku=0,t}function df(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function mf(t){if(ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ju=!1}Li=0,bt=Ze=Ce=null,Ar=!1,Go=ku=0,br=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ce.memoizedState=bt=t:bt=bt.next=t,bt}function pt(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=bt===null?Ce.memoizedState:bt.next;if(i!==null)bt=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Ce.memoizedState=bt=t:bt=bt.next=t}return bt}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var i=Go;return Go+=1,br===null&&(br=[]),t=tp(br,t,i),i=Ce,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?Qp:Rf),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===H)return qt(t)}throw Error(a(438,String(t)))}function gf(t){var i=null,r=Ce.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Uu(),Ce.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=V;return i.index++,r}function Pi(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=pt();return pf(i,Ze,t)}function pf(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var S=_=null,O=null,B=i,Y=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ve&W)===W:(Li&W)===W){var q=B.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===_r&&(Y=!0);else if((Li&q)===q){B=B.next,q===_r&&(Y=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(S=O=W,_=f):O=O.next=W,Ce.lanes|=q,Is|=q;W=B.action,xa&&r(f,W),f=B.hasEagerState?B.eagerState:r(f,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(S=O=q,_=f):O=O.next=q,Ce.lanes|=W,Is|=W;B=B.next}while(B!==null&&B!==i);if(O===null?_=f:O.next=S,!gn(f,t.memoizedState)&&(wt=!0,Y&&(r=vr,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=O,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var i=pt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=i.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);gn(f,i.memoizedState)||(wt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),r.lastRenderedState=f}return[f,o]}function fp(t,i,r){var o=Ce,h=pt(),f=ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=i();var _=!gn((Ze||h).memoizedState,r);if(_&&(h.memoizedState=r,wt=!0),h=h.queue,Tf(gp.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(o.flags|=2048,wr(9,{destroy:void 0},mp.bind(null,o,h,r,i),null),tt===null)throw Error(a(349));f||(Li&127)!==0||dp(o,i,r)}return r}function dp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ce.updateQueue,i===null?(i=Uu(),Ce.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function mp(t,i,r,o){i.value=r,i.getSnapshot=o,pp(i)&&yp(t)}function gp(t,i,r){return r(function(){pp(i)&&yp(t)})}function pp(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!gn(t,r)}catch{return!0}}function yp(t){var i=Sa(t,2);i!==null&&un(i,t,2)}function _f(t){var i=tn();if(typeof t=="function"){var r=t;if(t=r(),xa){An(!0);try{r()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function _p(t,i,r,o){return t.baseState=r,pf(t,Ze,typeof o=="function"?o:Pi)}function kS(t,i,r,o,h){if(qu(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};z.T!==null?r(!0):f.isTransition=!1,o(f),r=i.pending,r===null?(f.next=i.pending=f,vp(i,f)):(f.next=r.next,i.pending=r.next=f)}}function vp(t,i){var r=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=z.T,_={};z.T=_;try{var S=r(h,o),O=z.S;O!==null&&O(_,S),Tp(t,i,S)}catch(B){vf(t,i,B)}finally{f!==null&&_.types!==null&&(f.types=_.types),z.T=f}}else try{f=r(h,o),Tp(t,i,f)}catch(B){vf(t,i,B)}}function Tp(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ep(t,i,o)},function(o){return vf(t,i,o)}):Ep(t,i,r)}function Ep(t,i,r){i.status="fulfilled",i.value=r,Sp(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,vp(t,r)))}function vf(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,Sp(i),i=i.next;while(i!==o)}t.action=null}function Sp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ap(t,i){return i}function bp(t,i){if(ze){var r=tt.formState;if(r!==null){e:{var o=Ce;if(ze){if(it){t:{for(var h=it,f=On;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=Vn(h.nextSibling),o=h.data==="F!";break e}}_s(o)}o=!1}o&&(i=r[0])}}return r=tn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:i},r.queue=o,r=Hp.bind(null,Ce,o),o.dispatch=r,o=_f(!1),f=wf.bind(null,Ce,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,r=kS.bind(null,Ce,h,f,r),h.dispatch=r,o.memoizedState=t,[i,r,!1]}function wp(t){var i=pt();return Rp(i,Ze,t)}function Rp(t,i,r){if(i=pf(t,i,Ap)[0],t=Pu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Qo(i)}catch(_){throw _===Tr?Nu:_}else o=i;i=pt();var h=i.queue,f=h.dispatch;return r!==i.memoizedState&&(Ce.flags|=2048,wr(9,{destroy:void 0},US.bind(null,h,r),null)),[o,f,t]}function US(t,i){t.action=i}function Ip(t){var i=pt(),r=Ze;if(r!==null)return Rp(i,r,t);pt(),i=i.memoizedState,r=pt();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function wr(t,i,r,o){return t={tag:t,create:r,deps:o,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Uu(),Ce.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function Cp(){return pt().memoizedState}function zu(t,i,r,o){var h=tn();Ce.flags|=t,h.memoizedState=wr(1|i,{destroy:void 0},r,o===void 0?null:o)}function Bu(t,i,r,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&cf(o,Ze.memoizedState.deps)?h.memoizedState=wr(i,f,r,o):(Ce.flags|=t,h.memoizedState=wr(1|i,f,r,o))}function Np(t,i){zu(8390656,8,t,i)}function Tf(t,i){Bu(2048,8,t,i)}function LS(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Uu(),Ce.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Dp(t){var i=pt().memoizedState;return LS({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function xp(t,i){return Bu(4,2,t,i)}function Op(t,i){return Bu(4,4,t,i)}function Mp(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vp(t,i,r){r=r!=null?r.concat([t]):null,Bu(4,4,Mp.bind(null,i,t),r)}function Ef(){}function jp(t,i){var r=pt();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&cf(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function kp(t,i){var r=pt();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&cf(i,o[1]))return o[0];if(o=t(),xa){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[o,i],o}function Sf(t,i,r){return r===void 0||(Li&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Uy(),Ce.lanes|=t,Is|=t,r)}function Up(t,i,r,o){return gn(r,i)?r:Sr.current!==null?(t=Sf(t,r,o),gn(t,i)||(wt=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Ve&261930)===0?(wt=!0,t.memoizedState=r):(t=Uy(),Ce.lanes|=t,Is|=t,i)}function Lp(t,i,r,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=z.T,S={};z.T=S,wf(t,!1,i,r);try{var O=h(),B=z.S;if(B!==null&&B(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=MS(O,o);Yo(t,i,Y,En(t))}else Yo(t,i,o,En(t))}catch(W){Yo(t,i,{then:function(){},status:"rejected",reason:W},En())}finally{ie.p=f,_!==null&&S.types!==null&&(_.types=S.types),z.T=_}}function PS(){}function Af(t,i,r,o){if(t.tag!==5)throw Error(a(476));var h=Pp(t).queue;Lp(t,h,i,ge,r===null?PS:function(){return zp(t),r(o)})}function Pp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ge},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function zp(t){var i=Pp(t);i.next===null&&(i=t.alternate.memoizedState),Yo(t,i.next.queue,{},En())}function bf(){return qt(cl)}function Bp(){return pt().memoizedState}function qp(){return pt().memoizedState}function zS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=En();t=Es(r);var o=Ss(i,t,r);o!==null&&(un(o,i,r),qo(o,i,r)),i={cache:Zh()},t.payload=i;return}i=i.return}}function BS(t,i,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?Fp(i,r):(r=Bh(t,i,r,o),r!==null&&(un(r,t,o),Gp(r,i,o)))}function Hp(t,i,r){var o=En();Yo(t,i,r,o)}function Yo(t,i,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Fp(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,S=f(_,r);if(h.hasEagerState=!0,h.eagerState=S,gn(S,_))return Su(t,i,h,0),tt===null&&Eu(),!1}catch{}finally{}if(r=Bh(t,i,h,o),r!==null)return un(r,t,o),Gp(r,i,o),!0}return!1}function wf(t,i,r,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(i)throw Error(a(479))}else i=Bh(t,r,o,2),i!==null&&un(i,t,2)}function qu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Fp(t,i){Ar=ju=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Gp(t,i,r){if((r&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,go(t,r)}}var Ko={readContext:qt,use:Lu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Ko.useEffectEvent=ct;var Qp={readContext:qt,use:Lu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Np,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,zu(4194308,4,Mp.bind(null,i,t),r)},useLayoutEffect:function(t,i){return zu(4194308,4,t,i)},useInsertionEffect:function(t,i){zu(4,2,t,i)},useMemo:function(t,i){var r=tn();i=i===void 0?null:i;var o=t();if(xa){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=tn();if(r!==void 0){var h=r(i);if(xa){An(!0);try{r(i)}finally{An(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=BS.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=_f(t);var i=t.queue,r=Hp.bind(null,Ce,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(t,i){var r=tn();return Sf(r,t,i)},useTransition:function(){var t=_f(!1);return t=Lp.bind(null,Ce,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=Ce,h=tn();if(ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),tt===null)throw Error(a(349));(Ve&127)!==0||dp(o,i,r)}h.memoizedState=r;var f={value:r,getSnapshot:i};return h.queue=f,Np(gp.bind(null,o,f,t),[t]),o.flags|=2048,wr(9,{destroy:void 0},mp.bind(null,o,f,r,i),null),r},useId:function(){var t=tn(),i=tt.identifierPrefix;if(ze){var r=vi,o=_i;r=(o&~(1<<32-dt(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=ku++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=VS++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:bf,useFormState:bp,useActionState:bp,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=wf.bind(null,Ce,!0,r),r.dispatch=i,[t,i]},useMemoCache:gf,useCacheRefresh:function(){return tn().memoizedState=zS.bind(null,Ce)},useEffectEvent:function(t){var i=tn(),r={impl:t};return i.memoizedState=r,function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Rf={readContext:qt,use:Lu,useCallback:jp,useContext:qt,useEffect:Tf,useImperativeHandle:Vp,useInsertionEffect:xp,useLayoutEffect:Op,useMemo:kp,useReducer:Pu,useRef:Cp,useState:function(){return Pu(Pi)},useDebugValue:Ef,useDeferredValue:function(t,i){var r=pt();return Up(r,Ze.memoizedState,t,i)},useTransition:function(){var t=Pu(Pi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:bf,useFormState:wp,useActionState:wp,useOptimistic:function(t,i){var r=pt();return _p(r,Ze,t,i)},useMemoCache:gf,useCacheRefresh:qp};Rf.useEffectEvent=Dp;var Yp={readContext:qt,use:Lu,useCallback:jp,useContext:qt,useEffect:Tf,useImperativeHandle:Vp,useInsertionEffect:xp,useLayoutEffect:Op,useMemo:kp,useReducer:yf,useRef:Cp,useState:function(){return yf(Pi)},useDebugValue:Ef,useDeferredValue:function(t,i){var r=pt();return Ze===null?Sf(r,t,i):Up(r,Ze.memoizedState,t,i)},useTransition:function(){var t=yf(Pi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:bf,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,i){var r=pt();return Ze!==null?_p(r,Ze,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:qp};Yp.useEffectEvent=Dp;function If(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:A({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cf={enqueueSetState:function(t,i,r){t=t._reactInternals;var o=En(),h=Es(o);h.payload=i,r!=null&&(h.callback=r),i=Ss(t,h,o),i!==null&&(un(i,t,o),qo(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=En(),h=Es(o);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Ss(t,h,o),i!==null&&(un(i,t,o),qo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=En(),o=Es(r);o.tag=2,i!=null&&(o.callback=i),i=Ss(t,o,r),i!==null&&(un(i,t,r),qo(i,t,r))}};function Kp(t,i,r,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Vo(r,o)||!Vo(h,f):!0}function Xp(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&Cf.enqueueReplaceState(i,i.state,null)}function Oa(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function $p(t){Tu(t)}function Jp(t){console.error(t)}function Zp(t){Tu(t)}function Hu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Wp(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,i,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(t,i)},r}function ey(t){return t=Es(t),t.tag=3,t}function ty(t,i,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wp(i,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Wp(i,r,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function qS(t,i,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&yr(i,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?tc():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Du?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),ed(t,o,h)),!1;case 22:return r.flags|=65536,o===Du?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),ed(t,o,h)),!1}throw Error(a(435,r.tag))}return ed(t,o,h),tc(),!1}if(ze)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Yh&&(t=Error(a(422),{cause:o}),Uo(Nn(t,r)))):(o!==Yh&&(i=Error(a(423),{cause:o}),Uo(Nn(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Nn(o,r),h=Nf(t.stateNode,o,h),af(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,r),nl===null?nl=[f]:nl.push(f),ht!==4&&(ht=2),i===null)return!0;o=Nn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Nf(r.stateNode,o,t),af(r,t),!1;case 1:if(i=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ey(h),ty(h,t,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Df=Error(a(461)),wt=!1;function Ht(t,i,r,o){i.child=t===null?ap(i,null,r,o):Da(i,t.child,r,o)}function ny(t,i,r,o,h){r=r.render;var f=i.ref;if("ref"in o){var _={};for(var S in o)S!=="ref"&&(_[S]=o[S])}else _=o;return Ra(i),o=hf(t,i,r,_,f,h),S=ff(),t!==null&&!wt?(df(t,i,h),zi(t,i,h)):(ze&&S&&Gh(i),i.flags|=1,Ht(t,i,o,h),i.child)}function iy(t,i,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=f,sy(t,i,f,o,h)):(t=bu(r.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Lf(t,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(_,o)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Vi(f,o),t.ref=i.ref,t.return=i,i.child=t}function sy(t,i,r,o,h){if(t!==null){var f=t.memoizedProps;if(Vo(f,o)&&t.ref===i.ref)if(wt=!1,i.pendingProps=o=f,Lf(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return xf(t,i,r,o,h)}function ay(t,i,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return ry(t,i,f,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(i,f!==null?f.cachePool:null),f!==null?lp(i,f):of(),up(i);else return o=i.lanes=536870912,ry(t,i,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Cu(i,f.cachePool),lp(i,f),bs(),i.memoizedState=null):(t!==null&&Cu(i,null),of(),bs());return Ht(t,i,h,r),i.child}function Xo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ry(t,i,r,o,h){var f=ef();return f=f===null?null:{parent:At._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&Cu(i,null),of(),up(i),t!==null&&yr(t,i,o,!0),i.childLanes=h,null}function Fu(t,i){return i=Qu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function oy(t,i,r){return Da(i,t.child,null,r),t=Fu(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function HS(t,i,r){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Fu(i,o),i.lanes=536870912,Xo(null,t);if(uf(i),(t=it)?(t=v_(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ps!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=Fg(t),r.return=i,i.child=r,Bt=i,it=null)):t=null,t===null)throw _s(i);return i.lanes=536870912,null}return Fu(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(uf(i),h)if(i.flags&256)i.flags&=-257,i=oy(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(wt||yr(t,i,r,!1),h=(r&t.childLanes)!==0,wt||h){if(o=tt,o!==null&&(_=po(o,r),_!==0&&_!==f.retryLane))throw f.retryLane=_,Sa(t,_),un(o,t,_),Df;tc(),i=oy(t,i,r)}else t=f.treeContext,it=Vn(_.nextSibling),Bt=i,ze=!0,ys=null,On=!1,t!==null&&Yg(i,t),i=Fu(i,o),i.flags|=4096;return i}return t=Vi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Gu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function xf(t,i,r,o,h){return Ra(i),r=hf(t,i,r,o,void 0,h),o=ff(),t!==null&&!wt?(df(t,i,h),zi(t,i,h)):(ze&&o&&Gh(i),i.flags|=1,Ht(t,i,r,h),i.child)}function ly(t,i,r,o,h,f){return Ra(i),i.updateQueue=null,r=hp(i,o,r,h),cp(t),o=ff(),t!==null&&!wt?(df(t,i,f),zi(t,i,f)):(ze&&o&&Gh(i),i.flags|=1,Ht(t,i,r,f),i.child)}function uy(t,i,r,o,h){if(Ra(i),i.stateNode===null){var f=dr,_=r.contextType;typeof _=="object"&&_!==null&&(f=qt(_)),f=new r(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},nf(i),_=r.contextType,f.context=typeof _=="object"&&_!==null?qt(_):dr,f.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(If(i,r,_,o),f.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Fo(i,o,f,h),Ho(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,O=Oa(r,S);f.props=O;var B=f.context,Y=r.contextType;_=dr,typeof Y=="object"&&Y!==null&&(_=qt(Y));var W=r.getDerivedStateFromProps;Y=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||B!==_)&&Xp(i,f,o,_),Ts=!1;var q=i.memoizedState;f.state=q,Fo(i,o,f,h),Ho(),B=i.memoizedState,S||q!==B||Ts?(typeof W=="function"&&(If(i,r,W,o),B=i.memoizedState),(O=Ts||Kp(i,r,O,o,q,B,_))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=_,o=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,sf(t,i),_=i.memoizedProps,Y=Oa(r,_),f.props=Y,W=i.pendingProps,q=f.context,B=r.contextType,O=dr,typeof B=="object"&&B!==null&&(O=qt(B)),S=r.getDerivedStateFromProps,(B=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||q!==O)&&Xp(i,f,o,O),Ts=!1,q=i.memoizedState,f.state=q,Fo(i,o,f,h),Ho();var G=i.memoizedState;_!==W||q!==G||Ts||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof S=="function"&&(If(i,r,S,o),G=i.memoizedState),(Y=Ts||Kp(i,r,Y,o,q,G,O)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=G),f.props=o,f.state=G,f.context=O,o=Y):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,Gu(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Da(i,t.child,null,h),i.child=Da(i,null,r,h)):Ht(t,i,r,h),i.memoizedState=f.state,t=i.child):t=zi(t,i,h),t}function cy(t,i,r,o){return ba(),i.flags|=256,Ht(t,i,r,o),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Wg()}}function Vf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Tn),t}function hy(t,i,r){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?As(i):bs(),(t=it)?(t=v_(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ps!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=Fg(t),r.return=i,i.child=r,Bt=i,it=null)):t=null,t===null)throw _s(i);return pd(t)?i.lanes=32:i.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(bs(),h=i.mode,S=Qu({mode:"hidden",children:S},h),o=Aa(o,h,r,null),S.return=i,o.return=i,S.sibling=o,i.child=S,o=i.child,o.memoizedState=Mf(r),o.childLanes=Vf(t,_,r),i.memoizedState=Of,Xo(null,o)):(As(i),jf(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(f)i.flags&256?(As(i),i.flags&=-257,i=kf(t,i,r)):i.memoizedState!==null?(bs(),i.child=t.child,i.flags|=128,i=null):(bs(),S=o.fallback,h=i.mode,o=Qu({mode:"visible",children:o.children},h),S=Aa(S,h,r,null),S.flags|=2,o.return=i,S.return=i,o.sibling=S,i.child=o,Da(i,t.child,null,r),o=i.child,o.memoizedState=Mf(r),o.childLanes=Vf(t,_,r),i.memoizedState=Of,i=Xo(null,o));else if(As(i),pd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,o=Error(a(419)),o.stack="",o.digest=_,Uo({value:o,source:null,stack:null}),i=kf(t,i,r)}else if(wt||yr(t,i,r,!1),_=(r&t.childLanes)!==0,wt||_){if(_=tt,_!==null&&(o=po(_,r),o!==0&&o!==O.retryLane))throw O.retryLane=o,Sa(t,o),un(_,t,o),Df;gd(S)||tc(),i=kf(t,i,r)}else gd(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,it=Vn(S.nextSibling),Bt=i,ze=!0,ys=null,On=!1,t!==null&&Yg(i,t),i=jf(i,o.children),i.flags|=4096);return i}return h?(bs(),S=o.fallback,h=i.mode,O=t.child,B=O.sibling,o=Vi(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,B!==null?S=Vi(B,S):(S=Aa(S,h,r,null),S.flags|=2),S.return=i,o.return=i,o.sibling=S,i.child=o,Xo(null,o),o=i.child,S=t.child.memoizedState,S===null?S=Mf(r):(h=S.cachePool,h!==null?(O=At._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Wg(),S={baseLanes:S.baseLanes|r,cachePool:h}),o.memoizedState=S,o.childLanes=Vf(t,_,r),i.memoizedState=Of,Xo(t.child,o)):(As(i),r=t.child,t=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function jf(t,i){return i=Qu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qu(t,i){return t=pn(22,t,null,i),t.lanes=0,t}function kf(t,i,r){return Da(i,t.child,null,r),t=jf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function fy(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),$h(t.return,i,r)}function Uf(t,i,r,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=h,_.treeForkCount=f)}function dy(t,i,r){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,se(gt,_),Ht(t,i,o,r),o=ze?ko:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,r,i);else if(t.tag===19)fy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Vu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Uf(i,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Uf(i,!0,r,null,f,o);break;case"together":Uf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function zi(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Is|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(yr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Vi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Vi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Lf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function FS(t,i,r){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),vs(i,At,t.memoizedState.cache),ba();break;case 27:case 5:sa(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:vs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,uf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(As(i),i.flags|=128,null):(r&i.child.childLanes)!==0?hy(t,i,r):(As(i),t=zi(t,i,r),t!==null?t.sibling:null);As(i);break;case 19:var h=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(yr(t,i,r,!1),o=(r&i.childLanes)!==0),h){if(o)return dy(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(gt,gt.current),o)break;return null;case 22:return i.lanes=0,ay(t,i,r,i.pendingProps);case 24:vs(i,At,t.memoizedState.cache)}return zi(t,i,r)}function my(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!Lf(t,r)&&(i.flags&128)===0)return wt=!1,FS(t,i,r);wt=(t.flags&131072)!==0}else wt=!1,ze&&(i.flags&1048576)!==0&&Qg(i,ko,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ca(i.elementType),i.type=t,typeof t=="function")qh(t)?(o=Oa(t,o),i.tag=1,i=uy(null,i,t,o,r)):(i.tag=0,i=xf(null,i,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=ny(null,i,t,o,r);break e}else if(h===x){i.tag=14,i=iy(null,i,t,o,r);break e}}throw i=K(t)||t,Error(a(306,i,""))}}return i;case 0:return xf(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,h=Oa(o,i.pendingProps),uy(t,i,o,h,r);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,sf(t,i),Fo(i,o,null,r);var _=i.memoizedState;if(o=_.cache,vs(i,At,o),o!==f.cache&&Jh(i,[At],r,!0),Ho(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=cy(t,i,o,r);break e}else if(o!==h){h=Nn(Error(a(424)),i),Uo(h),i=cy(t,i,o,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Vn(t.firstChild),Bt=i,ze=!0,ys=null,On=!0,r=ap(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ba(),o===h){i=zi(t,i,r);break e}Ht(t,i,o,r)}i=i.child}return i;case 26:return Gu(t,i),t===null?(r=w_(i.type,null,i.pendingProps,null))?i.memoizedState=r:ze||(r=i.type,t=i.pendingProps,o=lc(Ne.current).createElement(r),o[Tt]=i,o[Vt]=t,Ft(o,r,t),Et(o),i.stateNode=o):i.memoizedState=w_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return sa(i),t===null&&ze&&(o=i.stateNode=S_(i.type,i.pendingProps,Ne.current),Bt=i,On=!0,h=it,Os(i.type)?(yd=h,it=Vn(o.firstChild)):it=h),Ht(t,i,i.pendingProps.children,r),Gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=o=it)&&(o=TA(o,i.type,i.pendingProps,On),o!==null?(i.stateNode=o,Bt=i,it=Vn(o.firstChild),On=!1,h=!0):h=!1),h||_s(i)),sa(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,fd(h,f)?o=null:_!==null&&fd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=hf(t,i,jS,null,null,r),cl._currentValue=h),Gu(t,i),Ht(t,i,o,r),i.child;case 6:return t===null&&ze&&((t=r=it)&&(r=EA(r,i.pendingProps,On),r!==null?(i.stateNode=r,Bt=i,it=null,t=!0):t=!1),t||_s(i)),null;case 13:return hy(t,i,r);case 4:return Dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Da(i,null,o,r):Ht(t,i,o,r),i.child;case 11:return ny(t,i,i.type,i.pendingProps,r);case 7:return Ht(t,i,i.pendingProps,r),i.child;case 8:return Ht(t,i,i.pendingProps.children,r),i.child;case 12:return Ht(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,vs(i,i.type,o.value),Ht(t,i,o.children,r),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ra(i),h=qt(h),o=o(h),i.flags|=1,Ht(t,i,o,r),i.child;case 14:return iy(t,i,i.type,i.pendingProps,r);case 15:return sy(t,i,i.type,i.pendingProps,r);case 19:return dy(t,i,r);case 31:return HS(t,i,r);case 22:return ay(t,i,r,i.pendingProps);case 24:return Ra(i),o=qt(At),t===null?(h=ef(),h===null&&(h=tt,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),i.memoizedState={parent:o,cache:h},nf(i),vs(i,At,h)):((t.lanes&r)!==0&&(sf(t,i),Fo(i,null,null,r),Ho()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vs(i,At,o)):(o=f.cache,vs(i,At,o),o!==h.cache&&Jh(i,[At],r,!0))),Ht(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Bi(t){t.flags|=4}function Pf(t,i,r,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Na=Du,tf}else t.flags&=-16777217}function gy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(i))if(By())t.flags|=8192;else throw Na=Du,tf}function Yu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Wl():536870912,t.lanes|=i,Nr|=i)}function $o(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function GS(t,i,r){var o=i.pendingProps;switch(Qh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ui(At),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pr(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kh())),st(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Bi(i),f!==null?(st(i),gy(i,f)):(st(i),Pf(i,h,null,o,r))):f?f!==t.memoizedState?(Bi(i),st(i),gy(i,f)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Bi(i),st(i),Pf(i,h,t,o,r)),null;case 27:if(Ka(i),r=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return st(i),null}t=re.current,pr(i)?Kg(i):(t=S_(h,o,r),i.stateNode=t,Bi(i))}return st(i),null;case 5:if(Ka(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return st(i),null}if(f=re.current,pr(i))Kg(i);else{var _=lc(Ne.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Tt]=i,f[Vt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Ft(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Bi(i)}}return st(i),Pf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Bi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,pr(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||h_(t.nodeValue,r)),t||_s(i,!0)}else t=lc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return st(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(o=pr(i),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=i}else ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else r=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(a(558))}return st(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pr(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=i}else ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Yu(i,i.updateQueue),st(i),null);case 4:return rt(),t===null&&od(i.stateNode.containerInfo),st(i),null;case 10:return Ui(i.type),st(i),null;case 19:if(J(gt),o=i.memoizedState,o===null)return st(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Vu(t),f!==null){for(i.flags|=128,$o(o,!1),t=f.updateQueue,i.updateQueue=t,Yu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Hg(r,t),r=r.sibling;return se(gt,gt.current&1|2),ze&&ji(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Wt()>Zu&&(i.flags|=128,h=!0,$o(o,!1),i.lanes=4194304)}else{if(!h)if(t=Vu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Yu(i,t),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return st(i),null}else 2*Wt()-o.renderingStartTime>Zu&&r!==536870912&&(i.flags|=128,h=!0,$o(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Wt(),t.sibling=null,r=gt.current,se(gt,h?r&1|2:r&1),ze&&ji(i,o.treeForkCount),t):(st(i),null);case 22:case 23:return _n(i),lf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),r=i.updateQueue,r!==null&&Yu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&J(Ia),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ui(At),st(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function QS(t,i){switch(Qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(At),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ka(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(a(340));ba()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ba()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(gt),null;case 4:return rt(),null;case 10:return Ui(i.type),null;case 22:case 23:return _n(i),lf(),t!==null&&J(Ia),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(At),null;case 25:return null;default:return null}}function py(t,i){switch(Qh(i),i.tag){case 3:Ui(At),rt();break;case 26:case 27:case 5:Ka(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:J(gt);break;case 10:Ui(i.type);break;case 22:case 23:_n(i),lf(),t!==null&&J(Ia);break;case 24:Ui(At)}}function Jo(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(S){$e(i,i.return,S)}}function ws(t,i,r){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var O=r,B=S;try{B()}catch(Y){$e(h,O,Y)}}}o=o.next}while(o!==f)}}catch(Y){$e(i,i.return,Y)}}function yy(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{op(i,r)}catch(o){$e(t,t.return,o)}}}function _y(t,i,r){r.props=Oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){$e(t,i,o)}}function Zo(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){$e(t,i,h)}}function Ti(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$e(t,i,h)}else r.current=null}function vy(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$e(t,t.return,h)}}function zf(t,i,r){try{var o=t.stateNode;mA(o,t.type,r,i),o[Vt]=i}catch(h){$e(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=qn));else if(o!==4&&(o===27&&Os(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(qf(t,i,r),t=t.sibling;t!==null;)qf(t,i,r),t=t.sibling}function Ku(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&(o===27&&Os(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ku(t,i,r),t=t.sibling;t!==null;)Ku(t,i,r),t=t.sibling}function Ey(t){var i=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,o,r),i[Tt]=t,i[Vt]=r}catch(f){$e(t,t.return,f)}}var qi=!1,Rt=!1,Hf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function YS(t,i){if(t=t.containerInfo,cd=gc,t=Vg(t),jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var _=0,S=-1,O=-1,B=0,Y=0,W=t,q=null;t:for(;;){for(var G;W!==r||h!==0&&W.nodeType!==3||(S=_+h),W!==f||o!==0&&W.nodeType!==3||(O=_+o),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===t)break t;if(q===r&&++B===h&&(S=_),q===f&&++Y===o&&(O=_),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}r=S===-1||O===-1?null:{start:S,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(hd={focusedElem:t,selectionRange:r},gc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=i,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var de=Oa(r.type,h);t=o.getSnapshotBeforeUpdate(de,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){$e(r,r.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)md(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function Ay(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(t,r),o&4&&Jo(5,r);break;case 1:if(Fi(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(r,r.return,_)}else{var h=Oa(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(r,r.return,_)}}o&64&&yy(r),o&512&&Zo(r,r.return);break;case 3:if(Fi(t,r),o&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{op(t,i)}catch(_){$e(r,r.return,_)}}break;case 27:i===null&&o&4&&Ey(r);case 26:case 5:Fi(t,r),i===null&&o&4&&vy(r),o&512&&Zo(r,r.return);break;case 12:Fi(t,r);break;case 31:Fi(t,r),o&4&&Ry(t,r);break;case 13:Fi(t,r),o&4&&Iy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nA.bind(null,r),SA(t,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){i=i!==null&&i.memoizedState!==null||Rt,h=qi;var f=Rt;qi=o,(Rt=i)&&!f?Gi(t,r,(r.subtreeFlags&8772)!==0):Fi(t,r),qi=h,Rt=f}break;case 30:break;default:Fi(t,r)}}function by(t){var i=t.alternate;i!==null&&(t.alternate=null,by(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Wa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,an=!1;function Hi(t,i,r){for(r=r.child;r!==null;)wy(t,i,r),r=r.sibling}function wy(t,i,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Rt||Ti(r,i),Hi(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||Ti(r,i);var o=lt,h=an;Os(r.type)&&(lt=r.stateNode,an=!1),Hi(t,i,r),ol(r.stateNode),lt=o,an=h;break;case 5:Rt||Ti(r,i);case 6:if(o=lt,h=an,lt=null,Hi(t,i,r),lt=o,an=h,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(r.stateNode)}catch(f){$e(r,i,f)}else try{lt.removeChild(r.stateNode)}catch(f){$e(r,i,f)}break;case 18:lt!==null&&(an?(t=lt,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ur(t)):y_(lt,r.stateNode));break;case 4:o=lt,h=an,lt=r.stateNode.containerInfo,an=!0,Hi(t,i,r),lt=o,an=h;break;case 0:case 11:case 14:case 15:ws(2,r,i),Rt||ws(4,r,i),Hi(t,i,r);break;case 1:Rt||(Ti(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&_y(r,i,o)),Hi(t,i,r);break;case 21:Hi(t,i,r);break;case 22:Rt=(o=Rt)||r.memoizedState!==null,Hi(t,i,r),Rt=o;break;default:Hi(t,i,r)}}function Ry(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ur(t)}catch(r){$e(i,i.return,r)}}}function Iy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ur(t)}catch(r){$e(i,i.return,r)}}function KS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sy),i;default:throw Error(a(435,t.tag))}}function Xu(t,i){var r=KS(t);i.forEach(function(o){if(!r.has(o)){r.add(o);var h=iA.bind(null,t,o);o.then(h,h)}})}function rn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Os(S.type)){lt=S.stateNode,an=!1;break e}break;case 5:lt=S.stateNode,an=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(lt===null)throw Error(a(160));wy(f,_,h),lt=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cy(i,t),i=i.sibling}var Kn=null;function Cy(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(i,t),on(t),o&4&&(ws(3,t,t.return),Jo(3,t),ws(5,t,t.return));break;case 1:rn(i,t),on(t),o&512&&(Rt||r===null||Ti(r,r.return)),o&64&&qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(rn(i,t),on(t),o&512&&(Rt||r===null||Ti(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,o,r),f[Tt]=t,Et(f),o=f;break e;case"link":var _=C_("link","href",h).get(o+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break t}}f=h.createElement(o),Ft(f,o,r),h.head.appendChild(f);break;case"meta":if(_=C_("meta","content",h).get(o+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break t}}f=h.createElement(o),Ft(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Tt]=t,Et(f),o=f}t.stateNode=o}else N_(h,t.type,t.stateNode);else t.stateNode=I_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?N_(h,t.type,t.stateNode):I_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:rn(i,t),on(t),o&512&&(Rt||r===null||Ti(r,r.return)),r!==null&&o&4&&zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(rn(i,t),on(t),o&512&&(Rt||r===null||Ti(r,r.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(de){$e(t,t.return,de)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,zf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(rn(i,t),on(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(de){$e(t,t.return,de)}}break;case 3:if(hc=null,h=Kn,Kn=uc(i.containerInfo),rn(i,t),Kn=h,on(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ur(i.containerInfo)}catch(de){$e(t,t.return,de)}Hf&&(Hf=!1,Ny(t));break;case 4:o=Kn,Kn=uc(t.stateNode.containerInfo),rn(i,t),on(t),Kn=o;break;case 12:rn(i,t),on(t);break;case 31:rn(i,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xu(t,o)));break;case 13:rn(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ju=Wt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xu(t,o)));break;case 22:h=t.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,B=qi,Y=Rt;if(qi=B||h,Rt=Y||O,rn(i,t),Rt=Y,qi=B,on(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||O||qi||Rt||Ma(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){O=r=i;try{if(f=O.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var W=O.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(de){$e(O,O.return,de)}}}else if(i.tag===6){if(r===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(de){$e(O,O.return,de)}}}else if(i.tag===18){if(r===null){O=i;try{var G=O.stateNode;h?__(G,!0):__(O.stateNode,!1)}catch(de){$e(O,O.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Xu(t,r))));break;case 19:rn(i,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xu(t,o)));break;case 30:break;case 21:break;default:rn(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var r,o=t.return;o!==null;){if(Ty(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Bf(t);Ku(t,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(sn(_,""),r.flags&=-33);var S=Bf(t);Ku(t,S,_);break;case 3:case 4:var O=r.stateNode.containerInfo,B=Bf(t);qf(t,B,O);break;default:throw Error(a(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ay(t,i.alternate,i),i=i.sibling}function Ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),Ma(i);break;case 1:Ti(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&_y(i,i.return,r),Ma(i);break;case 27:ol(i.stateNode);case 26:case 5:Ti(i,i.return),Ma(i);break;case 22:i.memoizedState===null&&Ma(i);break;case 30:Ma(i);break;default:Ma(i)}t=t.sibling}}function Gi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),Jo(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){$e(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var S=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)rp(O[h],S)}catch(B){$e(o,o.return,B)}}r&&_&64&&yy(f),Zo(f,f.return);break;case 27:Ey(f);case 26:case 5:Gi(h,f,r),r&&o===null&&_&4&&vy(f),Zo(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&_&4&&Ry(h,f);break;case 13:Gi(h,f,r),r&&_&4&&Iy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),Zo(f,f.return);break;case 30:break;default:Gi(h,f,r)}i=i.sibling}}function Ff(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Lo(r))}function Gf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t))}function Xn(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dy(t,i,r,o),i=i.sibling}function Dy(t,i,r,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,r,o),h&2048&&Jo(9,i);break;case 1:Xn(t,i,r,o);break;case 3:Xn(t,i,r,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t)));break;case 12:if(h&2048){Xn(t,i,r,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(i,i.return,O)}}else Xn(t,i,r,o);break;case 31:Xn(t,i,r,o);break;case 13:Xn(t,i,r,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Xn(t,i,r,o):Wo(t,i):f._visibility&2?Xn(t,i,r,o):(f._visibility|=2,Rr(t,i,r,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(_,i);break;case 24:Xn(t,i,r,o),h&2048&&Gf(i.alternate,i);break;default:Xn(t,i,r,o)}}function Rr(t,i,r,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,S=r,O=o,B=_.flags;switch(_.tag){case 0:case 11:case 15:Rr(f,_,S,O,h),Jo(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Rr(f,_,S,O,h):Wo(f,_):(Y._visibility|=2,Rr(f,_,S,O,h)),h&&B&2048&&Ff(_.alternate,_);break;case 24:Rr(f,_,S,O,h),h&&B&2048&&Gf(_.alternate,_);break;default:Rr(f,_,S,O,h)}i=i.sibling}}function Wo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,h=o.flags;switch(o.tag){case 22:Wo(r,o),h&2048&&Ff(o.alternate,o);break;case 24:Wo(r,o),h&2048&&Gf(o.alternate,o);break;default:Wo(r,o)}i=i.sibling}}var el=8192;function Ir(t,i,r){if(t.subtreeFlags&el)for(t=t.child;t!==null;)xy(t,i,r),t=t.sibling}function xy(t,i,r){switch(t.tag){case 26:Ir(t,i,r),t.flags&el&&t.memoizedState!==null&&VA(r,Kn,t.memoizedState,t.memoizedProps);break;case 5:Ir(t,i,r);break;case 3:case 4:var o=Kn;Kn=uc(t.stateNode.containerInfo),Ir(t,i,r),Kn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ir(t,i,r),el=o):Ir(t,i,r));break;default:Ir(t,i,r)}}function Oy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];kt=o,Vy(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&ws(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$u(t)):tl(t);break;default:tl(t)}}function $u(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];kt=o,Vy(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ws(8,i,i.return),$u(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,$u(i));break;default:$u(i)}t=t.sibling}}function Vy(t,i){for(;kt!==null;){var r=kt;switch(r.tag){case 0:case 11:case 15:ws(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,kt=o;else e:for(r=t;kt!==null;){o=kt;var h=o.sibling,f=o.return;if(by(o),o===r){kt=null;break e}if(h!==null){h.return=f,kt=h;break e}kt=f}}}var XS={getCacheForType:function(t){var i=qt(At),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return qt(At).controller.signal}},$S=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Oe=null,Ve=0,Xe=0,vn=null,Rs=!1,Cr=!1,Qf=!1,Qi=0,ht=0,Is=0,Va=0,Yf=0,Tn=0,Nr=0,nl=null,ln=null,Kf=!1,Ju=0,jy=0,Zu=1/0,Wu=null,Cs=null,Ot=0,Ns=null,Dr=null,Yi=0,Xf=0,$f=null,ky=null,il=0,Jf=null;function En(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:z.T!==null?id():eu()}function Uy(){if(Tn===0)if((Ve&536870912)===0||ze){var t=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Tn=t}else Tn=536870912;return t=yn.current,t!==null&&(t.flags|=32),Tn}function un(t,i,r){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(xr(t,0),Ds(t,Ve,Tn,!1)),la(t,r),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(Va|=r),ht===4&&Ds(t,Ve,Tn,!1)),Ei(t))}function Ly(t,i,r){if((Qe&6)!==0)throw Error(a(327));var o=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Pn(t,i),h=o?WS(t,i):Wf(t,i,!0),f=o;do{if(h===0){Cr&&!o&&Ds(t,i,0,!1);break}else{if(r=t.current.alternate,f&&!JS(r)){h=Wf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=nl;var O=S.current.memoizedState.isDehydrated;if(O&&(xr(S,_).flags|=256),_=Wf(S,_,!1),_!==2){if(Qf&&!O){S.errorRecoveryDisabledLanes|=f,Va|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){xr(t,0),Ds(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ds(o,i,Tn,!Rs);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Ju+300-Wt(),10<h)){if(Ds(o,i,Tn,!Rs),ii(o,0,!0)!==0)break e;Yi=i,o.timeoutHandle=g_(Py.bind(null,o,r,ln,Wu,Kf,i,Tn,Va,Nr,Rs,f,"Throttled",-0,0),h);break e}Py(o,r,ln,Wu,Kf,i,Tn,Va,Nr,Rs,f,null,-0,0)}}break}while(!0);Ei(t)}function Py(t,i,r,o,h,f,_,S,O,B,Y,W,q,G){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},xy(i,f,W);var de=(f&62914560)===f?Ju-Wt():(f&4194048)===f?jy-Wt():0;if(de=jA(W,de),de!==null){Yi=f,t.cancelPendingCommit=de(Yy.bind(null,t,i,f,r,o,h,_,S,O,Y,W,null,q,G)),Ds(t,f,_,!B);return}}Yy(t,i,f,r,o,h,_,S,O)}function JS(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ds(t,i,r,o){i&=~Yf,i&=~Va,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-dt(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&ua(t,r,i)}function ec(){return(Qe&6)===0?(sl(0),!1):!0}function Zf(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,ki=wa=null,mf(t),Er=null,zo=0,t=Oe;for(;t!==null;)py(t.alternate,t),t=t.return;Oe=null}}function xr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Yi=0,Zf(),tt=t,Oe=r=Vi(t.current,null),Ve=i,Xe=0,vn=null,Rs=!1,Cr=Pn(t,i),Qf=!1,Nr=Tn=Yf=Va=Is=ht=0,ln=nl=null,Kf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-dt(o),f=1<<h;i|=t[h],o&=~f}return Qi=i,Eu(),r}function zy(t,i){Ce=null,z.H=Ko,i===Tr||i===Nu?(i=np(),Xe=3):i===tf?(i=np(),Xe=4):Xe=i===Df?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Oe===null&&(ht=1,Hu(t,Nn(i,t.current)))}function By(){var t=yn.current;return t===null?!0:(Ve&4194048)===Ve?Mn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Mn:!1}function qy(){var t=z.H;return z.H=Ko,t===null?Ko:t}function Hy(){var t=z.A;return z.A=XS,t}function tc(){ht=4,Rs||(Ve&4194048)!==Ve&&yn.current!==null||(Cr=!0),(Is&134217727)===0&&(Va&134217727)===0||tt===null||Ds(tt,Ve,Tn,!1)}function Wf(t,i,r){var o=Qe;Qe|=2;var h=qy(),f=Hy();(tt!==t||Ve!==i)&&(Wu=null,xr(t,i)),i=!1;var _=ht;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,O=vn;switch(Xe){case 8:Zf(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var B=Xe;if(Xe=0,vn=null,Or(t,S,O,B),r&&Cr){_=0;break e}break;default:B=Xe,Xe=0,vn=null,Or(t,S,O,B)}}ZS(),_=ht;break}catch(Y){zy(t,Y)}while(!0);return i&&t.shellSuspendCounter++,ki=wa=null,Qe=o,z.H=h,z.A=f,Oe===null&&(tt=null,Ve=0,Eu()),_}function ZS(){for(;Oe!==null;)Fy(Oe)}function WS(t,i){var r=Qe;Qe|=2;var o=qy(),h=Hy();tt!==t||Ve!==i?(Wu=null,Zu=Wt()+500,xr(t,i)):Cr=Pn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var f=vn;t:switch(Xe){case 1:Xe=0,vn=null,Or(t,i,f,1);break;case 2:case 9:if(ep(f)){Xe=0,vn=null,Gy(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ei(t)},f.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ep(f)?(Xe=0,vn=null,Gy(i)):(Xe=0,vn=null,Or(t,i,f,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?D_(_):S.stateNode.complete){Xe=0,vn=null;var O=S.sibling;if(O!==null)Oe=O;else{var B=S.return;B!==null?(Oe=B,nc(B)):Oe=null}break t}}Xe=0,vn=null,Or(t,i,f,5);break;case 6:Xe=0,vn=null,Or(t,i,f,6);break;case 8:Zf(),ht=6;break e;default:throw Error(a(462))}}eA();break}catch(Y){zy(t,Y)}while(!0);return ki=wa=null,z.H=o,z.A=h,Qe=r,Oe!==null?0:(tt=null,Ve=0,Eu(),ht)}function eA(){for(;Oe!==null&&!Ch();)Fy(Oe)}function Fy(t){var i=my(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?nc(t):Oe=i}function Gy(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=ly(r,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=ly(r,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:mf(i);default:py(r,i),i=Oe=Hg(i,Qi),i=my(r,i,Qi)}t.memoizedProps=t.pendingProps,i===null?nc(t):Oe=i}function Or(t,i,r,o){ki=wa=null,mf(i),Er=null,zo=0;var h=i.return;try{if(qS(t,h,i,r,Ve)){ht=1,Hu(t,Nn(r,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;ht=1,Hu(t,Nn(r,t.current)),Oe=null;return}i.flags&32768?(ze||o===1?t=!0:Cr||(Ve&536870912)!==0?t=!1:(Rs=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(i,t)):nc(i)}function nc(t){var i=t;do{if((i.flags&32768)!==0){Qy(i,Rs);return}t=i.return;var r=GS(i.alternate,i,Qi);if(r!==null){Oe=r;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function Qy(t,i){do{var r=QS(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);ht=6,Oe=null}function Yy(t,i,r,o,h,f,_,S,O){t.cancelPendingCommit=null;do ic();while(Ot!==0);if((Qe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=zh,xh(t,r,f,_,S,O),t===tt&&(Oe=tt=null,Ve=0),Dr=i,Ns=t,Yi=r,Xf=f,$f=h,ky=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sA(rs,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=z.T,z.T=null,h=ie.p,ie.p=2,_=Qe,Qe|=4;try{YS(t,i,r)}finally{Qe=_,ie.p=h,z.T=o}}Ot=1,Ky(),Xy(),$y()}}function Ky(){if(Ot===1){Ot=0;var t=Ns,i=Dr,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var o=ie.p;ie.p=2;var h=Qe;Qe|=4;try{Cy(i,t);var f=hd,_=Vg(t.containerInfo),S=f.focusedElem,O=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&Mg(S.ownerDocument.documentElement,S)){if(O!==null&&jh(S)){var B=O.start,Y=O.end;if(Y===void 0&&(Y=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Y,S.value.length);else{var W=S.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),de=S.textContent.length,Te=Math.min(O.start,de),et=O.end===void 0?Te:Math.min(O.end,de);!G.extend&&Te>et&&(_=et,et=Te,Te=_);var U=Og(S,Te),j=Og(S,et);if(U&&j&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==j.node||G.focusOffset!==j.offset)){var P=W.createRange();P.setStart(U.node,U.offset),G.removeAllRanges(),Te>et?(G.addRange(P),G.extend(j.node,j.offset)):(P.setEnd(j.node,j.offset),G.addRange(P))}}}}for(W=[],G=S;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var $=W[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}gc=!!cd,hd=cd=null}finally{Qe=h,ie.p=o,z.T=r}}t.current=i,Ot=2}}function Xy(){if(Ot===2){Ot=0;var t=Ns,i=Dr,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var o=ie.p;ie.p=2;var h=Qe;Qe|=4;try{Ay(t,i.alternate,i)}finally{Qe=h,ie.p=o,z.T=r}}Ot=3}}function $y(){if(Ot===4||Ot===3){Ot=0,Yl();var t=Ns,i=Dr,r=Yi,o=ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Dr=Ns=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cs=null),Di(r),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ln,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=z.T,h=ie.p,ie.p=2,z.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var S=o[_];f(S.value,{componentStack:S.stack})}}finally{z.T=i,ie.p=h}}(Yi&3)!==0&&ic(),Ei(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Jf?il++:(il=0,Jf=t):il=0,sl(0)}}function Jy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Lo(i)))}function ic(){return Ky(),Xy(),$y(),Zy()}function Zy(){if(Ot!==5)return!1;var t=Ns,i=Xf;Xf=0;var r=Di(Yi),o=z.T,h=ie.p;try{ie.p=32>r?32:r,z.T=null,r=$f,$f=null;var f=Ns,_=Yi;if(Ot=0,Dr=Ns=null,Yi=0,(Qe&6)!==0)throw Error(a(331));var S=Qe;if(Qe|=4,My(f.current),Dy(f,f.current,_,r),Qe=S,sl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{ie.p=h,z.T=o,Jy(t,i)}}function Wy(t,i,r){i=Nn(r,i),i=Nf(t.stateNode,i,2),t=Ss(t,i,2),t!==null&&(la(t,2),Ei(t))}function $e(t,i,r){if(t.tag===3)Wy(t,t,r);else for(;i!==null;){if(i.tag===3){Wy(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){t=Nn(r,t),r=ey(2),o=Ss(i,r,2),o!==null&&(ty(r,o,i,t),la(o,2),Ei(o));break}}i=i.return}}function ed(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new $S;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(r)||(Qf=!0,h.add(r),t=tA.bind(null,t,i,r),i.then(t,t))}function tA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(Ve&r)===r&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>Wt()-Ju?(Qe&2)===0&&xr(t,0):Yf|=r,Nr===Ve&&(Nr=0)),Ei(t)}function e_(t,i){i===0&&(i=Wl()),t=Sa(t,i),t!==null&&(la(t,i),Ei(t))}function nA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),e_(t,r)}function iA(t,i){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),e_(t,r)}function sA(t,i){return xt(t,i)}var sc=null,Mr=null,td=!1,ac=!1,nd=!1,xs=0;function Ei(t){t!==Mr&&t.next===null&&(Mr===null?sc=Mr=t:Mr=Mr.next=t),ac=!0,td||(td=!0,rA())}function sl(t,i){if(!nd&&ac){nd=!0;do for(var r=!1,o=sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,s_(o,f))}else f=Ve,f=ii(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,s_(o,f));o=o.next}while(r);nd=!1}}function aA(){t_()}function t_(){ac=td=!1;var t=0;xs!==0&&pA()&&(t=xs);for(var i=Wt(),r=null,o=sc;o!==null;){var h=o.next,f=n_(o,i);f===0?(o.next=null,r===null?sc=h:r.next=h,h===null&&(Mr=r)):(r=o,(t!==0||(f&3)!==0)&&(ac=!0)),o=h}Ot!==0&&Ot!==5||sl(t),xs!==0&&(xs=0)}function n_(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-dt(f),S=1<<_,O=h[_];O===-1?((S&r)===0||(S&o)!==0)&&(h[_]=Dh(S,i)):O<=i&&(t.expiredLanes|=S),f&=~S}if(i=tt,r=Ve,r=ii(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&as(o),Di(r)){case 2:case 8:r=mo;break;case 32:r=rs;break;case 268435456:r=Kl;break;default:r=rs}return o=i_.bind(null,t),r=xt(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&as(o),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ic()&&t.callbackNode!==r)return null;var o=Ve;return o=ii(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,i),n_(t,Wt()),t.callbackNode!=null&&t.callbackNode===r?i_.bind(null,t):null)}function s_(t,i){if(ic())return null;Ly(t,i,!0)}function rA(){_A(function(){(Qe&6)!==0?xt(fo,aA):t_()})}function id(){if(xs===0){var t=_r;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),xs=t}return xs}function a_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ir(""+t)}function r_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function oA(t,i,r,o,h){if(i==="submit"&&r&&r.stateNode===h){var f=a_((h[Vt]||null).action),_=o.submitter;_&&(i=(i=_[Vt]||null)?a_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var S=new mi("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var O=_?r_(h,_):new FormData(h);Af(r,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(S.preventDefault(),O=_?r_(h,_):new FormData(h),Af(r,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var sd=0;sd<Ph.length;sd++){var ad=Ph[sd],lA=ad.toLowerCase(),uA=ad[0].toUpperCase()+ad.slice(1);Yn(lA,"on"+uA)}Yn(Ug,"onAnimationEnd"),Yn(Lg,"onAnimationIteration"),Yn(Pg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(wS,"onTransitionRun"),Yn(RS,"onTransitionStart"),Yn(IS,"onTransitionCancel"),Yn(zg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function o_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var S=o[_],O=S.instance,B=S.currentTarget;if(S=S.listener,O!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=B;try{f(h)}catch(Y){Tu(Y)}h.currentTarget=null,f=O}else for(_=0;_<o.length;_++){if(S=o[_],O=S.instance,B=S.currentTarget,S=S.listener,O!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=B;try{f(h)}catch(Y){Tu(Y)}h.currentTarget=null,f=O}}}}function Me(t,i){var r=i[Za];r===void 0&&(r=i[Za]=new Set);var o=t+"__bubble";r.has(o)||(l_(i,t,2,!1),r.add(o))}function rd(t,i,r){var o=0;i&&(o|=4),l_(r,t,o,i)}var rc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[rc]){t[rc]=!0,yo.forEach(function(r){r!=="selectionchange"&&(cA.has(r)||rd(r,!1,t),rd(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[rc]||(i[rc]=!0,rd("selectionchange",!1,i))}}function l_(t,i,r,o){switch(U_(i)){case 2:var h=LA;break;case 8:h=PA;break;default:h=Sd}r=h.bind(null,i,r,t),h=void 0,!ma||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function ld(t,i,r,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var S=o.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=o.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=oi(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){o=f=_;continue e}S=S.parentNode}}o=o.return}fs(function(){var B=f,Y=wn(r),W=[];e:{var q=Bg.get(t);if(q!==void 0){var G=mi,de=t;switch(t){case"keypress":if(pa(r)===0)break e;case"keydown":case"keyup":G=yu;break;case"focusin":de="focus",G=_a;break;case"focusout":de="blur",G=_a;break;case"beforeblur":case"afterblur":G=_a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Ug:case Lg:case Pg:G=cu;break;case zg:G=w;break;case"scroll":case"scrollend":G=No;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Mi;break;case"toggle":case"beforetoggle":G=Ie}var Te=(i&4)!==0,et=!Te&&(t==="scroll"||t==="scrollend"),U=Te?q!==null?q+"Capture":null:q;Te=[];for(var j=B,P;j!==null;){var $=j;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||U===null||($=Hn(j,U),$!=null&&Te.push(rl(j,$,P))),et)break;j=j.return}0<Te.length&&(q=new G(q,de,null,r,Y),W.push({event:q,listeners:Te}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&r!==Ro&&(de=r.relatedTarget||r.fromElement)&&(oi(de)||de[ai]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(de=r.relatedTarget||r.toElement,G=B,de=de?oi(de):null,de!==null&&(et=u(de),Te=de.tag,de!==et||Te!==5&&Te!==27&&Te!==6)&&(de=null)):(G=null,de=B),G!==de)){if(Te=Do,$="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Mi,$="onPointerLeave",U="onPointerEnter",j="pointer"),et=G==null?q:dn(G),P=de==null?q:dn(de),q=new Te($,j+"leave",G,r,Y),q.target=et,q.relatedTarget=P,$=null,oi(Y)===B&&(Te=new Te(U,j+"enter",de,r,Y),Te.target=P,Te.relatedTarget=et,$=Te),et=$,G&&de)t:{for(Te=hA,U=G,j=de,P=0,$=U;$;$=Te($))P++;$=0;for(var ye=j;ye;ye=Te(ye))$++;for(;0<P-$;)U=Te(U),P--;for(;0<$-P;)j=Te(j),$--;for(;P--;){if(U===j||j!==null&&U===j.alternate){Te=U;break t}U=Te(U),j=Te(j)}Te=null}else Te=null;G!==null&&u_(W,q,G,Te,!1),de!==null&&et!==null&&u_(W,et,de,Te,!0)}}e:{if(q=B?dn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var He=Rg;else if(bg(q))if(Ig)He=SS;else{He=TS;var me=vS}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&nr(B.elementType)&&(He=Rg):He=ES;if(He&&(He=He(t,B))){wg(W,He,r,Y);break e}me&&me(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ao(q,"number",q.value)}switch(me=B?dn(B):window,t){case"focusin":(bg(me)||me.contentEditable==="true")&&(cr=me,kh=B,jo=null);break;case"focusout":jo=kh=cr=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,jg(W,r,Y);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":jg(W,r,Y)}var De;if(Ge)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ur?va(t,r)&&(je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(yi&&r.locale!=="ko"&&(ur||je!=="onCompositionStart"?je==="onCompositionEnd"&&ur&&(De=Co()):(di=Y,Io="value"in di?di.value:di.textContent,ur=!0)),me=oc(B,je),0<me.length&&(je=new pi(je,t,null,r,Y),W.push({event:je,listeners:me}),De?je.data=De:(De=lr(r),De!==null&&(je.data=De)))),(De=In?gS(t,r):pS(t,r))&&(je=oc(B,"onBeforeInput"),0<je.length&&(me=new pi("onBeforeInput","beforeinput",null,r,Y),W.push({event:me,listeners:je}),me.data=De)),oA(W,t,B,r,Y)}o_(W,i)})}function rl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function oc(t,i){for(var r=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,r),h!=null&&o.unshift(rl(t,h,f)),h=Hn(t,i),h!=null&&o.push(rl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function hA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,i,r,o,h){for(var f=i._reactName,_=[];r!==null&&r!==o;){var S=r,O=S.alternate,B=S.stateNode;if(S=S.tag,O!==null&&O===o)break;S!==5&&S!==26&&S!==27||B===null||(O=B,h?(B=Hn(r,f),B!=null&&_.unshift(rl(r,B,O))):h||(B=Hn(r,f),B!=null&&_.push(rl(r,B,O)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(fA,`
`).replace(dA,"")}function h_(t,i){return i=c_(i),c_(t)===i}function We(t,i,r,o,h,f){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(t,""+o);break;case"className":mn(t,"class",o);break;case"tabIndex":mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,r,o);break;case"style":wo(t,o,f);break;case"data":if(i!=="object"){mn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ir(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ir(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=qn);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ir(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),er(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":er(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ou.get(r)||r,er(t,r,o))}}function ud(t,i,r,o,h,f){switch(r){case"style":wo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),f=t[Vt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):er(t,r,o)}}}function Ft(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,f,_,r,null)}}h&&We(t,i,"srcSet",r.srcSet,r,null),o&&We(t,i,"src",r.src,r,null);return;case"input":Me("invalid",t);var S=f=_=h=null,O=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":_=Y;break;case"checked":O=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:We(t,i,o,Y,r,null)}}su(t,f,S,O,B,_,h,!1);return;case"select":Me("invalid",t),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(S=r[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":o=S;default:We(t,i,h,S,r,null)}i=f,r=_,t.multiple=!!o,i!=null?ls(t,!!o,i,!1):r!=null&&ls(t,!!o,r,!0);return;case"textarea":Me("invalid",t),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":o=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:We(t,i,_,S,r,null)}us(t,o,h,f);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(o=r[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,O,o,r,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<al.length;o++)Me(al[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,B,o,r,null)}return;default:if(nr(i)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&ud(t,i,Y,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&We(t,i,S,o,r,null))}function mA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,S=null,O=null,B=null,Y=null;for(G in r){var W=r[G];if(r.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=W;default:o.hasOwnProperty(G)||We(t,i,G,null,o,W)}}for(var q in o){var G=o[q];if(W=r[q],o.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:G!==W&&We(t,i,q,G,o,W)}}tr(t,_,S,O,B,Y,f,h);return;case"select":G=_=S=q=null;for(f in r)if(O=r[f],r.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":G=O;default:o.hasOwnProperty(f)||We(t,i,f,null,o,O)}for(h in o)if(f=o[h],O=r[h],o.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":q=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==O&&We(t,i,h,f,o,O)}i=S,r=_,o=G,q!=null?ls(t,!!r,q,!1):!!o!=!!r&&(i!=null?ls(t,!!r,i,!0):ls(t,!!r,r?[]:"",!1));return;case"textarea":G=q=null;for(S in r)if(h=r[S],r.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,i,_,h,o,f)}au(t,q,G);return;case"option":for(var de in r)if(q=r[de],r.hasOwnProperty(de)&&q!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:We(t,i,de,null,o,q)}for(O in o)if(q=o[O],G=r[O],o.hasOwnProperty(O)&&q!==G&&(q!=null||G!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,i,O,q,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)q=r[Te],r.hasOwnProperty(Te)&&q!=null&&!o.hasOwnProperty(Te)&&We(t,i,Te,null,o,q);for(B in o)if(q=o[B],G=r[B],o.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:We(t,i,B,q,o,G)}return;default:if(nr(i)){for(var et in r)q=r[et],r.hasOwnProperty(et)&&q!==void 0&&!o.hasOwnProperty(et)&&ud(t,i,et,void 0,o,q);for(Y in o)q=o[Y],G=r[Y],!o.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||ud(t,i,Y,q,o,G);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&We(t,i,U,null,o,q);for(W in o)q=o[W],G=r[W],!o.hasOwnProperty(W)||q===G||q==null&&G==null||We(t,i,W,q,o,G)}function f_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,_=h.initiatorType,S=h.duration;if(f&&S&&f_(_)){for(_=0,S=h.responseEnd,o+=1;o<r.length;o++){var O=r[o],B=O.startTime;if(B>S)break;var Y=O.transferSize,W=O.initiatorType;Y&&f_(W)&&(O=O.responseEnd,_+=Y*(O<S?1:(S-B)/(O-B)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function lc(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function fd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dd=null;function pA(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(vA)}:g_;function vA(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function y_(t,i){var r=i,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ur(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ol(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ol(r);for(var f=r.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=_}}else r==="body"&&ol(t.ownerDocument.body);r=h}while(r);Ur(i)}function __(t,i){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Wa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function TA(t,i,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ri])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function EA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function v_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vn(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function SA(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var yd=null;function T_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Vn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function E_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function S_(t,i,r){switch(i=lc(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Wa(t)}var jn=new Map,A_=new Set;function uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ie.d;ie.d={f:AA,r:bA,D:wA,C:RA,L:IA,m:CA,X:DA,S:NA,M:xA};function AA(){var t=Ki.f(),i=ec();return t||i}function bA(t){var i=bn(t);i!==null&&i.tag===5&&i.type==="form"?zp(i):Ki.r(t)}var Vr=typeof document>"u"?null:document;function b_(t,i,r){var o=Vr;if(o&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),A_.has(h)||(A_.add(h),t={rel:t,crossOrigin:r,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ft(i,"link",t),Et(i),o.head.appendChild(i)))}}function wA(t){Ki.D(t),b_("dns-prefetch",t,null)}function RA(t,i){Ki.C(t,i),b_("preconnect",t,i)}function IA(t,i,r){Ki.L(t,i,r);var o=Vr;if(o&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var f=h;switch(i){case"style":f=jr(t);break;case"script":f=kr(t)}jn.has(f)||(t=A({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),jn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(ll(f))||i==="script"&&o.querySelector(ul(f))||(i=o.createElement("link"),Ft(i,"link",t),Et(i),o.head.appendChild(i)))}}function CA(t,i){Ki.m(t,i);var r=Vr;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=kr(t)}if(!jn.has(f)&&(t=A({rel:"modulepreload",href:t},i),jn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ul(f)))return}o=r.createElement("link"),Ft(o,"link",t),Et(o),r.head.appendChild(o)}}}function NA(t,i,r){Ki.S(t,i,r);var o=Vr;if(o&&t){var h=li(o).hoistableStyles,f=jr(t);i=i||"default";var _=h.get(f);if(!_){var S={loading:0,preload:null};if(_=o.querySelector(ll(f)))S.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},r),(r=jn.get(f))&&_d(t,r);var O=_=o.createElement("link");Et(O),Ft(O,"link",t),O._p=new Promise(function(B,Y){O.onload=B,O.onerror=Y}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,cc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(f,_)}}}function DA(t,i){Ki.X(t,i);var r=Vr;if(r&&t){var o=li(r).hoistableScripts,h=kr(t),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(t=A({src:t,async:!0},i),(i=jn.get(h))&&vd(t,i),f=r.createElement("script"),Et(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xA(t,i){Ki.M(t,i);var r=Vr;if(r&&t){var o=li(r).hoistableScripts,h=kr(t),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(t=A({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&vd(t,i),f=r.createElement("script"),Et(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(t,i,r,o){var h=(h=Ne.current)?uc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=jr(r.href),r=li(h).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=jr(r.href);var f=li(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(ll(t)))&&!f._p&&(_.instance=f,_.state.loading=5),jn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},jn.set(t,r),f||OA(h,t,r,_.state))),i&&o===null)throw Error(a(528,""));return _}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=kr(r),r=li(h).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function jr(t){return'href="'+nn(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function OA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",r),Et(i),t.head.appendChild(i))}function kr(t){return'[src="'+nn(t)+'"]'}function ul(t){return"script[async]"+t}function I_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Ft(o,"style",h),cc(o,r.precedence,t),i.instance=o;case"stylesheet":h=jr(r.href);var f=t.querySelector(ll(h));if(f)return i.state.loading|=4,i.instance=f,Et(f),f;o=R_(r),(h=jn.get(h))&&_d(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var _=f;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(f,"link",o),i.state.loading|=4,cc(f,r.precedence,t),i.instance=f;case"script":return f=kr(r.src),(h=t.querySelector(ul(f)))?(i.instance=h,Et(h),h):(o=r,(h=jn.get(f))&&(o=A({},r),vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,cc(o,r.precedence,t));return i.instance}function cc(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var S=o[_];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function _d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var hc=null;function C_(t,i,r){if(hc===null){var o=new Map,h=hc=new Map;h.set(r,o)}else h=hc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var S=o.get(_);S?S.push(f):o.set(_,[f])}}return o}function N_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function MA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function VA(t,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=jr(o.href),f=i.querySelector(ll(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=fc.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=f,Et(f);return}f=i.ownerDocument||i,o=R_(o),(h=jn.get(h))&&_d(o,h),f=f.createElement("link"),Et(f);var _=f;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=fc.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var Td=0;function jA(t,i){return t.stylesheets&&t.count===0&&mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Td===0&&(Td=62500*gA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function mc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,i.forEach(kA,t),dc=null,fc.call(t))}function kA(t,i){if(!(i.state.loading&4)){var r=dc.get(t);if(r)var o=r.get(null);else{r=new Map,dc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var cl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function UA(t,i,r,o,h,f,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function x_(t,i,r,o,h,f,_,S,O,B,Y,W){return t=new UA(t,i,r,_,O,B,Y,W,S),i=1,f===!0&&(i|=24),f=pn(3,null,null,i),t.current=f,f.stateNode=t,i=Zh(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:i},nf(f),t}function O_(t){return t?(t=dr,t):dr}function M_(t,i,r,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(i),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ss(t,o,i),r!==null&&(un(r,t,i),qo(r,t,i))}function V_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Ed(t,i){V_(t,i),(t=t.alternate)&&V_(t,i)}function j_(t){if(t.tag===13||t.tag===31){var i=Sa(t,67108864);i!==null&&un(i,t,67108864),Ed(t,67108864)}}function k_(t){if(t.tag===13||t.tag===31){var i=En();i=ca(i);var r=Sa(t,i);r!==null&&un(r,t,i),Ed(t,i)}}var gc=!0;function LA(t,i,r,o){var h=z.T;z.T=null;var f=ie.p;try{ie.p=2,Sd(t,i,r,o)}finally{ie.p=f,z.T=h}}function PA(t,i,r,o){var h=z.T;z.T=null;var f=ie.p;try{ie.p=8,Sd(t,i,r,o)}finally{ie.p=f,z.T=h}}function Sd(t,i,r,o){if(gc){var h=Ad(o);if(h===null)ld(t,i,o,pc,r),L_(t,o);else if(BA(h,t,i,r,o))o.stopPropagation();else if(L_(t,o),i&4&&-1<zA.indexOf(t)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ni(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-dt(_);S.entanglements[1]|=O,_&=~O}Ei(f),(Qe&6)===0&&(Zu=Wt()+500,sl(0))}}break;case 31:case 13:S=Sa(f,2),S!==null&&un(S,f,2),ec(),Ed(f,2)}if(f=Ad(o),f===null&&ld(t,i,o,pc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(t,i,o,null,r)}}function Ad(t){return t=wn(t),bd(t)}var pc=null;function bd(t){if(pc=null,t=oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=g(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return pc=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ra()){case fo:return 2;case mo:return 8;case rs:case Nh:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var wd=!1,Ms=null,Vs=null,js=null,hl=new Map,fl=new Map,ks=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,i){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(t,i,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&j_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function BA(t,i,r,o,h){switch(i){case"focusin":return Ms=dl(Ms,t,i,r,o,h),!0;case"dragenter":return Vs=dl(Vs,t,i,r,o,h),!0;case"mouseover":return js=dl(js,t,i,r,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,t,i,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,t,i,r,o,h)),!0}return!1}function P_(t){var i=oi(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,zn(t.priority,function(){k_(r)});return}}else if(i===31){if(i=g(r),i!==null){t.blockedOn=i,zn(t.priority,function(){k_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Ad(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return i=bn(r),i!==null&&j_(i),t.blockedOn=r,!1;i.shift()}return!0}function z_(t,i,r){yc(t)&&r.delete(i)}function qA(){wd=!1,Ms!==null&&yc(Ms)&&(Ms=null),Vs!==null&&yc(Vs)&&(Vs=null),js!==null&&yc(js)&&(js=null),hl.forEach(z_),fl.forEach(z_)}function _c(t,i){t.blockedOn===i&&(t.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qA)))}var vc=null;function B_(t){vc!==t&&(vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vc===t&&(vc=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(bd(o||r)===null)continue;break}var f=bn(r);f!==null&&(t.splice(i,3),i-=3,Af(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ur(t){function i(O){return _c(O,t)}Ms!==null&&_c(Ms,t),Vs!==null&&_c(Vs,t),js!==null&&_c(js,t),hl.forEach(i),fl.forEach(i);for(var r=0;r<ks.length;r++){var o=ks[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)P_(r),r.blockedOn===null&&ks.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[Vt]||null;if(typeof f=="function")_||B_(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Vt]||null)S=_.formAction;else if(bd(h)!==null)continue}else S=_.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),B_(r)}}}function q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Rd(t){this._internalRoot=t}Tc.prototype.render=Rd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=En();M_(r,o,t,i,null,null)},Tc.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;M_(t.current,2,null,t,null,null),ec(),i[ai]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var i=eu();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ks.length&&i!==0&&i<ks[r].priority;r++);ks.splice(r,0,t),r===0&&P_(t)}};var H_=e.version;if(H_!=="19.2.0")throw Error(a(527,H_,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var HA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Ln=Ec.inject(HA),Pt=Ec}catch{}}return gl.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",h=$p,f=Jp,_=Zp;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=x_(t,1,!1,null,null,r,o,null,h,f,_,q_),t[ai]=i.current,od(t),new Rd(i)},gl.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=$p,_=Jp,S=Zp,O=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(O=r.formState)),i=x_(t,1,!0,i,r??null,o,h,O,f,_,S,q_),i.context=O_(null),r=i.current,o=En(),o=ca(o),h=Es(o),h.callback=null,Ss(r,h,o),r=o,i.current.lanes=r,la(i,r),Ei(i),t[ai]=i.current,od(t),new Tc(i)},gl.version="19.2.0",gl}var W_;function WA(){if(W_)return Nd.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nd.exports=ZA(),Nd.exports}var eb=WA();const tb=()=>{};var ev={};const V0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},nb=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,E=u>>2,A=(u&3)<<4|g>>4;let I=(g&15)<<2|p>>6,k=p&63;y||(k=64,d||(I=64)),a.push(n[E],n[A],n[I],n[k])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(V0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||A==null)throw new ib;const I=u<<2|g>>4;if(a.push(I),p!==64){const k=g<<4&240|p>>2;if(a.push(k),A!==64){const Q=p<<6&192|A;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sb=function(s){const e=V0(s);return j0.encodeByteArray(e,!0)},Lc=function(s){return sb(s).replace(/\./g,"")},k0=function(s){try{return j0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rb=()=>ab().__FIREBASE_DEFAULTS__,ob=()=>{if(typeof process>"u"||typeof ev>"u")return;const s=ev.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&k0(s[1]);return e&&JSON.parse(e)},ah=()=>{try{return tb()||rb()||ob()||lb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},U0=s=>ah()?.emulatorHosts?.[s],ub=s=>{const e=U0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},L0=()=>ah()?.config,P0=s=>ah()?.[`_${s}`];class cb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z0(s){return(await fetch(s,{credentials:"include"})).ok}function hb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lc(JSON.stringify(n)),Lc(JSON.stringify(d)),""].join(".")}const Tl={};function fb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?s.emulator.push(e):s.prod.push(e);return s}function db(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let tv=!1;function B0(s,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Tl[s]===e||Tl[s]||tv)return;Tl[s]=e;function n(I){return`__firebase__banner__${I}`}const a="__firebase__banner",u=fb().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{tv=!0,d()},I}function E(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=db(a),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),ee=n("learnmore"),X=document.getElementById(ee)||document.createElement("a"),oe=n("preprendIcon"),he=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const H=I.element;g(H),E(X,ee);const ce=p();y(he,oe),H.append(he,Q,X,ce),document.body.appendChild(H)}u?(Q.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function gb(){const s=ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function _b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vb(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Tb(){return!gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eb(){try{return typeof indexedDB=="object"}catch{return!1}}function Sb(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Ab="FirebaseError";class ss extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Ab,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?bb(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ss(l,g,a)}}function bb(s,e){return s.replace(wb,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const wb=/\{\$([^}]+)}/g;function Rb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ba(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=s[l],d=e[l];if(nv(u)&&nv(d)){if(!Ba(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function nv(s){return s!==null&&typeof s=="object"}function kl(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ib(s,e){const n=new Cb(s,e);return n.subscribe.bind(n)}class Cb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Nb(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nb(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Md(){}function Lt(s){return s&&s._delegate?s._delegate:s}class qa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class Db{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new cb;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ob(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:xb(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(s){return s===ja?void 0:s}function Ob(s){return s.instantiationMode==="EAGER"}class Mb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Db(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const Vb={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},jb=ke.INFO,kb={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Ub=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=kb[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=jb,this._logHandler=Ub,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Lb=(s,e)=>e.some(n=>s instanceof n);let iv,sv;function Pb(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,Qd=new WeakMap,H0=new WeakMap,Vd=new WeakMap,Sm=new WeakMap;function Bb(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Hs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&q0.set(n,s)}).catch(()=>{}),Sm.set(e,s),e}function qb(s){if(Qd.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,e)}let Yd={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Qd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||H0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Hb(s){Yd=s(Yd)}function Fb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(jd(this),e,...n);return H0.set(a,e.sort?e.sort():[e]),Hs(a)}:zb().includes(s)?function(...e){return s.apply(jd(this),e),Hs(q0.get(this))}:function(...e){return Hs(s.apply(jd(this),e))}}function Gb(s){return typeof s=="function"?Fb(s):(s instanceof IDBTransaction&&qb(s),Lb(s,Pb())?new Proxy(s,Yd):s)}function Hs(s){if(s instanceof IDBRequest)return Bb(s);if(Vd.has(s))return Vd.get(s);const e=Gb(s);return e!==s&&(Vd.set(s,e),Sm.set(e,s)),e}const jd=s=>Sm.get(s);function Qb(s,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=Hs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const Yb=["get","getKey","getAll","getAllKeys","count"],Kb=["put","add","delete","clear"],kd=new Map;function av(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=Kb.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Yb.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return kd.set(e,u),u}Hb(s=>({...s,get:(e,n,a)=>av(e,n)||s.get(e,n,a),has:(e,n)=>!!av(e,n)||s.has(e,n)}));class Xb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($b(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function $b(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",rv="0.14.6";const Wi=new Em("@firebase/app"),Jb="@firebase/app-compat",Zb="@firebase/analytics-compat",Wb="@firebase/analytics",e1="@firebase/app-check-compat",t1="@firebase/app-check",n1="@firebase/auth",i1="@firebase/auth-compat",s1="@firebase/database",a1="@firebase/data-connect",r1="@firebase/database-compat",o1="@firebase/functions",l1="@firebase/functions-compat",u1="@firebase/installations",c1="@firebase/installations-compat",h1="@firebase/messaging",f1="@firebase/messaging-compat",d1="@firebase/performance",m1="@firebase/performance-compat",g1="@firebase/remote-config",p1="@firebase/remote-config-compat",y1="@firebase/storage",_1="@firebase/storage-compat",v1="@firebase/firestore",T1="@firebase/ai",E1="@firebase/firestore-compat",S1="firebase",A1="12.6.0";const Xd="[DEFAULT]",b1={[Kd]:"fire-core",[Jb]:"fire-core-compat",[Wb]:"fire-analytics",[Zb]:"fire-analytics-compat",[t1]:"fire-app-check",[e1]:"fire-app-check-compat",[n1]:"fire-auth",[i1]:"fire-auth-compat",[s1]:"fire-rtdb",[a1]:"fire-data-connect",[r1]:"fire-rtdb-compat",[o1]:"fire-fn",[l1]:"fire-fn-compat",[u1]:"fire-iid",[c1]:"fire-iid-compat",[h1]:"fire-fcm",[f1]:"fire-fcm-compat",[d1]:"fire-perf",[m1]:"fire-perf-compat",[g1]:"fire-rc",[p1]:"fire-rc-compat",[y1]:"fire-gcs",[_1]:"fire-gcs-compat",[v1]:"fire-fst",[E1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[S1]:"fire-js-all"};const Pc=new Map,w1=new Map,$d=new Map;function ov(s,e){try{s.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Qr(s){const e=s.name;if($d.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,s);for(const n of Pc.values())ov(n,s);for(const n of w1.values())ov(n,s);return!0}function Am(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function $n(s){return s==null?!1:s.settings!==void 0}const R1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new jl("app","Firebase",R1);class I1{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const to=A1;function F0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Xd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(n||(n=L0()),!n)throw Fs.create("no-options");const u=Pc.get(l);if(u){if(Ba(n,u.options)&&Ba(a,u.config))return u;throw Fs.create("duplicate-app",{appName:l})}const d=new Mb(l);for(const y of $d.values())d.addComponent(y);const g=new I1(n,a,d);return Pc.set(l,g),g}function G0(s=Xd){const e=Pc.get(s);if(!e&&s===Xd&&L0())return F0();if(!e)throw Fs.create("no-app",{appName:s});return e}function Gs(s,e,n){let a=b1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Qr(new qa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const C1="firebase-heartbeat-database",N1=1,Rl="firebase-heartbeat-store";let Ud=null;function Q0(){return Ud||(Ud=Qb(C1,N1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Fs.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function D1(s){try{const n=(await Q0()).transaction(Rl),a=await n.objectStore(Rl).get(Y0(s));return await n.done,a}catch(e){if(e instanceof ss)Wi.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}}async function lv(s,e){try{const a=(await Q0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(e,Y0(s)),await a.done}catch(n){if(n instanceof ss)Wi.warn(n.message);else{const a=Fs.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(a.message)}}}function Y0(s){return`${s.name}!${s.options.appId}`}const x1=1024,O1=30;class M1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>O1){const l=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uv(),{heartbeatsToSend:n,unsentEntries:a}=V1(this._heartbeatsCache.heartbeats),l=Lc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Wi.warn(e),""}}}function uv(){return new Date().toISOString().substring(0,10)}function V1(s,e=x1){const n=[];let a=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),cv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),cv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class j1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eb()?Sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await D1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function cv(s){return Lc(JSON.stringify({version:2,heartbeats:s})).length}function k1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}function U1(s){Qr(new qa("platform-logger",e=>new Xb(e),"PRIVATE")),Qr(new qa("heartbeat",e=>new M1(e),"PRIVATE")),Gs(Kd,rv,s),Gs(Kd,rv,"esm2020"),Gs("fire-js","")}U1("");var L1="firebase",P1="12.6.0";Gs(L1,P1,"app");function K0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=K0,X0=new jl("auth","Firebase",K0());const zc=new Em("@firebase/auth");function B1(s,...e){zc.logLevel<=ke.WARN&&zc.warn(`Auth (${to}): ${s}`,...e)}function Cc(s,...e){zc.logLevel<=ke.ERROR&&zc.error(`Auth (${to}): ${s}`,...e)}function Ci(s,...e){throw wm(s,...e)}function Zn(s,...e){return wm(s,...e)}function bm(s,e,n){const a={...z1(),[e]:n};return new jl("auth","Firebase",a).create(e,{appName:s.name})}function La(s){return bm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q1(s,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ci(s,"argument-error"),bm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return X0.create(s,...e)}function Ae(s,e,...n){if(!s)throw wm(e,...n)}function $i(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Cc(e),new Error(e)}function es(s,e){s||$i(e)}function Jd(){return typeof self<"u"&&self.location?.href||""}function H1(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function F1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H1()||yb()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=mb()||_b()}get(){return F1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,e){es(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K1=new Ul(3e4,6e4);function Im(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function no(s,e,n,a,l={}){return J0(s,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const g=kl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...u};return pb()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(p.credentials="include"),$0.fetch()(await Z0(s,s.config.apiHost,n,g),p)})}async function J0(s,e,n){s._canInitEmulator=!1;const a={...Q1,...e};try{const l=new $1(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Sc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Sc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Sc(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bm(s,E,p);Ci(s,E)}}catch(l){if(l instanceof ss)throw l;Ci(s,"network-request-failed",{message:String(l)})}}async function X1(s,e,n,a,l={}){const u=await no(s,e,n,a,l);return"mfaPendingCredential"in u&&Ci(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Z0(s,e,n,a){const l=`${e}${n}?${a}`,u=s,d=u.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return Y1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class $1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),K1.get())})}}function Sc(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Zn(s,e,a);return l.customData._tokenResponse=n,l}async function J1(s,e){return no(s,"POST","/v1/accounts:delete",e)}async function Bc(s,e){return no(s,"POST","/v1/accounts:lookup",e)}function El(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z1(s,e=!1){const n=Lt(s),a=await n.getIdToken(e),l=Cm(a);Ae(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:a,authTime:El(Ld(l.auth_time)),issuedAtTime:El(Ld(l.iat)),expirationTime:El(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ld(s){return Number(s)*1e3}function Cm(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=k0(n);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function fv(s){const e=Cm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Il(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ss&&W1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function W1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ew{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qc(s){const e=s.auth,n=await s.getIdToken(),a=await Il(s,Bc(e,{idToken:n}));Ae(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?W0(l.providerUserInfo):[],d=nw(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,E)}async function tw(s){const e=Lt(s);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nw(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function W0(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iw(s,e){const n=await J0(s,{},async()=>{const a=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await Z0(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(y.credentials="include"),$0.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sw(s,e){return no(s,"POST","/v2/accounts:revokeToken",Im(s,e))}class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=fv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await iw(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,d=new qr;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Ae(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Ls(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z1(this,e)}reload(){return tw(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(La(this.auth));const e=await this.getIdToken();return await Il(this,J1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:k,providerData:Q,stsTokenManager:ee}=n;Ae(A&&ee,e,"internal-error");const X=qr.fromJSON(this.name,ee);Ae(typeof A=="string",e,"internal-error"),Ls(a,e.name),Ls(l,e.name),Ae(typeof I=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),Ls(u,e.name),Ls(d,e.name),Ls(g,e.name),Ls(y,e.name),Ls(p,e.name),Ls(E,e.name);const oe=new Jn({uid:A,auth:e,email:l,emailVerified:I,displayName:a,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:X,createdAt:p,lastLoginAt:E});return Q&&Array.isArray(Q)&&(oe.providerData=Q.map(he=>({...he}))),y&&(oe._redirectEventId=y),oe}static async _fromIdTokenResponse(e,n,a=!1){const l=new qr;l.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await qc(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ae(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?W0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new qr;g.updateFromIdToken(a);const y=new Jn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const dv=new Map;function Ji(s){es(s instanceof Function,"Expected a class definition");let e=dv.get(s);return e?(es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dv.set(s,e),e)}class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eT.type="NONE";const mv=eT;function Nc(s,e,n){return`firebase:${s}:${e}:${n}`}class Hr{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Nc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bc(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Hr(Ji(mv),e,a);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||Ji(mv);const d=Nc(a,e.config.apiKey,e.name);let g=null;for(const p of n)try{const E=await p._get(d);if(E){let A;if(typeof E=="string"){const I=await Bc(e,{idToken:E}).catch(()=>{});if(!I)break;A=await Jn._fromGetAccountInfoResponse(e,I,E)}else A=Jn._fromJSON(e,E);p!==u&&(g=A),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Hr(u,e,a):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new Hr(u,e,a))}}function gv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(aT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function tT(s=Zt()){return/firefox\//i.test(s)}function nT(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(s=Zt()){return/crios\//i.test(s)}function sT(s=Zt()){return/iemobile/i.test(s)}function aT(s=Zt()){return/android/i.test(s)}function rT(s=Zt()){return/blackberry/i.test(s)}function oT(s=Zt()){return/webos/i.test(s)}function Nm(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aw(s=Zt()){return Nm(s)&&!!window.navigator?.standalone}function rw(){return vb()&&document.documentMode===10}function lT(s=Zt()){return Nm(s)||aT(s)||oT(s)||rT(s)||/windows phone/i.test(s)||sT(s)}function uT(s,e=[]){let n;switch(s){case"Browser":n=gv(Zt());break;case"Worker":n=`${gv(Zt())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${a}`}class ow{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lw(s,e={}){return no(s,"GET","/v2/passwordPolicy",Im(s,e))}const uw=6;class cw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class hw{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bc(this,{idToken:e}),a=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(La(this));const n=e?Lt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lw(this),n=new cw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await sw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Hr.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&B1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rh(s){return Lt(s)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ib(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(s){Dm=s}function dw(s){return Dm.loadJS(s)}function mw(){return Dm.gapiScript}function gw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function pw(s,e){const n=Am(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ba(u,e??{}))return l;Ci(l,"already-initialized")}return n.initialize({options:e})}function yw(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ji);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function _w(s,e,n){const a=rh(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=cT(e),{host:d,port:g}=vw(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Ba(p,a.config.emulator)&&Ba(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(z0(`${u}//${d}${y}`),B0("Auth",!0)):Tw()}function cT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vw(s){const e=cT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:yv(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:yv(d)}}}function yv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Tw(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class hT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function Fr(s,e){return X1(s,"POST","/v1/accounts:signInWithIdp",Im(s,e))}const Ew="http://localhost";class Ha extends hT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const d=new Ha(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Fr(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Fr(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fr(e,n)}buildRequest(){const e={requestUri:Ew,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}class xm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ll extends xm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends Ll{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Xi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Xi.credential(n,a)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class zs extends Ll{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Bs extends Ll{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Bs.credential(n,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await Jn._fromIdTokenResponse(e,a,l),d=_v(a);return new Yr({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=_v(a);return new Yr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function _v(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Hc extends ss{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Hc(e,n,a,l)}}function fT(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(s,u,e,a):u})}async function Sw(s,e,n=!1){const a=await Il(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Yr._forOperation(s,"link",a)}async function Aw(s,e,n=!1){const{auth:a}=s;if($n(a.app))return Promise.reject(La(a));const l="reauthenticate";try{const u=await Il(s,fT(a,l,e,s),n);Ae(u.idToken,a,"internal-error");const d=Cm(u.idToken);Ae(d,a,"internal-error");const{sub:g}=d;return Ae(s.uid===g,a,"user-mismatch"),Yr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ci(a,"user-mismatch"),u}}async function bw(s,e,n=!1){if($n(s.app))return Promise.reject(La(s));const a="signIn",l=await fT(s,a,e),u=await Yr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(u.user),u}function ww(s,e,n,a){return Lt(s).onIdTokenChanged(e,n,a)}function Rw(s,e,n){return Lt(s).beforeAuthStateChanged(e,n)}function Iw(s,e,n,a){return Lt(s).onAuthStateChanged(e,n,a)}function Cw(s){return Lt(s).signOut()}const Fc="__sak";class dT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nw=1e3,Dw=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);rw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Dw):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const xw=mT;class gT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const pT=gT;function Ow(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new oh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await Ow(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Om(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class Mw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=Om("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const I=A;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(I.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function Vw(s){Ai().location.href=s}function yT(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function jw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){return navigator?.serviceWorker?.controller||null}function Uw(){return yT()?self:null}const _T="firebaseLocalStorageDb",Lw=1,Gc="firebaseLocalStorage",vT="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lh(s,e){return s.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function Pw(){const s=indexedDB.deleteDatabase(_T);return new Pl(s).toPromise()}function Wd(){const s=indexedDB.open(_T,Lw);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Gc,{keyPath:vT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Gc)?e(a):(a.close(),await Pw(),e(await Wd()))})})}async function vv(s,e,n){const a=lh(s,!0).put({[vT]:e,value:n});return new Pl(a).toPromise()}async function zw(s,e){const n=lh(s,!1).get(e),a=await new Pl(n).toPromise();return a===void 0?null:a.value}function Tv(s,e){const n=lh(s,!0).delete(e);return new Pl(n).toPromise()}const Bw=800,qw=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>qw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(Uw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jw(),!this.activeServiceWorker)return;this.sender=new Mw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await vv(e,Fc,"1"),await Tv(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>vv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>zw(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=lh(l,!1).getAll();return new Pl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const Hw=TT;new Ul(3e4,6e4);function ET(s,e){return e?Ji(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mm extends hT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fw(s){return bw(s.auth,new Mm(s),s.bypassAuthState)}function Gw(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),Aw(n,new Mm(s),s.bypassAuthState)}async function Qw(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),Sw(n,new Mm(s),s.bypassAuthState)}class ST{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fw;case"linkViaPopup":case"linkViaRedirect":return Qw;case"reauthViaPopup":case"reauthViaRedirect":return Gw;default:Ci(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yw=new Ul(2e3,1e4);async function Kw(s,e,n){if($n(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=rh(s);q1(s,e,xm);const l=ET(a,n);return new ka(a,"signInViaPopup",e,l).executeNotNull()}class ka extends ST{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yw.get())};e()}}ka.currentPopupAction=null;const Xw="pendingRedirect",Dc=new Map;class $w extends ST{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const a=await Jw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jw(s,e){const n=eR(e),a=Ww(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function Zw(s,e){Dc.set(s._key(),e)}function Ww(s){return Ji(s._redirectPersistence)}function eR(s){return Nc(Xw,s.config.apiKey,s.name)}async function tR(s,e,n=!1){if($n(s.app))return Promise.reject(La(s));const a=rh(s),l=ET(a,e),d=await new $w(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const nR=600*1e3;class iR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function AT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function sR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(s);default:return!1}}async function aR(s,e={}){return no(s,"GET","/v1/projects",e)}const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oR=/^https?/;async function lR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await aR(s);for(const n of e)try{if(uR(n))return}catch{}Ci(s,"unauthorized-domain")}function uR(s){const e=Jd(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!oR.test(n))return!1;if(rR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const cR=new Ul(3e4,6e4);function Sv(){const s=Ai().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function hR(s){return new Promise((e,n)=>{function a(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),n(Zn(s,"network-request-failed"))},timeout:cR.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=gw("iframefcb");return Ai()[l]=()=>{gapi.load?a():n(Zn(s,"network-request-failed"))},dw(`${mw()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw xc=null,e})}let xc=null;function fR(s){return xc=xc||hR(s),xc}const dR=new Ul(5e3,15e3),mR="__/auth/iframe",gR="emulator/auth/iframe",pR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _R(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Rm(e,gR):`https://${s.config.authDomain}/${mR}`,a={apiKey:e.apiKey,appName:s.name,v:to},l=yR.get(s.config.apiHost);l&&(a.eid=l);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${kl(a).slice(1)}`}async function vR(s){const e=await fR(s),n=Ai().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:_R(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pR,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),g=Ai().setTimeout(()=>{u(d)},dR.get());function y(){Ai().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{u(d)})}))}const TR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ER=500,SR=600,AR="_blank",bR="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wR(s,e,n,a=ER,l=SR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...TR,width:a.toString(),height:l.toString(),top:u,left:d},p=Zt().toLowerCase();n&&(g=iT(p)?AR:n),tT(p)&&(e=e||bR,y.scrollbars="yes");const E=Object.entries(y).reduce((I,[k,Q])=>`${I}${k}=${Q},`,"");if(aw(p)&&g!=="_self")return RR(e||"",g),new Av(null);const A=window.open(e||"",g,E);Ae(A,s,"popup-blocked");try{A.focus()}catch{}return new Av(A)}function RR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const IR="__/auth/handler",CR="emulator/auth/handler",NR=encodeURIComponent("fac");async function bv(s,e,n,a,l,u){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:to,eventId:l};if(e instanceof xm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Rb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof Ll){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),p=y?`#${NR}=${encodeURIComponent(y)}`:"";return`${DR(s)}?${kl(g).slice(1)}${p}`}function DR({config:s}){return s.emulator?Rm(s,CR):`https://${s.authDomain}/${IR}`}const Pd="webStorageSupport";class xR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=tR,this._overrideRedirectResult=Zw}async _openPopup(e,n,a,l){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bv(e,n,a,Jd(),l);return wR(e,u,Om())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await bv(e,n,a,Jd(),l);return Vw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(es(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await vR(e),a=new iR(e);return n.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pd,{type:Pd},l=>{const u=l?.[0]?.[Pd];u!==void 0&&n(!!u),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lT()||nT()||Nm()}}const OR=xR;var wv="@firebase/auth",Rv="1.11.1";class MR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jR(s){Qr(new qa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(s)},p=new hw(a,l,u,y);return yw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Qr(new qa("auth-internal",e=>{const n=rh(e.getProvider("auth").getImmediate());return(a=>new MR(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(wv,Rv,VR(s)),Gs(wv,Rv,"esm2020")}const kR=300,UR=P0("authIdTokenMaxAge")||kR;let Iv=null;const LR=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>UR)return;const l=n?.token;Iv!==l&&(Iv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PR(s=G0()){const e=Am(s,"auth");if(e.isInitialized())return e.getImmediate();const n=pw(s,{popupRedirectResolver:OR,persistence:[Hw,xw,pT]}),a=P0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=LR(u.toString());Rw(n,d,()=>d(n.currentUser)),ww(n,g=>d(g))}}const l=U0("auth");return l&&_w(n,`http://${l}`),n}function zR(){return document.getElementsByTagName("head")?.[0]??document}fw({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const u=Zn("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",zR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jR("Browser");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,bT;(function(){var s;function e(x,b){function N(){}N.prototype=b.prototype,x.F=b.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(V,C,M){for(var R=Array(arguments.length-2),K=2;K<arguments.length;K++)R[K-2]=arguments[K];return b.prototype[C].apply(V,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,b,N){N||(N=0);const V=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)V[C]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(C=0;C<16;++C)V[C]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=x.g[0],N=x.g[1],C=x.g[2];let M=x.g[3],R;R=b+(M^N&(C^M))+V[0]+3614090360&4294967295,b=N+(R<<7&4294967295|R>>>25),R=M+(C^b&(N^C))+V[1]+3905402710&4294967295,M=b+(R<<12&4294967295|R>>>20),R=C+(N^M&(b^N))+V[2]+606105819&4294967295,C=M+(R<<17&4294967295|R>>>15),R=N+(b^C&(M^b))+V[3]+3250441966&4294967295,N=C+(R<<22&4294967295|R>>>10),R=b+(M^N&(C^M))+V[4]+4118548399&4294967295,b=N+(R<<7&4294967295|R>>>25),R=M+(C^b&(N^C))+V[5]+1200080426&4294967295,M=b+(R<<12&4294967295|R>>>20),R=C+(N^M&(b^N))+V[6]+2821735955&4294967295,C=M+(R<<17&4294967295|R>>>15),R=N+(b^C&(M^b))+V[7]+4249261313&4294967295,N=C+(R<<22&4294967295|R>>>10),R=b+(M^N&(C^M))+V[8]+1770035416&4294967295,b=N+(R<<7&4294967295|R>>>25),R=M+(C^b&(N^C))+V[9]+2336552879&4294967295,M=b+(R<<12&4294967295|R>>>20),R=C+(N^M&(b^N))+V[10]+4294925233&4294967295,C=M+(R<<17&4294967295|R>>>15),R=N+(b^C&(M^b))+V[11]+2304563134&4294967295,N=C+(R<<22&4294967295|R>>>10),R=b+(M^N&(C^M))+V[12]+1804603682&4294967295,b=N+(R<<7&4294967295|R>>>25),R=M+(C^b&(N^C))+V[13]+4254626195&4294967295,M=b+(R<<12&4294967295|R>>>20),R=C+(N^M&(b^N))+V[14]+2792965006&4294967295,C=M+(R<<17&4294967295|R>>>15),R=N+(b^C&(M^b))+V[15]+1236535329&4294967295,N=C+(R<<22&4294967295|R>>>10),R=b+(C^M&(N^C))+V[1]+4129170786&4294967295,b=N+(R<<5&4294967295|R>>>27),R=M+(N^C&(b^N))+V[6]+3225465664&4294967295,M=b+(R<<9&4294967295|R>>>23),R=C+(b^N&(M^b))+V[11]+643717713&4294967295,C=M+(R<<14&4294967295|R>>>18),R=N+(M^b&(C^M))+V[0]+3921069994&4294967295,N=C+(R<<20&4294967295|R>>>12),R=b+(C^M&(N^C))+V[5]+3593408605&4294967295,b=N+(R<<5&4294967295|R>>>27),R=M+(N^C&(b^N))+V[10]+38016083&4294967295,M=b+(R<<9&4294967295|R>>>23),R=C+(b^N&(M^b))+V[15]+3634488961&4294967295,C=M+(R<<14&4294967295|R>>>18),R=N+(M^b&(C^M))+V[4]+3889429448&4294967295,N=C+(R<<20&4294967295|R>>>12),R=b+(C^M&(N^C))+V[9]+568446438&4294967295,b=N+(R<<5&4294967295|R>>>27),R=M+(N^C&(b^N))+V[14]+3275163606&4294967295,M=b+(R<<9&4294967295|R>>>23),R=C+(b^N&(M^b))+V[3]+4107603335&4294967295,C=M+(R<<14&4294967295|R>>>18),R=N+(M^b&(C^M))+V[8]+1163531501&4294967295,N=C+(R<<20&4294967295|R>>>12),R=b+(C^M&(N^C))+V[13]+2850285829&4294967295,b=N+(R<<5&4294967295|R>>>27),R=M+(N^C&(b^N))+V[2]+4243563512&4294967295,M=b+(R<<9&4294967295|R>>>23),R=C+(b^N&(M^b))+V[7]+1735328473&4294967295,C=M+(R<<14&4294967295|R>>>18),R=N+(M^b&(C^M))+V[12]+2368359562&4294967295,N=C+(R<<20&4294967295|R>>>12),R=b+(N^C^M)+V[5]+4294588738&4294967295,b=N+(R<<4&4294967295|R>>>28),R=M+(b^N^C)+V[8]+2272392833&4294967295,M=b+(R<<11&4294967295|R>>>21),R=C+(M^b^N)+V[11]+1839030562&4294967295,C=M+(R<<16&4294967295|R>>>16),R=N+(C^M^b)+V[14]+4259657740&4294967295,N=C+(R<<23&4294967295|R>>>9),R=b+(N^C^M)+V[1]+2763975236&4294967295,b=N+(R<<4&4294967295|R>>>28),R=M+(b^N^C)+V[4]+1272893353&4294967295,M=b+(R<<11&4294967295|R>>>21),R=C+(M^b^N)+V[7]+4139469664&4294967295,C=M+(R<<16&4294967295|R>>>16),R=N+(C^M^b)+V[10]+3200236656&4294967295,N=C+(R<<23&4294967295|R>>>9),R=b+(N^C^M)+V[13]+681279174&4294967295,b=N+(R<<4&4294967295|R>>>28),R=M+(b^N^C)+V[0]+3936430074&4294967295,M=b+(R<<11&4294967295|R>>>21),R=C+(M^b^N)+V[3]+3572445317&4294967295,C=M+(R<<16&4294967295|R>>>16),R=N+(C^M^b)+V[6]+76029189&4294967295,N=C+(R<<23&4294967295|R>>>9),R=b+(N^C^M)+V[9]+3654602809&4294967295,b=N+(R<<4&4294967295|R>>>28),R=M+(b^N^C)+V[12]+3873151461&4294967295,M=b+(R<<11&4294967295|R>>>21),R=C+(M^b^N)+V[15]+530742520&4294967295,C=M+(R<<16&4294967295|R>>>16),R=N+(C^M^b)+V[2]+3299628645&4294967295,N=C+(R<<23&4294967295|R>>>9),R=b+(C^(N|~M))+V[0]+4096336452&4294967295,b=N+(R<<6&4294967295|R>>>26),R=M+(N^(b|~C))+V[7]+1126891415&4294967295,M=b+(R<<10&4294967295|R>>>22),R=C+(b^(M|~N))+V[14]+2878612391&4294967295,C=M+(R<<15&4294967295|R>>>17),R=N+(M^(C|~b))+V[5]+4237533241&4294967295,N=C+(R<<21&4294967295|R>>>11),R=b+(C^(N|~M))+V[12]+1700485571&4294967295,b=N+(R<<6&4294967295|R>>>26),R=M+(N^(b|~C))+V[3]+2399980690&4294967295,M=b+(R<<10&4294967295|R>>>22),R=C+(b^(M|~N))+V[10]+4293915773&4294967295,C=M+(R<<15&4294967295|R>>>17),R=N+(M^(C|~b))+V[1]+2240044497&4294967295,N=C+(R<<21&4294967295|R>>>11),R=b+(C^(N|~M))+V[8]+1873313359&4294967295,b=N+(R<<6&4294967295|R>>>26),R=M+(N^(b|~C))+V[15]+4264355552&4294967295,M=b+(R<<10&4294967295|R>>>22),R=C+(b^(M|~N))+V[6]+2734768916&4294967295,C=M+(R<<15&4294967295|R>>>17),R=N+(M^(C|~b))+V[13]+1309151649&4294967295,N=C+(R<<21&4294967295|R>>>11),R=b+(C^(N|~M))+V[4]+4149444226&4294967295,b=N+(R<<6&4294967295|R>>>26),R=M+(N^(b|~C))+V[11]+3174756917&4294967295,M=b+(R<<10&4294967295|R>>>22),R=C+(b^(M|~N))+V[2]+718787259&4294967295,C=M+(R<<15&4294967295|R>>>17),R=N+(M^(C|~b))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+M&4294967295}a.prototype.v=function(x,b){b===void 0&&(b=x.length);const N=b-this.blockSize,V=this.C;let C=this.h,M=0;for(;M<b;){if(C==0)for(;M<=N;)l(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<b;)if(V[C++]=x.charCodeAt(M++),C==this.blockSize){l(this,V),C=0;break}}else for(;M<b;)if(V[C++]=x[M++],C==this.blockSize){l(this,V),C=0;break}}this.h=C,this.o+=b},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;b=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=b&255,b/=256;for(this.v(x),x=Array(16),b=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)x[b++]=this.g[N]>>>V&255;return x};function u(x,b){var N=g;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=b(x)}function d(x,b){this.h=b;const N=[];let V=!0;for(let C=x.length-1;C>=0;C--){const M=x[C]|0;V&&M==b||(N[C]=M,V=!1)}this.g=N}var g={};function y(x){return-128<=x&&x<128?u(x,function(b){return new d([b|0],b<0?-1:0)}):new d([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return X(p(-x));const b=[];let N=1;for(let V=0;x>=N;V++)b[V]=x/N|0,N*=4294967296;return new d(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return X(E(x.substring(1),b));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(b,8));let V=A;for(let M=0;M<x.length;M+=8){var C=Math.min(8,x.length-M);const R=parseInt(x.substring(M,M+C),b);C<8?(C=p(Math.pow(b,C)),V=V.j(C).add(p(R))):(V=V.j(N),V=V.add(p(R)))}return V}var A=y(0),I=y(1),k=y(16777216);s=d.prototype,s.m=function(){if(ee(this))return-X(this).m();let x=0,b=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);x+=(V>=0?V:4294967296+V)*b,b*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Q(this))return"0";if(ee(this))return"-"+X(this).toString(x);const b=p(Math.pow(x,6));var N=this;let V="";for(;;){const C=ce(N,b).g;N=oe(N,C.j(b));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=C,Q(N))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Q(x){if(x.h!=0)return!1;for(let b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function ee(x){return x.h==-1}s.l=function(x){return x=oe(this,x),ee(x)?-1:Q(x)?0:1};function X(x){const b=x.g.length,N=[];for(let V=0;V<b;V++)N[V]=~x.g[V];return new d(N,~x.h).add(I)}s.abs=function(){return ee(this)?X(this):this},s.add=function(x){const b=Math.max(this.g.length,x.g.length),N=[];let V=0;for(let C=0;C<=b;C++){let M=V+(this.i(C)&65535)+(x.i(C)&65535),R=(M>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);V=R>>>16,M&=65535,R&=65535,N[C]=R<<16|M}return new d(N,N[N.length-1]&-2147483648?-1:0)};function oe(x,b){return x.add(X(b))}s.j=function(x){if(Q(this)||Q(x))return A;if(ee(this))return ee(x)?X(this).j(X(x)):X(X(this).j(x));if(ee(x))return X(this.j(X(x)));if(this.l(k)<0&&x.l(k)<0)return p(this.m()*x.m());const b=this.g.length+x.g.length,N=[];for(var V=0;V<2*b;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let C=0;C<x.g.length;C++){const M=this.i(V)>>>16,R=this.i(V)&65535,K=x.i(C)>>>16,fe=x.i(C)&65535;N[2*V+2*C]+=R*fe,he(N,2*V+2*C),N[2*V+2*C+1]+=M*fe,he(N,2*V+2*C+1),N[2*V+2*C+1]+=R*K,he(N,2*V+2*C+1),N[2*V+2*C+2]+=M*K,he(N,2*V+2*C+2)}for(x=0;x<b;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=b;x<2*b;x++)N[x]=0;return new d(N,0)};function he(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function H(x,b){this.g=x,this.h=b}function ce(x,b){if(Q(b))throw Error("division by zero");if(Q(x))return new H(A,A);if(ee(x))return b=ce(X(x),b),new H(X(b.g),X(b.h));if(ee(b))return b=ce(x,X(b)),new H(X(b.g),b.h);if(x.g.length>30){if(ee(x)||ee(b))throw Error("slowDivide_ only works with positive integers.");for(var N=I,V=b;V.l(x)<=0;)N=Ee(N),V=Ee(V);var C=ne(N,1),M=ne(V,1);for(V=ne(V,2),N=ne(N,2);!Q(V);){var R=M.add(V);R.l(x)<=0&&(C=C.add(N),M=R),V=ne(V,1),N=ne(N,1)}return b=oe(x,C.j(b)),new H(C,b)}for(C=A;x.l(b)>=0;){for(N=Math.max(1,Math.floor(x.m()/b.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=p(N),R=M.j(b);ee(R)||R.l(x)>0;)N-=V,M=p(N),R=M.j(b);Q(M)&&(M=I),C=C.add(M),x=oe(x,R)}return new H(C,x)}s.B=function(x){return ce(this,x).h},s.and=function(x){const b=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)&x.i(V);return new d(N,this.h&x.h)},s.or=function(x){const b=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)|x.i(V);return new d(N,this.h|x.h)},s.xor=function(x){const b=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)^x.i(V);return new d(N,this.h^x.h)};function Ee(x){const b=x.g.length+1,N=[];for(let V=0;V<b;V++)N[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(N,x.h)}function ne(x,b){const N=b>>5;b%=32;const V=x.g.length-N,C=[];for(let M=0;M<V;M++)C[M]=b>0?x.i(M+N)>>>b|x.i(M+N+1)<<32-b:x.i(M+N);return new d(C,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Qs=d}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wT,pl,RT,Oc,em,IT,CT,NT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(c,m){if(m)e:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in v))break e;v=v[L]}c=c[c.length-1],w=v[c],m=m(w),m!=w&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&v.push([w,m[w]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,L,F){for(var ae=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ae[Ie-2]=arguments[Ie];return m.prototype[L].apply(w,ae)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const m=c.length;if(m>0){const v=Array(m);for(let w=0;w<m;w++)v[w]=c[w];return v}return[]}function Q(c,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const F=L.length||0;c.length=v+F;for(let ae=0;ae<F;ae++)c[v+ae]=L[ae]}else c.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(c){d.setTimeout(()=>{throw c},0)}function oe(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,v){const w=H.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var H=new ee(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ne=!1,x=new he,b=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(N)}};function N(){for(var c;c=oe();){try{c.h.call(c.g)}catch(v){X(v)}var m=H;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function K(c,m){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(K,C),K.prototype.init=function(c,m){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),z=0;function ie(c,m,v,w,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=L,this.key=++z,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c,m,v){for(const w in c)m.call(v,c[w],w,c)}function Pe(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,m){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)c[v]=w[v];for(let F=0;F<J.length;F++)v=J[F],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,m,v,w,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ae=Ne(c,m,w,L);return ae>-1?(m=c[ae],v||(m.fa=!1)):(m=new ie(m,this.src,F,!!w,L),m.fa=v,c.push(m)),m};function pe(c,m){const v=m.type;if(v in c.g){var w=c.g[v],L=Array.prototype.indexOf.call(w,m,void 0),F;(F=L>=0)&&Array.prototype.splice.call(w,L,1),F&&(ge(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ne(c,m,v,w){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==w)return L}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Dt={};function rt(c,m,v,w,L){if(Array.isArray(m)){for(let F=0;F<m.length;F++)rt(c,m[F],v,w,L);return null}return v=ho(v),c&&c[fe]?c.J(m,v,g(w)?!!w.capture:!1,L):sa(c,m,v,!1,w,L)}function sa(c,m,v,w,L,F){if(!m)throw Error("Invalid event type");const ae=g(L)?!!L.capture:!!L;let Ie=aa(c);if(Ie||(c[Be]=Ie=new re(c)),v=Ie.add(m,v,w,ae,F),v.proxy)return v;if(w=Ka(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)M||(L=ae),L===void 0&&(L=!1),c.addEventListener(m.toString(),w,L);else if(c.attachEvent)c.attachEvent(ei(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ka(){function c(v){return m.call(c.src,c.listener,v)}const m=uo;return c}function Xa(c,m,v,w,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Xa(c,m[F],v,w,L);else w=g(w)?!!w.capture:!!w,v=ho(v),c&&c[fe]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],v=Ne(m,v,w,L),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=aa(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ne(m,v,w,L)),(v=c>-1?m[c]:null)&&$a(v))}function $a(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[fe])pe(m.i,c);else{var v=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(v,w,c.capture):m.detachEvent?m.detachEvent(ei(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=aa(m))?(pe(v,c),v.h==0&&(v.src=null,m[Be]=null)):ge(c)}}}function ei(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function uo(c,m){if(c.da)c=!0;else{m=new K(m,this);const v=c.listener,w=c.ha||c.src;c.fa&&$a(c),c=v.call(w,m)}return c}function aa(c){return c=c[Be],c instanceof re?c:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(c){return typeof c=="function"?c:(c[co]||(c[co]=function(m){return c.handleEvent(m)}),c[co])}function _t(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(_t,V),_t.prototype[fe]=!0,_t.prototype.removeEventListener=function(c,m,v,w){Xa(this,c,m,v,w)};function xt(c,m){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new C(m,c);else if(m instanceof C)m.target=m.target||c;else{var L=m;m=new C(w,c),se(m,L)}L=!0;let F,ae;if(v)for(ae=v.length-1;ae>=0;ae--)F=m.g=v[ae],L=as(F,w,!0,m)&&L;if(F=m.g=c,L=as(F,w,!0,m)&&L,L=as(F,w,!1,m)&&L,v)for(ae=0;ae<v.length;ae++)F=m.g=v[ae],L=as(F,w,!1,m)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let w=0;w<v.length;w++)ge(v[w]);delete c.g[m],c.h--}}this.G=null},_t.prototype.J=function(c,m,v,w){return this.i.add(String(c),m,!1,v,w)},_t.prototype.K=function(c,m,v,w){return this.i.add(String(c),m,!0,v,w)};function as(c,m,v,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let F=0;F<m.length;++F){const ae=m[F];if(ae&&!ae.da&&ae.capture==v){const Ie=ae.listener,mt=ae.ha||ae.src;ae.fa&&pe(c.i,ae),L=Ie.call(mt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ch(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Yl(c){c.g=Ch(()=>{c.g=null,c.i&&(c.i=!1,Yl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(c){V.call(this),this.h=c,this.g={}}A(ra,V);var fo=[];function mo(c){xe(c.g,function(m,v){this.g.hasOwnProperty(v)&&$a(m)},c),c.g={}}ra.prototype.N=function(){ra.Z.N.call(this),mo(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Nh=d.JSON.parse,Kl=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Xl(){}function $l(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){C.call(this,"d")}A(Pt,C);function An(){C.call(this,"c")}A(An,C);var dt={},Jl=null;function Ja(){return Jl=Jl||new _t}dt.Ia="serverreachability";function Zl(c){C.call(this,dt.Ia,c)}A(Zl,C);function ti(c){const m=Ja();xt(m,new Zl(m))}dt.STAT_EVENT="statevent";function oa(c,m){C.call(this,dt.STAT_EVENT,c),this.stat=m}A(oa,C);function vt(c){const m=Ja();xt(m,new oa(m,c))}dt.Ja="timingevent";function ni(c,m){C.call(this,dt.Ja,c),this.size=m}A(ni,C);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Dh(c,m,v,w,L,F){c.info(function(){if(c.g)if(F){var ae="",Ie=F.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var mt=Ie[Ge].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const In=ot.split("_");ae=In.length>=2&&In[1]=="type"?ae+(ot+"="+mt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=F;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+v+`
`+ae})}function Wl(c,m,v,w,L,F,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+v+`
`+F+" "+ae})}function si(c,m,v,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(c,v)+(w?" "+w:"")})}function la(c,m){c.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function xh(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return rs(F)}catch{return m}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function ca(){}A(ca,Xl),ca.prototype.g=function(){return new XMLHttpRequest},po=new ca;function Di(c){return encodeURIComponent(String(c))}function eu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function zn(c,m,v,w){this.j=c,this.i=m,this.l=v,this.S=w||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Tt={},Vt={};function ai(c,m,v){c.M=1,c.A=ha(St(m)),c.u=v,c.R=!0,Za(c,null)}function Za(c,m){c.F=Date.now(),ri(c),c.B=St(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),nr(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Bn,c.g=gu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Wt(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(fo[0]=L.toString()),L=fo);for(let F=0;F<L.length;F++){const ae=rt(v,L[F],w||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ti(),Dh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fn(c)==3?m.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Fn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ie!=4||mt==7||(mt==8||Ge<=0?ti(3):ti(2)),oi(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,Wl(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var F=w;break t}}F=null}if(c=F)si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,vt(12),dn(this),bn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=nu(this,v),ot==Vt){Ie==4&&(this.m=4,vt(14),c=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,vt(15),si(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else si(this.i,this.l,ot,null),li(this,ot);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(ae),ae.P=!0,vt(11))}}else si(this.i,this.l,v,null),li(this,v);Ie==4&&dn(this),this.o&&!this.K&&(Ie==4?hu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),bn(this)}}}catch{}finally{}};function Oh(c){if(!tu(c))return c.g.la();const m=zt(c.g);if(m==="")return"";let v="";const w=m.length,L=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new d.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,v+=c.h.i.decode(m[F],{stream:!(L&&F==w-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function nu(c,m){var v=c.C,w=m.indexOf(`
`,v);return w==-1?Vt:(v=Number(m.substring(v,w)),isNaN(v)?Tt:(w+=1,w+v>m.length?Vt:(m=m.slice(w,w+v),c.C=w+v,m)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(c){c.T=Date.now()+c.H,Wa(c,c.H)}function Wa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(p(c.aa,c),m)}function oi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(la(this.i,this.B),this.M!=2&&(ti(),vt(17)),dn(this),this.m=2,bn(this)):Wa(this,this.T-c)};function bn(c){c.j.I==0||c.K||hu(c.j,c)}function dn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,mo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)or(v),ms(v);else break e;_a(v),vt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(p(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((c.L||v.g==c)&&or(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ge=L[m];const ot=Ge[0];if(!(ot<=v.K))if(v.K=ot,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const In=Ge[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const yi=Ge[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=Ge[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(w=1.5*Gn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Qn=c.g;if(Qn){const va=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var F=w.h;F.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(vo(F,F.h),F.h=null))}if(w.G){const lr=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(w.wa=lr,Ke(w.J,w.G,lr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ae=c;if(w.na=mu(w,w.L?w.ba:null,w.W),ae.L){To(w.h,ae);var Ie=ae,mt=w.O;mt&&(Ie.H=mt),Ie.D&&(oi(Ie),ri(Ie)),w.g=ae}else uu(w);v.i.length>0&&gi(v)}else Ge[0]!="stop"&&Ge[0]!="close"||pi(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?pi(v,7):No(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ti(4)}catch{}}var Et=class{constructor(c,m){this.g=c,this.map=m}};function yo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function vo(c,m){c.g?c.g.add(m):c.h=m}function To(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}yo.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Eo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return k(c.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function er(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let L,F=null;w>=0?(L=c[v].substring(0,w),F=c[v].substring(w+1)):L=c[v],m(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,os(this,c.u),this.h=c.h,So(this,ou(c.i)),this.m=c.m):c&&(m=String(c).match(iu))?(this.l=!1,jt(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),os(this,m[4]),this.h=hi(m[5]||"",!0),So(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(fa(m,tr,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(fa(m,tr,!0),"@"),c.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(fa(v,v.charAt(0)=="/"?Ao:su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",fa(v,au)),c.join("")},mn.prototype.resolve=function(c){const m=St(this);let v=!!c.j;v?jt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var w=c.h;if(v)os(m,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let ae=0;ae<L.length;){const Ie=L[ae++];Ie=="."?w&&ae==L.length&&F.push(""):Ie==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&ae==L.length&&F.push("")):(F.push(Ie),w=!0)}w=F.join("/")}else w=L}return v?m.h=w:v=c.i.toString()!=="",v?So(m,ou(c.i)):v=!!c.m,v&&(m.m=c.m),m};function St(c){return new mn(c)}function jt(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function os(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function So(c,m,v){m instanceof us?(c.i=m,ir(c.i,c.l)):(v||(m=fa(m,ls)),c.i=new us(m,c.l))}function Ke(c,m,v){c.i.set(m,v)}function ha(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fa(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tr=/[#\/\?@]/g,su=/[#\?:]/g,Ao=/[#\?]/g,ls=/[#\?@]/g,au=/#/g;function us(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&er(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=us.prototype,s.add=function(c,m){sn(this),this.i=null,c=cs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function ru(c,m){sn(c),m=cs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function bo(c,m){return sn(c),m=cs(c,m),c.g.has(m)}s.forEach=function(c,m){sn(this),this.g.forEach(function(v,w){v.forEach(function(L){c.call(m,L,w,this)},this)},this)};function wo(c,m){sn(c);let v=[];if(typeof m=="string")bo(c,m)&&(v=v.concat(c.g.get(cs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return sn(this),this.i=null,c=cs(this,c),bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=wo(this,c),c.length>0?String(c[0]):m):m};function nr(c,m,v){ru(c,m),v.length>0&&(c.i=null,c.g.set(cs(c,m),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var v=m[w];const L=Di(v);v=wo(this,v);for(let F=0;F<v.length;F++){let ae=L;v[F]!==""&&(ae+="="+Di(v[F])),c.push(ae)}}return this.i=c.join("&")};function ou(c){const m=new us;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function cs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ir(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(ru(this,w),nr(this,L,v))},c)),c.j=m}function qn(c,m){const v=new Pn;if(d.Image){const w=new Image;w.onload=E(wn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=E(wn,v,"TestLoadImage: error",!1,m,w),w.onabort=E(wn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function Ro(c,m){const v=new Pn,w=new AbortController,L=setTimeout(()=>{w.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(L),F.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(c,m,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function hs(){this.g=new Kl}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(fi,Xl),fi.prototype.g=function(){return new da(this.i,this.h)};function da(c,m){_t.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(da,_t),s=da.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?fs(this):Hn(this),this.readyState==3&&sr(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},s.Na=function(c){this.g&&(this.response=c,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let m="";return xe(c,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function ma(c,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Rn(v),typeof c=="string"?v!=null&&Di(v):Ke(c,m,v))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,_t);var di=/^https?$/i,Io=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){ga(this,F);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ae]of v)this.g.setRequestHeader(F,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){ga(this,F)}};function ga(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Co(c),xi(c)}function Co(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},s.Xa=function(){pa(this)};function pa(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=F===0){let ae=String(c.D).match(iu)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),w=!di.test(ae?ae.toLowerCase():"")}v=w}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var L=Fn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Co(c)}}finally{xi(c)}}}}function xi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Nh(m)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(c){const m={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var v=eu(c[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[L]||[];m[L]=F,F.push(v)}Pe(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ds(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(c&&c.concurrentRequestLimit),this.Ba=new hs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,w){vt(0),this.W=c,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=mu(this,null,this.W),gi(this)};function No(c){if(ar(c),c.I==3){var m=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),ya(c,v),m=new zn(c,c.j,m),m.M=2,m.A=ha(St(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}du(c)}function ms(c){c.g&&(xo(c),c.g.cancel(),c.g=null)}function ar(c){ms(c),c.v&&(d.clearTimeout(c.v),c.v=null),or(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function gi(c){if(!_o(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ee||b(),ne||(Ee(),ne=!0),x.add(m,c),c.D=0}}function rr(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(p(c.Ea,c,m),fu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new zn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=D(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=lu(this,L,m),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),ya(this,v),F&&(this.R?m="headers="+Di(Rn(F))+"&"+m:this.u&&ma(v,this.u,F)),vo(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),L.U=!0,ai(L,v,null)):ai(L,v,m),this.I=2}}else this.I==3&&(c?Do(this,c):this.i.length==0||_o(this.h)||Do(this))};function Do(c,m){var v;m?v=m.l:v=c.V++;const w=St(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),ya(c,w),c.u&&c.o&&ma(w,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=lu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),vo(c.h,v),ai(v,w,m)}function ya(c,m){c.H&&xe(c.H,function(v,w){Ke(m,w,v)}),c.l&&xe({},function(v,w){Ke(m,w,v)})}function lu(c,m,v){v=Math.min(c.i.length,v);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ie=-1;for(;;){const mt=["count="+v];Ie==-1?v>0?(Ie=L[0].g,mt.push("ofs="+Ie)):Ie=0:mt.push("ofs="+Ie);let Ge=!0;for(let ot=0;ot<v;ot++){var F=L[ot].g;const In=L[ot].map;if(F-=Ie,F<0)Ie=Math.max(0,L[ot].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var ae=In instanceof Map?In:Object.entries(In);for(const[yi,Gn]of ae){let Qn=Gn;g(Gn)&&(Qn=rs(Gn)),mt.push(F+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw mt.push(F+"type="+encodeURIComponent("_badmap")),yi}}catch{w&&w(In)}}if(Ge){ae=mt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),m.G=c,ae}function uu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ee||b(),ne||(Ee(),ne=!0),x.add(m,c),c.A=0}}function _a(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(p(c.Da,c),fu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ms(this),cu(this))};function xo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function cu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Ke(m,"RID","rpc"),Ke(m,"SID",c.M),Ke(m,"AID",c.K),Ke(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(m,"TO",c.ia),Ke(m,"TYPE","xmlhttp"),ya(c,m),c.u&&c.o&&ma(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ha(St(m)),v.u=null,v.R=!0,Za(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),_a(this),vt(19))};function or(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function hu(c,m){var v=null;if(c.g==m){or(c),xo(c),c.g=null;var w=2}else if(ci(c.h,m))v=m.G,To(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;w=Ja(),xt(w,new ni(w,v)),gi(c)}else uu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&rr(c,m)||w==2&&_a(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function fu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function pi(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),w=c.Ua;const L=!w;w=new mn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(w,"https"),ha(w),L?qn(w.toString(),v):Ro(w.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(m),du(c),ar(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function du(c){if(c.I=0,c.ja=[],c.l){const m=Eo(c.h);(m.length!=0||c.i.length!=0)&&(Q(c.ja,m),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function mu(c,m,v){var w=v instanceof mn?St(v):new mn(v);if(w.g!="")m&&(w.g=m+"."+w.g),os(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const F=new mn(null);w&&jt(F,w),m&&(F.g=m),L&&os(F,L),v&&(F.h=v),w=F}return v=c.G,m=c.wa,v&&m&&Ke(w,v,m),Ke(w,"VER",c.ka),ya(c,w),w}function gu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new fi({ab:v})):new Je(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}s=pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(c,m){return new en(c,m)};function en(c,m){_t.call(this),this.g=new ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Mi(this)}A(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){No(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=rs(c),c=v);m.i.push(new Et(m.Ya++,c)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,en.Z.N.call(this)};function yu(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(yu,Pt);function _u(){An.call(this),this.status=1}A(_u,An);function Mi(c){this.g=c}A(Mi,pu),Mi.prototype.ra=function(){xt(this.g,"a")},Mi.prototype.qa=function(c){xt(this.g,new yu(c))},Mi.prototype.pa=function(c){xt(this.g,new _u)},Mi.prototype.oa=function(){xt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,NT=function(){return new gs},CT=function(){return Ja()},IT=dt,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,Oc=ua,go.COMPLETE="complete",RT=go,$l.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_t.prototype.listen=_t.prototype.J,pl=$l,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,wT=Je}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Dv="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let io="12.3.0";const Fa=new Em("@firebase/firestore");function Lr(){return Fa.logLevel}function ue(s,...e){if(Fa.logLevel<=ke.DEBUG){const n=e.map(Vm);Fa.debug(`Firestore (${io}): ${s}`,...n)}}function ts(s,...e){if(Fa.logLevel<=ke.ERROR){const n=e.map(Vm);Fa.error(`Firestore (${io}): ${s}`,...n)}}function Kr(s,...e){if(Fa.logLevel<=ke.WARN){const n=e.map(Vm);Fa.warn(`Firestore (${io}): ${s}`,...n)}}function Vm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,DT(s,a,n)}function DT(s,e,n){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ts(a),new Error(a)}function Ye(s,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||DT(e,l,a)}function Re(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class xT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class qR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string",31837,{l:a}),new xT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class FR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new FR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const a=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=YR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Ue(s,e){return s<e?-1:s>e?1:0}function tm(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const l=s.charAt(a),u=e.charAt(a);if(l!==u)return zd(l)===zd(u)?Ue(l,u):zd(l)?1:-1}return Ue(s.length,e.length)}const KR=55296,XR=57343;function zd(s){const e=s.charCodeAt(0);return e>=KR&&e<=XR}function Xr(s,e,n){return s.length===e.length&&s.every(((a,l)=>n(a,e[l])))}const Ov="__name__";class Si{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=Si.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const a=Si.isNumericId(e),l=Si.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(e).compare(Si.extractNumericId(n)):tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class nt extends Si{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const $R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Si{construct(e,n,a){return new Qt(e,n,a)}static isValidIdentifier(e){return $R.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new Qt([Ov])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(nt.fromString(e))}static fromName(e){return new _e(nt.fromString(e).popFirst(5))}static empty(){return new _e(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new nt(e.slice()))}}function OT(s,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function JR(s,e,n,a){if(e===!0&&a===!0)throw new le(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Mv(s){if(!_e.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Vv(s){if(_e.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function MT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function uh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function fn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(s);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Nt(s,e){const n={typeString:s};return e&&(n.value=e),n}function zl(s,e){if(!MT(s))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const jv=-62135596800,kv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*kv);return new at(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zl(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new at(0,0))}static max(){return new be(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl=-1;function ZR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(a===1e9?new at(n+1,0):new at(n,a));return new Ks(l,_e.empty(),e)}function WR(s){return new Ks(s.readTime,s.key,Cl)}class Ks{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ks(be.min(),_e.empty(),Cl)}static max(){return new Ks(be.max(),_e.empty(),Cl)}}function eI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function so(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==tI)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,a)=>{n(e)}))}static reject(e){return new te(((n,a)=>{a(e)}))}static waitFor(e){return new te(((n,a)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>a(y)))})),d=!0,u===l&&n()}))}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next((l=>l?te.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new te(((a,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((E=>{d[p]=E,++g,g===u&&a(d)}),(E=>l(E)))}}))}static doWhile(e,n){return new te(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function iI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(s){return s.name==="IndexedDbTransactionError"}class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;const km=-1;function hh(s){return s==null}function Qc(s){return s===0&&1/s==-1/0}function sI(s){return typeof s=="number"&&Number.isInteger(s)&&!Qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const VT="";function aI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Uv(e)),e=rI(s.get(n),e);return Uv(e)}function rI(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case VT:n+="";break;default:n+=u}}return n}function Uv(s){return s+VT+""}function Lv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ea(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function jT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new Gt(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Mt(Qt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xr(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kT("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const oI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(s){if(Ye(!!s,39018),typeof s=="string"){let e=0;const n=oI.exec(s);if(Ye(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $s(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}const UT="server_timestamp",LT="__type__",PT="__previous_value__",zT="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[LT]?.stringValue===UT}function fh(s){const e=s.mapValue.fields[PT];return Um(e)?fh(e):e}function Nl(s){const e=Xs(s.mapValue.fields[zT].timestampValue);return new at(e.seconds,e.nanos)}class lI{constructor(e,n,a,l,u,d,g,y,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Yc="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||Yc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}const BT="__type__",uI="__max__",wc={mapValue:{}},qT="__vector__",Kc="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:hI(s)?9007199254740991:cI(s)?10:11:Se(28295,{value:s})}function Ni(s,e){if(s===e)return!0;const n=Js(s);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Nl(s).isEqual(Nl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Xs(l.timestampValue),g=Xs(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return $s(l.bytesValue).isEqual($s(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=yt(l.doubleValue),g=yt(u.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Xr(s.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Lv(d)!==Lv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ni(d[y],g[y])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function xl(s,e){return(s.values||[]).find((n=>Ni(n,e)))!==void 0}function $r(s,e){if(s===e)return 0;const n=Js(s),a=Js(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=yt(u.integerValue||u.doubleValue),y=yt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return zv(s.timestampValue,e.timestampValue);case 4:return zv(Nl(s),Nl(e));case 5:return tm(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=$s(u),y=$s(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Ue(g[p],y[p]);if(E!==0)return E}return Ue(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Ue(yt(u.latitude),yt(d.latitude));return g!==0?g:Ue(yt(u.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Bv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[Kc]?.arrayValue,E=y[Kc]?.arrayValue,A=Ue(p?.values?.length||0,E?.values?.length||0);return A!==0?A:Bv(p,E)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===wc.mapValue&&d===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const I=tm(y[A],E[A]);if(I!==0)return I;const k=$r(g[y[A]],p[E[A]]);if(k!==0)return k}return Ue(y.length,E.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function zv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=Xs(s),a=Xs(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function Bv(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=$r(n[l],a[l]);if(u)return u}return Ue(n.length,a.length)}function Jr(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Xs(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return $s(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return _e.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=nm(u);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${nm(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Mc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(s);return e?16+Mc(e):16;case 5:return 2*s.stringValue.length;case 6:return $s(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Mc(u)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ea(a.fields,((u,d)=>{l+=u.length+Mc(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function qv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function im(s){return!!s&&"integerValue"in s}function Lm(s){return!!s&&"arrayValue"in s}function Hv(s){return!!s&&"nullValue"in s}function Fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vc(s){return!!s&&"mapValue"in s}function cI(s){return(s?.mapValue?.fields||{})[BT]?.stringValue===qT}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ea(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Sl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(s.arrayValue.values[n]);return e}return{...s}}function hI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uI}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Qt.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=Sl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){ea(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new hn(Sl(this.value))}}function HT(s){const e=[];return ea(s.fields,((n,a)=>{const l=new Qt([n]);if(Vc(a)){const u=HT(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Sn(e)}class Jt{constructor(e,n,a,l,u,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),hn.empty(),0)}static newFoundDocument(e,n,a,l){return new Jt(e,1,n,be.min(),a,l,0)}static newNoDocument(e,n){return new Jt(e,2,n,be.min(),be.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,be.min(),be.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function Gv(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),n.key):a=$r(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Qv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ni(s.position[n],e.position[n]))return!1;return!0}class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function fI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class FT{}class Ct extends FT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new mI(e,n,a):n==="array-contains"?new yI(e,a):n==="in"?new _I(e,a):n==="not-in"?new vI(e,a):n==="array-contains-any"?new TI(e,a):new Ct(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new gI(e,a):new pI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($r(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison($r(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return GT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(s){return s.op==="and"}function QT(s){return dI(s)&&GT(s)}function dI(s){for(const e of s.filters)if(e instanceof Wn)return!1;return!0}function sm(s){if(s instanceof Ct)return s.field.canonicalString()+s.op.toString()+Jr(s.value);if(QT(s))return s.filters.map((e=>sm(e))).join(",");{const e=s.filters.map((n=>sm(n))).join(",");return`${s.op}(${e})`}}function YT(s,e){return s instanceof Ct?(function(a,l){return l instanceof Ct&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(s,e):s instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&YT(d,l.filters[g])),!0):!1})(s,e):void Se(19439)}function KT(s){return s instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jr(n.value)}`})(s):s instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"})(s):"Filter"}class mI extends Ct{constructor(e,n,a){super(e,n,a),this.key=_e.fromName(a.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class gI extends Ct{constructor(e,n){super(e,"in",n),this.keys=XT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pI extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=XT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XT(s,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class yI extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lm(n)&&xl(n.arrayValue,this.value)}}class _I extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class vI extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class TI extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class EI{constructor(e,n=null,a=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Yv(s,e=null,n=[],a=[],l=null,u=null,d=null){return new EI(s,e,n,a,l,u,d)}function Pm(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>sm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Jr(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Jr(a))).join(",")),e.Te=n}return e.Te}function zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!fI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!YT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Qv(s.startAt,e.startAt)&&Qv(s.endAt,e.endAt)}function am(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ro{constructor(e,n=null,a=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SI(s,e,n,a,l,u,d,g){return new ro(s,e,n,a,l,u,d,g)}function dh(s){return new ro(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $T(s){return s.collectionGroup!==null}function Al(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Mt(Qt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ol(u,a))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Ol(Qt.keyField(),a))}return e.Ie}function bi(s){const e=Re(s);return e.Ee||(e.Ee=AI(e,Al(s))),e.Ee}function AI(s,e){if(s.limitType==="F")return Yv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ol(l.field,u)}));const n=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return Yv(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function rm(s,e){const n=s.filters.concat([e]);return new ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function om(s,e,n){return new ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function mh(s,e){return zm(bi(s),bi(e))&&s.limitType===e.limitType}function JT(s){return`${Pm(bi(s))}|lt:${s.limitType}`}function Pr(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>KT(l))).join(", ")}]`),hh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Jr(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Jr(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function gh(s,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_e.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(s,e)&&(function(a,l){for(const u of Al(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const p=Gv(d,g,y);return d.inclusive?p<=0:p<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,y){const p=Gv(d,g,y);return d.inclusive?p>=0:p>0})(a.endAt,Al(a),l))})(s,e)}function bI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ZT(s){return(e,n)=>{let a=!1;for(const l of Al(s)){const u=wI(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function wI(s,e,n){const a=s.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?$r(y,p):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}const RI=new ut(_e.comparator);function ns(){return RI}const WT=new ut(_e.comparator);function yl(...s){let e=WT;for(const n of s)e=e.insert(n.key,n);return e}function eE(s){let e=WT;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ua(){return bl()}function tE(){return bl()}function bl(){return new Qa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const II=new ut(_e.comparator),CI=new Mt(_e.comparator);function Le(...s){let e=CI;for(const n of s)e=e.add(n);return e}const NI=new Mt(Ue);function DI(){return NI}function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function nE(s){return{integerValue:""+s}}function xI(s,e){return sI(e)?nE(e):Bm(s,e)}class ph{constructor(){this._=void 0}}function OI(s,e,n){return s instanceof $c?(function(l,u){const d={fields:{[LT]:{stringValue:UT},[zT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Um(u)&&(u=fh(u)),u&&(d.fields[PT]=u),{mapValue:d}})(n,e):s instanceof Ml?sE(s,e):s instanceof Vl?aE(s,e):(function(l,u){const d=iE(l,u),g=Xv(d)+Xv(l.Ae);return im(d)&&im(l.Ae)?nE(g):Bm(l.serializer,g)})(s,e)}function MI(s,e,n){return s instanceof Ml?sE(s,e):s instanceof Vl?aE(s,e):n}function iE(s,e){return s instanceof Jc?(function(a){return im(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class $c extends ph{}class Ml extends ph{constructor(e){super(),this.elements=e}}function sE(s,e){const n=rE(e);for(const a of s.elements)n.some((l=>Ni(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Vl extends ph{constructor(e){super(),this.elements=e}}function aE(s,e){let n=rE(e);for(const a of s.elements)n=n.filter((l=>!Ni(l,a)));return{arrayValue:{values:n}}}class Jc extends ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Xv(s){return yt(s.integerValue||s.doubleValue)}function rE(s){return Lm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function VI(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof Vl&&l instanceof Vl?Xr(a.elements,l.elements,Ni):a instanceof Jc&&l instanceof Jc?Ni(a.Ae,l.Ae):a instanceof $c&&l instanceof $c})(s.transform,e.transform)}class jI{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class yh{}function oE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qm(s.key,Un.none()):new Bl(s.key,s.data,Un.none());{const n=s.data,a=hn.empty();let l=new Mt(Qt.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new ta(s.key,a,new Sn(l.toArray()),Un.none())}}function kI(s,e,n){s instanceof Bl?(function(l,u,d){const g=l.value.clone(),y=Jv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof ta?(function(l,u,d){if(!jc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Jv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(lE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function wl(s,e,n,a){return s instanceof Bl?(function(u,d,g,y){if(!jc(u.precondition,d))return g;const p=u.value.clone(),E=Zv(u.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,n,a):s instanceof ta?(function(u,d,g,y){if(!jc(u.precondition,d))return g;const p=Zv(u.fieldTransforms,y,d),E=d.data;return E.setAll(lE(u)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,n,a):(function(u,d,g){return jc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function UI(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),u=iE(a.transform,l||null);u!=null&&(n===null&&(n=hn.empty()),n.set(a.field,u))}return n||null}function $v(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xr(a,l,((u,d)=>VI(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Bl extends yh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ta extends yh{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function Jv(s,e,n){const a=new Map;Ye(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);a.set(u.field,MI(d,g,n[l]))}return a}function Zv(s,e,n){const a=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);a.set(l.field,OI(u,d,e))}return a}class qm extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&kI(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=wl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=wl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=tE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=oE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Xr(this.mutations,e.mutations,((n,a)=>$v(n,a)))&&Xr(this.baseMutations,e.baseMutations,((n,a)=>$v(n,a)))}}class Hm{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Ye(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return II})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Hm(e,n,a,l)}}class zI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,qe;function qI(s){switch(s){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function uE(s){if(s===void 0)return ts("GRPC error has no .code"),Z.UNKNOWN;switch(s){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:s})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function HI(){return new TextEncoder}const FI=new Qs([4294967295,4294967295],0);function Wv(s){const e=HI().encode(s),n=new bT;return n.update(e),new Uint8Array(n.digest())}function e0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qs([n,a],0),new Qs([l,u],0)]}class Fm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qs.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(Qs.fromNumber(a)));return l.compare(FI)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wv(e),[a,l]=e0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Fm(u,l,n);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=Wv(e),[a,l]=e0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new _h(be.min(),l,new ut(Ue),ns(),Le())}}class ql{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new ql(a,n,Le(),Le(),Le())}}class kc{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class cE{constructor(e,n){this.targetId=e,this.Ce=n}}class hE{constructor(e,n,a=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class t0{constructor(){this.ve=0,this.Fe=n0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),a=Le();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Se(38017,{changeType:u})}})),new ql(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=n0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=Rc(),this.He=Rc(),this.Ye=new ut(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(am(u))if(a===0){const d=new _e(u.path);this.et(n,d,Jt.newNoDocument(d,be.min()))}else Ye(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=$s(a).toUint8Array()}catch(y){if(y instanceof kT)return Kr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fm(d,l,u)}catch(y){return Kr(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&am(g.target)){const y=new _e(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let a=Le();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new _h(e,n,this.Ye,this.je,a);return this.je=ns(),this.Je=Rc(),this.He=Rc(),this.Ye=new ut(Ue),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rc(){return new ut(_e.comparator)}function n0(){return new ut(_e.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"};class XI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(s,e){return s.useProto3Json||hh(e)?e:{value:e}}function Zc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $I(s,e){return Zc(s,e.toTimestamp())}function wi(s){return Ye(!!s,49232),be.fromTimestamp((function(n){const a=Xs(n);return new at(a.seconds,a.nanos)})(s))}function Gm(s,e){return um(s,e).canonicalString()}function um(s,e){const n=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function dE(s){const e=nt.fromString(s);return Ye(_E(e),10190,{key:e.toString()}),e}function cm(s,e){return Gm(s.databaseId,e.path)}function Bd(s,e){const n=dE(e);if(n.get(1)!==s.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _e(gE(n))}function mE(s,e){return Gm(s.databaseId,e)}function JI(s){const e=dE(s);return e.length===4?nt.emptyPath():gE(e)}function hm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gE(s){return Ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function i0(s,e,n){return{name:cm(s,e),fields:n.value.mapValue.fields}}function ZI(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?Z.UNKNOWN:uE(p.code);return new le(E,p.message||"")})(d);n=new hE(a,l,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(s,a.document.name),u=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):be.min(),g=new hn({mapValue:{fields:a.document.fields}}),y=Jt.newFoundDocument(l,u,d,g),p=a.targetIds||[],E=a.removedTargetIds||[];n=new kc(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Bd(s,a.document),u=a.readTime?wi(a.readTime):be.min(),d=Jt.newNoDocument(l,u),g=a.removedTargetIds||[];n=new kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Bd(s,a.document),u=a.removedTargetIds||[];n=new kc([],u,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new BI(l,u),g=a.targetId;n=new cE(g,d)}}return n}function WI(s,e){let n;if(e instanceof Bl)n={update:i0(s,e.key,e.value)};else if(e instanceof qm)n={delete:cm(s,e.key)};else if(e instanceof ta)n={update:i0(s,e.key,e.data),updateMask:l2(e.fieldMask)};else{if(!(e instanceof LI))return Se(16599,{Vt:e.type});n={verify:cm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:$I(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(s,e.precondition)),n}function e2(s,e){return s&&s.length>0?(Ye(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?wi(l.updateTime):wi(u);return d.isEqual(be.min())&&(d=wi(u)),new jI(d,l.transformResults||[])})(n,e)))):[]}function t2(s,e){return{documents:[mE(s,e.path)]}}function n2(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mE(s,l);const u=(function(p){if(p.length!==0)return yE(Wn.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((E=>(function(I){return{field:zr(I.field),direction:a2(I.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=lm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function i2(s){let e=JI(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Ye(a===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const I=pE(A);return I instanceof Wn&&QT(I)?I.getFilters():[I]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((I=>(function(Q){return new Ol(Br(Q.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(I)))})(n.orderBy));let g=null;n.limit&&(g=(function(A){let I;return I=typeof A=="object"?A.value:A,hh(I)?null:I})(n.limit));let y=null;n.startAt&&(y=(function(A){const I=!!A.before,k=A.values||[];return new Xc(k,I)})(n.startAt));let p=null;return n.endAt&&(p=(function(A){const I=!A.before,k=A.values||[];return new Xc(k,I)})(n.endAt)),SI(e,l,d,u,g,"F",y,p)}function s2(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Br(n.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Br(n.unaryFilter.field);return Ct.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Br(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Br(n.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ct.create(Br(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((a=>pE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function a2(s){return QI[s]}function r2(s){return YI[s]}function o2(s){return KI[s]}function zr(s){return{fieldPath:s.canonicalString()}}function Br(s){return Qt.fromServerFormat(s.fieldPath)}function yE(s){return s instanceof Ct?(function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(n.field),op:r2(n.op),value:n.value}}})(s):s instanceof Wn?(function(n){const a=n.getFilters().map((l=>yE(l)));return a.length===1?a[0]:{compositeFilter:{op:o2(n.op),filters:a}}})(s):Se(54877,{filter:s})}function l2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _E(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class qs{constructor(e,n,a,l,u=be.min(),d=be.min(),g=Yt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u2{constructor(e){this.yt=e}}function c2(s){const e=i2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(e,e.limit,"L"):e}class h2{constructor(){this.Cn=new f2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ks.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class f2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Mt(nt.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vE=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(vE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Zr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zr(0)}static cr(){return new Zr(-1)}}const a0="LruGarbageCollector",d2=1048576;function r0([s,e],[n,a]){const l=Ue(s,n);return l===0?Ue(e,a):l}class m2{constructor(e){this.Ir=e,this.buffer=new Mt(r0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();r0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(a0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?ue(a0,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Vr(3e5)}))}}class p2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ch.ce);const a=new m2(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(s0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,u,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(p=Date.now(),Lr()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function y2(s,e){return new p2(s,e)}class _2{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class T2{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&wl(a.mutation,l,Sn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Le()){const l=Ua();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let d=yl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Le())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,a,l){let u=ns();const d=bl(),g=(function(){return bl()})();return n.forEach(((y,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof ta)?u=u.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),wl(E.mutation,p,E.mutation.getFieldMask(),at.now())):d.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,E)=>d.set(p,E))),n.forEach(((p,E)=>g.set(p,new v2(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const a=bl();let l=new ut(((d,g)=>d-g)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=a.get(y)||Sn.empty();E=g.applyToLocalView(p,E),a.set(y,E);const A=(l.get(g.batchId)||Le()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,A=tE();E.forEach((I=>{if(!u.has(I)){const k=oE(n.get(I),a.get(I));k!==null&&A.set(I,k),u=u.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return te.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):te.resolve(Ua());let g=Cl,y=u;return d.next((p=>te.forEach(p,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{y=y.insert(E,I)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Le()))).next((E=>({batchId:g,changes:eE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(e,u).next((g=>te.forEach(g,(y=>{const p=(function(A,I){return new ro(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,l).next((E=>{E.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((d=>{u.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Jt.newInvalidDocument(E)))}));let g=yl();return d.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&wl(E.mutation,p,Sn.empty(),at.now()),gh(n,p)&&(g=g.insert(y,p))})),g}))}}class E2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:c2(l.bundledQuery),readTime:wi(l.readTime)}})(n)),te.resolve()}}class S2{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ua();return te.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const l=Ua(),u=n.length+1,d=new _e(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>a&&l.set(y.getKey(),y)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new ut(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=Ua(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Ua(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=l)););return te.resolve(g)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new zI(n,a));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}class A2{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Qm{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Ut(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new _e(new nt([])),a=new Ut(n,e),l=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new nt([])),a=new Ut(n,e),l=new Ut(n,e+1);let u=Le();return this.Ur.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ut(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class b2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PI(u,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ut(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?km:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Mt(Ue);return n.forEach((l=>{const u=new Ut(l,0),d=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{a=a.add(g.Yr)}))})),te.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;_e.isDocumentKey(u)||(u=u.child(""));const d=new Ut(new _e(u),0);let g=new Mt(Ue);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),te.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return te.forEach(n.mutations,(l=>{const u=new Ut(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Ut(n,0),l=this.Zr.firstAfterOrEqual(a);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class w2{constructor(e){this.ri=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let a=ns();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Jt.newInvalidDocument(l))})),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=ns();const d=n.path,g=new _e(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||eI(WR(E),a)<=0||(l.has(E.key)||gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,a,l){Se(9500)}ii(e,n){return te.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new R2(this)}getSize(e){return te.resolve(this.size)}}class R2 extends _2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class I2{constructor(e){this.persistence=e,this.si=new Qa((n=>Pm(n)),zm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Zr.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zr(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),te.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class TE{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new A2,this.referenceDelegate=e(this),this.Pi=new I2(this),this.indexManager=new h2,this.remoteDocumentCache=(function(l){return new w2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new u2(n),this.Ii=new E2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new b2(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ue("MemoryPersistence","Starting transaction:",e);const l=new C2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class C2 extends nI{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(a=>{const l=_e.fromPath(a);return this.gi(e,l).next((u=>{u||n.removeEntry(l,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wc{constructor(e,n){this.persistence=e,this.pi=new Qa((a=>aI(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=y2(this,n)}static mi(e,n){return new Wc(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?te.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(a++,u.removeEntry(d,be.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mc(e.data.value)),n}br(e,n,a){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return te.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=Le(),l=Le();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Km(e,n.fromCache,a,l)}}class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class D2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Tb()?8:iI(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new N2;return this.Ss(e,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>u.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(Lr()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Pr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Lr()<=ke.DEBUG&&ue("QueryEngine","Query:",Pr(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Lr()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Pr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):te.resolve())}ys(e,n){if(Kv(n))return te.resolve(null);let a=bi(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=om(n,null,"F"),a=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Le(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,d,y.readTime)?this.ys(e,om(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,a,l){return Kv(n)||l.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,a).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,l)?te.resolve(null):(Lr()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pr(n)),this.vs(e,d,n,ZR(l,Cl)).next((g=>g)))}))}Ds(e,n){let a=new Mt(ZT(e));return n.forEach(((l,u)=>{gh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,a){return Lr()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Pr(n)),this.ps.getDocumentsMatchingQuery(e,n,Ks.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Xm="LocalStore",x2=3e8;class O2{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Ue),this.xs=new Qa((u=>Pm(u)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function M2(s,e,n,a){return new O2(s,e,n,a)}async function EE(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let y=Le();for(const p of l){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(a,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function V2(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const A=p.batch,I=A.keys();let k=te.resolve();return I.forEach((Q=>{k=k.next((()=>E.getEntry(y,Q))).next((ee=>{const X=p.docVersions.get(Q);Ye(X!==null,48541),ee.version.compareTo(X)<0&&(A.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),E.addEntry(ee)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Le();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function SE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function j2(s,e){const n=Re(s),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((E,A)=>{const I=l.get(A);if(!I)return;g.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let k=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,a)),l=l.insert(A,k),(function(ee,X,oe){return ee.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=x2?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(I,k,E)&&g.push(n.Pi.updateTargetData(u,k))}));let y=ns(),p=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),g.push(k2(u,d,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!a.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(E)}return te.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function k2(s,e,n){let a=Le(),l=Le();return n.forEach((u=>a=a.add(u))),e.getEntries(s,a).next((u=>{let d=ns();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(be.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ue(Xm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function U2(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=km),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function L2(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((u=>u?(l=u,te.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new qs(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function fm(s,e,n){const a=Re(s),l=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;ue(Xm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function o0(s,e,n){const a=Re(s);let l=be.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const A=Re(y),I=A.xs.get(E);return I!==void 0?te.resolve(A.Ms.get(I)):A.Pi.getTargetData(p,E)})(a,d,bi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?l:be.min(),n?u:Le()))).next((g=>(P2(a,bI(e),g),{documents:g,Qs:u})))))}function P2(s,e,n){let a=s.Os.get(e)||be.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Os.set(e,a)}class l0{constructor(){this.activeTargetIds=DI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z2{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B2{Oo(e){}shutdown(){}}const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(u0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(u0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function dm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const qd="RestConnection",q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,u){const d=dm(),g=this.zo(e,n.toUriEncodedString());ue(qd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),E=eo(p);return this.Jo(e,g,y,a,E).then((A=>(ue(qd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Kr(qd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,n,a,l,u,d){return this.Go(e,n,a,l,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const a=q2[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class F2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class G2 extends H2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,u){const d=dm();return new Promise(((g,y)=>{const p=new wT;p.setWithCredentials(!0),p.listenOnce(RT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Oc.NO_ERROR:const A=p.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Oc.TIMEOUT:ue(Xt,`RPC '${e}' ${d} timed out`),y(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const I=p.getStatus();if(ue(Xt,`RPC '${e}' ${d} failed with status:`,I,"response text:",p.getResponseText()),I>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const ee=(function(oe){const he=oe.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(he)>=0?he:Z.UNKNOWN})(Q.status);y(new le(ee,Q.message))}else y(new le(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);ue(Xt,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",E,a,15)}))}T_(e,n,a){const l=dm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=NT(),g=CT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${l}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let I=!1,k=!1;const Q=new F2({Yo:X=>{k?ue(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,X):(I||(ue(Xt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),I=!0),ue(Xt,`RPC '${e}' stream ${l} sending:`,X),A.send(X))},Zo:()=>A.close()}),ee=(X,oe,he)=>{X.listen(oe,(H=>{try{he(H)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return ee(A,pl.EventType.OPEN,(()=>{k||(ue(Xt,`RPC '${e}' stream ${l} transport opened.`),Q.o_())})),ee(A,pl.EventType.CLOSE,(()=>{k||(k=!0,ue(Xt,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(A))})),ee(A,pl.EventType.ERROR,(X=>{k||(k=!0,Kr(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),Q.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),ee(A,pl.EventType.MESSAGE,(X=>{if(!k){const oe=X.data[0];Ye(!!oe,16349);const he=oe,H=he?.error||he[0]?.error;if(H){ue(Xt,`RPC '${e}' stream ${l} received error:`,H);const ce=H.status;let Ee=(function(b){const N=It[b];if(N!==void 0)return uE(N)})(ce),ne=H.message;Ee===void 0&&(Ee=Z.INTERNAL,ne="Unknown error status: "+ce+" with message "+H.message),k=!0,Q.a_(new le(Ee,ne)),A.close()}else ue(Xt,`RPC '${e}' stream ${l} received:`,oe),Q.u_(oe)}})),ee(g,IT.STAT_EVENT,(X=>{X.stat===em.PROXY?ue(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):X.stat===em.NOPROXY&&ue(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hd(){return typeof document<"u"?document:null}function vh(s){return new XI(s,!0)}class AE{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const h0="PersistentStream";class bE{constructor(e,n,a,l,u,d,g,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new le(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(h0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Q2 extends bE{constructor(e,n,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZI(this.serializer,e),a=(function(u){if(!("targetChange"in u))return be.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?wi(d.readTime):be.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=hm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=am(y)?{documents:t2(u,y)}:{query:n2(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=fE(u,d.resumeToken);const p=lm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=Zc(u,d.snapshotVersion.toTimestamp());const p=lm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=s2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=hm(this.serializer),n.removeTarget=e,this.q_(n)}}class Y2 extends bE{constructor(e,n,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=e2(e.writeResults,e.commitTime),a=wi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>WI(this.serializer,a)))};this.q_(n)}}class K2{}class X2 extends K2{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,um(n,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,um(n,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class J2{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Ya(this)&&(ue(Ga,"Restarting streams for network reachability change."),await(async function(y){const p=Re(y);p.Ea.add(4),await Hl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Th(p)})(this))}))})),this.Ra=new $2(a,l)}}async function Th(s){if(Ya(s))for(const e of s.da)await e(!0)}async function Hl(s){for(const e of s.da)await e(!1)}function wE(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wm(n)?Zm(n):oo(n).O_()&&Jm(n,e))}function $m(s,e){const n=Re(s),a=oo(n);n.Ia.delete(e),a.O_()&&RE(n,e),n.Ia.size===0&&(a.O_()?a.L_():Ya(n)&&n.Ra.set("Unknown"))}function Jm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(s).Y_(e)}function RE(s,e){s.Va.Ue(e),oo(s).Z_(e)}function Zm(s){s.Va=new GI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Ra.ua()}function Wm(s){return Ya(s)&&!oo(s).x_()&&s.Ia.size>0}function Ya(s){return Re(s).Ea.size===0}function IE(s){s.Va=void 0}async function Z2(s){s.Ra.set("Online")}async function W2(s){s.Ia.forEach(((e,n)=>{Jm(s,e)}))}async function eC(s,e){IE(s),Wm(s)?(s.Ra.ha(e),Zm(s)):s.Ra.set("Unknown")}async function tC(s,e,n){if(s.Ra.set("Online"),e instanceof hE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){ue(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await eh(s,a)}else if(e instanceof kc?s.Va.Ze(e):e instanceof cE?s.Va.st(e):s.Va.tt(e),!n.isEqual(be.min()))try{const a=await SE(s.localStore);n.compareTo(a)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),RE(u,y);const A=new qs(E.target,y,p,E.sequenceNumber);Jm(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(a){ue(Ga,"Failed to raise snapshot:",a),await eh(s,a)}}async function eh(s,e,n){if(!ao(e))throw e;s.Ea.add(1),await Hl(s),s.Ra.set("Offline"),n||(n=()=>SE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Ga,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Th(s)}))}function CE(s,e){return e().catch((n=>eh(s,n,e)))}async function Eh(s){const e=Re(s),n=Zs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:km;for(;nC(e);)try{const l=await U2(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,iC(e,l)}catch(l){await eh(e,l)}NE(e)&&DE(e)}function nC(s){return Ya(s)&&s.Ta.length<10}function iC(s,e){s.Ta.push(e);const n=Zs(s);n.O_()&&n.X_&&n.ea(e.mutations)}function NE(s){return Ya(s)&&!Zs(s).x_()&&s.Ta.length>0}function DE(s){Zs(s).start()}async function sC(s){Zs(s).ra()}async function aC(s){const e=Zs(s);for(const n of s.Ta)e.ea(n.mutations)}async function rC(s,e,n){const a=s.Ta.shift(),l=Hm.from(a,e,n);await CE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Eh(s)}async function oC(s,e){e&&Zs(s).X_&&await(async function(a,l){if((function(d){return qI(d)&&d!==Z.ABORTED})(l.code)){const u=a.Ta.shift();Zs(a).B_(),await CE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Eh(a)}})(s,e),NE(s)&&DE(s)}async function f0(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),ue(Ga,"RemoteStore received new credentials");const a=Ya(n);n.Ea.add(3),await Hl(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Th(n)}async function lC(s,e){const n=Re(s);e?(n.Ea.delete(2),await Th(n)):e||(n.Ea.add(2),await Hl(n),n.Ra.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(n,a,l){const u=Re(n);return u.sa(),new Q2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:Z2.bind(null,s),t_:W2.bind(null,s),r_:eC.bind(null,s),H_:tC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Wm(s)?Zm(s):s.Ra.set("Unknown")):(await s.ma.stop(),IE(s))}))),s.ma}function Zs(s){return s.fa||(s.fa=(function(n,a,l){const u=Re(n);return u.sa(),new Y2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:sC.bind(null,s),r_:oC.bind(null,s),ta:aC.bind(null,s),na:rC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class eg{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const d=Date.now()+a,g=new eg(e,n,d,l,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,e){if(ts("AsyncQueue",`${e}: ${s}`),ao(s))return new le(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class Gr{static emptySet(e){return new Gr(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||_e.comparator(n.key,a.key):(n,a)=>_e.comparator(n.key,a.key),this.keyedMap=yl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Gr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class d0{constructor(){this.ga=new ut(_e.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Wr{constructor(e,n,a,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new Wr(e,n,Gr.emptySet(n),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class uC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cC{constructor(){this.queries=m0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Re(n),u=l.queries;l.queries=m0(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function m0(){return new Qa((s=>JT(s)),mh)}async function ng(s,e){const n=Re(s);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(a=2):(u=new uC,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=tg(d,`Initialization of query '${Pr(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&sg(n)}async function ig(s,e){const n=Re(s),a=e.query;let l=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function hC(s,e){const n=Re(s);let a=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&sg(n)}function fC(s,e,n){const a=Re(s),l=a.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(e)}function sg(s){s.Ca.forEach((e=>{e.next()}))}var mm,g0;(g0=mm||(mm={})).Ma="default",g0.Cache="cache";class ag{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Wr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class xE{constructor(e){this.key=e}}class OE{constructor(e){this.key=e}}class dC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=ZT(e),this.tu=new Gr(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new d0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,A)=>{const I=l.get(E),k=gh(this.query,A)?A:null,Q=!!I&&this.mutatedKeys.has(I.key),ee=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;I&&k?I.data.isEqual(k.data)?Q!==ee&&(a.track({type:3,doc:k}),X=!0):this.su(I,k)||(a.track({type:2,doc:k}),X=!0,(y&&this.eu(k,y)>0||p&&this.eu(k,p)<0)&&(g=!0)):!I&&k?(a.track({type:0,doc:k}),X=!0):I&&!k&&(a.track({type:1,doc:I}),X=!0,(y||p)&&(g=!0)),X&&(k?(d=d.add(k),u=ee?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(k,Q){const ee=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:X})}};return ee(k)-ee(Q)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Wr(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new OE(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new xE(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class mC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class gC{constructor(e){this.key=e,this.hu=!1}}class pC{constructor(e,n,a,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qa((g=>JT(g)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Zr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yC(s,e,n=!0){const a=LE(s);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ME(a,e,n,!0),l}async function _C(s,e){const n=LE(s);await ME(n,e,!0,!1)}async function ME(s,e,n,a){const l=await L2(s.localStore,bi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await vC(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&wE(s.remoteStore,l),g}async function vC(s,e,n,a,l){s.pu=(A,I,k)=>(async function(ee,X,oe,he){let H=X.view.ru(oe);H.Cs&&(H=await o0(ee.localStore,X.query,!1).then((({documents:x})=>X.view.ru(x,H))));const ce=he&&he.targetChanges.get(X.targetId),Ee=he&&he.targetMismatches.get(X.targetId)!=null,ne=X.view.applyChanges(H,ee.isPrimaryClient,ce,Ee);return y0(ee,X.targetId,ne.au),ne.snapshot})(s,A,I,k);const u=await o0(s.localStore,e,!0),d=new dC(e,u.Qs),g=d.ru(u.documents),y=ql.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);y0(s,n,p.au);const E=new mC(e,n,d);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function TC(s,e,n){const a=Re(s),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((d=>!mh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&$m(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(so)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function EC(s,e){const n=Re(s),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),$m(n.remoteStore,a.targetId))}async function SC(s,e,n){const a=NC(s);try{const l=await(function(d,g){const y=Re(d),p=at.now(),E=g.reduce(((k,Q)=>k.add(Q.key)),Le());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=ns(),ee=Le();return y.Ns.getEntries(k,E).next((X=>{Q=X,Q.forEach(((oe,he)=>{he.isValidDocument()||(ee=ee.add(oe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,Q))).next((X=>{A=X;const oe=[];for(const he of g){const H=UI(he,A.get(he.key).overlayedDocument);H!=null&&oe.push(new ta(he.key,H,HT(H.value.mapValue),Un.exists(!0)))}return y.mutationQueue.addMutationBatch(k,p,oe,g)})).next((X=>{I=X;const oe=X.applyToLocalDocumentSet(A,ee);return y.documentOverlayCache.saveOverlays(k,X.batchId,oe)}))})).then((()=>({batchId:I.batchId,changes:eE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ut(Ue)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(a,l.batchId,n),await Fl(a,l.changes),await Eh(a.remoteStore)}catch(l){const u=tg(l,"Failed to persist write");n.reject(u)}}async function VE(s,e){const n=Re(s);try{const a=await j2(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ye(d.hu,14607):l.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await Fl(n,a,e)}catch(a){await so(a)}}function p0(s,e,n){const a=Re(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Re(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,A)=>{for(const I of A.Sa)I.va(g)&&(p=!0)})),p&&sg(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AC(s,e,n){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let d=new ut(_e.comparator);d=d.insert(u,Jt.newNoDocument(u,be.min()));const g=Le().add(u),y=new _h(be.min(),new Map,new ut(Ue),d,g);await VE(a,y),a.du=a.du.remove(u),a.Au.delete(e),og(a)}else await fm(a.localStore,e,!1).then((()=>gm(a,e,n))).catch(so)}async function bC(s,e){const n=Re(s),a=e.batch.batchId;try{const l=await V2(n.localStore,e);kE(n,a,null),jE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(n,l)}catch(l){await so(l)}}async function wC(s,e,n){const a=Re(s);try{const l=await(function(d,g){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((A=>(Ye(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(p,A)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(a.localStore,e);kE(a,e,n),jE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Fl(a,l)}catch(l){await so(l)}}function jE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function kE(s,e,n){const a=Re(s);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function gm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||UE(s,a)}))}function UE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&($m(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),og(s))}function y0(s,e,n){for(const a of n)a instanceof xE?(s.Ru.addReference(a.key,e),RC(s,a)):a instanceof OE?(ue(rg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||UE(s,a.key)):Se(19791,{wu:a})}function RC(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(ue(rg,"New document in limbo: "+n),s.Eu.add(a),og(s))}function og(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new _e(nt.fromString(e)),a=s.fu.next();s.Au.set(a,new gC(n)),s.du=s.du.insert(n,a),wE(s.remoteStore,new qs(bi(dh(n.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Fl(s,e,n){const a=Re(s),l=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,n).then((p=>{if((p||n)&&a.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){l.push(p);const E=Km.As(y.targetId,p);u.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,p){const E=Re(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(p,(I=>te.forEach(I.Es,(k=>E.persistence.referenceDelegate.addReference(A,I.targetId,k))).next((()=>te.forEach(I.ds,(k=>E.persistence.referenceDelegate.removeReference(A,I.targetId,k)))))))))}catch(A){if(!ao(A))throw A;ue(Xm,"Failed to update sequence numbers: "+A)}for(const A of p){const I=A.targetId;if(!A.fromCache){const k=E.Ms.get(I),Q=k.snapshotVersion,ee=k.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(I,ee)}}})(a.localStore,u))}async function IC(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){ue(rg,"User change. New user:",e.toKey());const a=await EE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new le(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fl(n,a.Ls)}}function CC(s,e){const n=Re(s),a=n.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let l=Le();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function LE(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.Pu.H_=hC.bind(null,e.eventManager),e.Pu.yu=fC.bind(null,e.eventManager),e}function NC(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wC.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return M2(this.persistence,new D2,e.initialUser,this.serializer)}Cu(e){return new TE(Ym.mi,this.serializer)}Du(e){return new z2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class DC extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new g2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new TE((a=>Wc.mi(a,n)),this.serializer)}}class pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>p0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cC})()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),a=(function(u){return new G2(u)})(e.databaseInfo);return(function(u,d,g,y){return new X2(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,d,g){return new J2(a,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>p0(this.syncEngine,n,0)),(function(){return c0.v()?new c0:new B2})())}createSyncEngine(e,n){return(function(l,u,d,g,y,p,E){const A=new pC(l,u,d,g,y,p);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Re(n);ue(Ga,"RemoteStore shutting down."),a.Ea.add(5),await Hl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ws="FirestoreClient";class xC{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ue(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=tg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fd(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Ws,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await EE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await OC(s);ue(Ws,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>f0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>f0(e.remoteStore,l))),s._onlineComponents=e}async function OC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Ws,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Kr("Error using user provided cache. Falling back to memory cache: "+n),await Fd(s,new th)}}else ue(Ws,"Using default OfflineComponentProvider"),await Fd(s,new DC(void 0));return s._offlineComponents}async function PE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Ws,"Using user provided OnlineComponentProvider"),await _0(s,s._uninitializedComponentsProvider._online)):(ue(Ws,"Using default OnlineComponentProvider"),await _0(s,new pm))),s._onlineComponents}function MC(s){return PE(s).then((e=>e.syncEngine))}async function nh(s){const e=await PE(s),n=e.eventManager;return n.onListen=yC.bind(null,e.syncEngine),n.onUnlisten=TC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_C.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EC.bind(null,e.syncEngine),n}function VC(s,e,n={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const E=new lg({next:I=>{E.Nu(),d.enqueueAndForget((()=>ig(u,A)));const k=I.docs.has(g);!k&&I.fromCache?p.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&y&&y.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),A=new ag(dh(g.path),E,{includeMetadataChanges:!0,qa:!0});return ng(u,A)})(await nh(s),s.asyncQueue,e,n,a))),a.promise}function jC(s,e,n={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const E=new lg({next:I=>{E.Nu(),d.enqueueAndForget((()=>ig(u,A))),I.fromCache&&y.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),A=new ag(g,E,{includeMetadataChanges:!0,qa:!0});return ng(u,A)})(await nh(s),s.asyncQueue,e,n,a))),a.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const v0=new Map;const BE="firestore.googleapis.com",T0=!0;class E0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=T0}else this.host=e.host,this.ssl=e.ssl??T0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d2)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new BR;switch(a.type){case"firstParty":return new GR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=v0.get(n);a&&(ue("ComponentProvider","Removing Datastore"),v0.delete(n),a.terminate())})(this),Promise.resolve()}}function kC(s,e,n,a={}){s=fn(s,Sh);const l=eo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(z0(`https://${g}`),B0("Firestore",!0)),u.host!==BE&&u.host!==g&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:a};if(!Ba(y,d)&&(s._setSettings(y),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=$t.MOCK_USER;else{p=hb(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(A)}s._authCredentials=new qR(new xT(p,E))}}class na{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class ft{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(zl(n,ft._jsonSchema))return new ft(e,a||null,new _e(nt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Nt("string",ft._jsonSchemaVersion),referencePath:Nt("string")};class Ys extends na{constructor(e,n,a){super(e,n,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new _e(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function ug(s,e,...n){if(s=Lt(s),OT("collection","path",e),s instanceof Sh){const a=nt.fromString(e,...n);return Vv(a),new Ys(s,null,a)}{if(!(s instanceof ft||s instanceof Ys))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return Vv(a),new Ys(s.firestore,null,a)}}function ia(s,e,...n){if(s=Lt(s),arguments.length===1&&(e=jm.newId()),OT("doc","path",e),s instanceof Sh){const a=nt.fromString(e,...n);return Mv(a),new ft(s,null,new _e(a))}{if(!(s instanceof ft||s instanceof Ys))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return Mv(a),new ft(s.firestore,s instanceof Ys?s.converter:null,new _e(a))}}const S0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&ue(S0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ao(e))throw e;ue(S0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",b0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=eg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function w0(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class is extends Sh{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new A0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function UC(s,e){const n=typeof s=="object"?s:G0(),a=typeof s=="string"?s:Yc,l=Am(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=ub("firestore");u&&kC(l,...u)}return l}function Ah(s){if(s._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LC(s),s._firestoreClient}function LC(s){const e=s._freezeSettings(),n=(function(l,u,d,g){return new lI(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,zE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Yt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zl(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Nt("string",kn._jsonSchemaVersion),bytes:Nt("string")};class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._methodName=e}}class Ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(zl(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Nt("string",Ri._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zl(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Nt("string",Ii._jsonSchemaVersion),vectorValues:Nt("object")};const PC=/^__.*__$/;class zC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bl(e,this.data,n,this.fieldTransforms)}}class qE{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class hg{constructor(e,n,a,l,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&PC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||vh(e)}Cc(e,n,a,l=!1){return new hg({Ac:e,methodName:n,Dc:a,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(s){const e=s._freezeSettings(),n=vh(s._databaseId);return new BC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function FE(s,e,n,a,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);fg("Data must be an object, but it was:",d,a);const g=GE(a,d);let y,p;if(u.merge)y=new Sn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const I=ym(e,A,n);if(!d.contains(I))throw new le(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);YE(E,I)||E.push(I)}y=new Sn(E),p=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,p=d.fieldTransforms;return new zC(new hn(g),y,p)}class Rh extends cg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function qC(s,e,n,a){const l=s.Cc(1,e,n);fg("Data must be an object, but it was:",l,a);const u=[],d=hn.empty();ea(a,((y,p)=>{const E=dg(e,y,n);p=Lt(p);const A=l.yc(E);if(p instanceof Rh)u.push(E);else{const I=Gl(p,A);I!=null&&(u.push(E),d.set(E,I))}}));const g=new Sn(u);return new qE(d,g,l.fieldTransforms)}function HC(s,e,n,a,l,u){const d=s.Cc(1,e,n),g=[ym(e,a,n)],y=[l];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)g.push(ym(e,u[I])),y.push(u[I+1]);const p=[],E=hn.empty();for(let I=g.length-1;I>=0;--I)if(!YE(p,g[I])){const k=g[I];let Q=y[I];Q=Lt(Q);const ee=d.yc(k);if(Q instanceof Rh)p.push(k);else{const X=Gl(Q,ee);X!=null&&(p.push(k),E.set(k,X))}}const A=new Sn(p);return new qE(E,A,d.fieldTransforms)}function FC(s,e,n,a=!1){return Gl(n,s.Cc(a?4:3,e))}function Gl(s,e){if(QE(s=Lt(s)))return fg("Unsupported field value:",e,s),GE(s,e);if(s instanceof cg)return(function(a,l){if(!HE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let y=Gl(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(a,l){if((a=Lt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=at.fromDate(a);return{timestampValue:Zc(l.serializer,u)}}if(a instanceof at){const u=new at(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,u)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:fE(l.serializer,a._byteString)};if(a instanceof ft){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,g){return{mapValue:{fields:{[BT]:{stringValue:qT},[Kc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${uh(a)}`)})(s,e)}function GE(s,e){const n={};return jT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(s,((a,l)=>{const u=Gl(l,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function QE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Ri||s instanceof kn||s instanceof ft||s instanceof cg||s instanceof Ii)}function fg(s,e,n){if(!QE(n)||!MT(n)){const a=uh(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function ym(s,e,n){if((e=Lt(e))instanceof bh)return e._internalPath;if(typeof e=="string")return dg(s,e);throw ih("Field path arguments must be of type string or ",s,!1,void 0,n)}const GC=new RegExp("[~\\*/\\[\\]]");function dg(s,e,n){if(e.search(GC)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function ih(s,e,n,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new le(Z.INVALID_ARGUMENT,g+s+y)}function YE(s,e){return s.some((n=>n.isEqual(e)))}class KE{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QC extends KE{data(){return super.data()}}function mg(s,e){return typeof e=="string"?dg(s,e):e instanceof bh?e._internalPath:e._delegate._internalPath}function XE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class $E extends gg{}function JE(s,e,...n){let a=[];e instanceof gg&&a.push(e),a=a.concat(n),(function(u){const d=u.filter((y=>y instanceof yg)).length,g=u.filter((y=>y instanceof pg)).length;if(d>1||d>0&&g>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class pg extends $E{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new pg(e,n,a)}_apply(e){const n=this._parse(e);return WE(e._query,n),new na(e.firestore,e.converter,rm(e._query,n))}_parse(e){const n=wh(e.firestore);return(function(u,d,g,y,p,E,A){let I;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){I0(A,E);const Q=[];for(const ee of A)Q.push(R0(y,u,ee));I={arrayValue:{values:Q}}}else I=R0(y,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||I0(A,E),I=FC(g,d,A,E==="in"||E==="not-in");return Ct.create(p,E,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class yg extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)WE(d,y),d=rm(d,y)})(e._query,n),new na(e.firestore,e.converter,rm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _g extends $E{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _g(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(u,d)})(e._query,this._field,this._direction);return new na(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function ZE(s,e="asc"){const n=e,a=mg("orderBy",s);return _g._create(a,n)}function R0(s,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$T(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(nt.fromString(n));if(!_e.isDocumentKey(a))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return qv(s,new _e(a))}if(n instanceof ft)return qv(s,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function I0(s,e){if(!Array.isArray(s)||s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WE(s,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YC{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ea(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Kc].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new Ri(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);Ye(_E(a),9688,{name:e});const l=new Dl(a.get(1),a.get(3)),u=new _e(a.popFirst(5));return l.isEqual(n)||ts(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function eS(s,e,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,a}class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends KE{constructor(e,n,a,l,u,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(mg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Nt("string",Pa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Uc extends Pa{data(e={}){return super.data(e)}}class za{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Uc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:KC(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function XC(s){s=fn(s,ft);const e=fn(s.firestore,is);return VC(Ah(e),s._key).then((n=>iS(e,s,n)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:Nt("string",za._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class vg extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function $C(s){s=fn(s,na);const e=fn(s.firestore,is),n=Ah(e),a=new vg(e);return XE(s._query),jC(n,s._query).then((l=>new za(e,a,s,l)))}function tS(s,e,n){s=fn(s,ft);const a=fn(s.firestore,is),l=eS(s.converter,e,n);return Ih(a,[FE(wh(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Un.none())])}function nS(s,e,n,...a){s=fn(s,ft);const l=fn(s.firestore,is),u=wh(l);let d;return d=typeof(e=Lt(e))=="string"||e instanceof bh?HC(u,"updateDoc",s._key,e,n,a):qC(u,"updateDoc",s._key,e),Ih(l,[d.toMutation(s._key,Un.exists(!0))])}function Tg(s){return Ih(fn(s.firestore,is),[new qm(s._key,Un.none())])}function JC(s,e){const n=fn(s.firestore,is),a=ia(s),l=eS(s.converter,e);return Ih(n,[FE(wh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then((()=>a))}function ZC(s,...e){s=Lt(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||w0(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(w0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let u,d,g;if(s instanceof ft)d=fn(s.firestore,is),g=dh(s._key.path),u={next:y=>{e[a]&&e[a](iS(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=fn(s,na);d=fn(y.firestore,is),g=y._query;const p=new vg(d);u={next:E=>{e[a]&&e[a](new za(d,p,y,E))},error:e[a+1],complete:e[a+2]},XE(s._query)}return(function(p,E,A,I){const k=new lg(I),Q=new ag(E,k,A);return p.asyncQueue.enqueueAndForget((async()=>ng(await nh(p),Q))),()=>{k.Nu(),p.asyncQueue.enqueueAndForget((async()=>ig(await nh(p),Q)))}})(Ah(d),g,l,u)}function Ih(s,e){return(function(a,l){const u=new Zi;return a.asyncQueue.enqueueAndForget((async()=>SC(await MC(a),l,u))),u.promise})(Ah(s),e)}function iS(s,e,n){const a=n.docs.get(e._key),l=new vg(s);return new Pa(s,l,e._key,a,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){io=l})(to),Qr(new qa("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new is(new HR(a.getProvider("auth-internal")),new QR(d,a.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(p.options.projectId,E)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Gs(Nv,Dv,e),Gs(Nv,Dv,"esm2020")})();const WC={apiKey:"AIzaSyA4Dg6dUSUljW3lRZGMndbzSnsbcwkEuv8",authDomain:"studyapp-28e08.firebaseapp.com",projectId:"studyapp-28e08",storageBucket:"studyapp-28e08.firebasestorage.app",messagingSenderId:"929036775806",appId:"1:929036775806:web:50c21242a761566e31c32f"},sS=F0(WC),Gd=PR(sS),eN=new Xi,lo=UC(sS);function C0({onAuthChange:s}){const[e,n]=ve.useState(null),[a,l]=ve.useState(!0);ve.useEffect(()=>{const g=Iw(Gd,y=>{n(y),l(!1),s&&s(y)});return()=>g()},[s]);const u=async()=>{try{await Kw(Gd,eN)}catch(g){console.error("Error signing in with Google:",g),alert(": "+g.message)}},d=async()=>{try{await Cw(Gd)}catch(g){console.error("Error signing out:",g),alert(": "+g.message)}};return a?T.jsx("div",{className:"auth-container",children:T.jsx("div",{className:"auth-loading",children:"..."})}):e?T.jsxs("div",{className:"auth-user-info",children:[T.jsxs("div",{className:"user-profile",children:[e.photoURL&&T.jsx("img",{src:e.photoURL,alt:"Profile",className:"user-avatar"}),T.jsx("span",{className:"user-name",children:e.displayName||e.email})]}),T.jsx("button",{onClick:d,className:"signout-btn",children:""})]}):T.jsx("div",{className:"auth-container",children:T.jsxs("div",{className:"auth-card",children:[T.jsx("h2",{children:" SAPIX "}),T.jsxs("p",{className:"auth-description",children:["Google",T.jsx("br",{}),""]}),T.jsxs("button",{onClick:u,className:"google-signin-btn",children:[T.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[T.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),T.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),T.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),T.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})]}),"Google"]})]})})}function tN({tasks:s,onToggleTask:e,onDeleteTask:n,onEditTask:a}){const[l,u]=ve.useState("today");function d(I){const k=I.getFullYear(),Q=String(I.getMonth()+1).padStart(2,"0"),ee=String(I.getDate()).padStart(2,"0");return`${k}-${Q}-${ee}`}function g(){const I=d(new Date);return s.filter(k=>k.dueDate===I)}const y={:"",:"",:"",:""},p={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},E=g(),A=I=>{u(l===I?null:I)};return T.jsx("div",{className:"today-week-view",children:T.jsxs("div",{className:"priority-section today-section",children:[T.jsxs("div",{className:"section-header",onClick:()=>A("today"),children:[T.jsxs("h2",{children:[" ",T.jsxs("span",{className:"task-count",children:[E.filter(I=>!I.completed).length," / ",E.length]})]}),T.jsx("span",{className:"toggle-icon",children:l==="today"?"":""})]}),l==="today"&&T.jsx("div",{className:"task-grid",children:E.length===0?T.jsx("div",{className:"no-tasks-message",children:""}):E.map(I=>{const k=p[I.subject]||"#64748b";return T.jsxs("div",{className:`priority-task ${I.completed?"completed":""}`,style:{borderColor:k,backgroundColor:`${k}15`,boxShadow:`0 2px 8px ${k}25`},children:[T.jsx("input",{type:"checkbox",checked:I.completed,onChange:()=>e(I.id),className:"task-checkbox"}),T.jsx("span",{className:"subject-emoji",children:y[I.subject]}),T.jsx("span",{className:"subject-badge",style:{color:k},children:I.subject}),T.jsx("span",{className:"task-title",children:I.title}),I.priority&&T.jsx("span",{className:"task-priority-badge",children:I.priority}),T.jsxs("div",{className:"task-actions",children:[a&&T.jsx("button",{className:"edit-btn",onClick:()=>a(I),title:"",children:""}),T.jsx("button",{className:"delete-btn",onClick:()=>n(I.id),title:"",children:""})]})]},I.id)})})]})})}const nN="modulepreload",iN=function(s){return"/New_Repository/"+s},N0={},sN=function(e,n,a){let l=Promise.resolve();if(n&&n.length>0){let p=function(E){return Promise.all(E.map(A=>Promise.resolve(A).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};var d=p;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");l=p(n.map(E=>{if(E=iN(E),E in N0)return;N0[E]=!0;const A=E.endsWith(".css"),I=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${I}`))return;const k=document.createElement("link");if(k.rel=A?"stylesheet":nN,A||(k.as="script"),k.crossOrigin="",k.href=E,y&&k.setAttribute("nonce",y),document.head.appendChild(k),A)return new Promise((Q,ee)=>{k.addEventListener("load",Q),k.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return l.then(g=>{for(const y of g||[])y.status==="rejected"&&u(y.reason);return e().catch(u)})},sh={:{"3":[{id:"math3_01",name:"",category:""},{id:"math3_02",name:"",category:""},{id:"math3_03",name:"",category:""},{id:"math3_04",name:"",category:""},{id:"math3_05",name:"",category:""},{id:"math3_06",name:"",category:""},{id:"math3_07",name:"",category:""},{id:"math3_08",name:"",category:""},{id:"math3_09",name:"",category:""},{id:"math3_10",name:"",category:""},{id:"math3_11",name:"",category:""},{id:"math3_12",name:"",category:""}],"4":[{id:"math4_01",name:"",category:""},{id:"math4_02",name:"",category:""},{id:"math4_03",name:"",category:""},{id:"math4_04",name:"",category:""},{id:"math4_05",name:"",category:""},{id:"math4_06",name:"",category:""},{id:"math4_07",name:"",category:""},{id:"math4_08",name:"",category:""},{id:"math4_09",name:"",category:""},{id:"math4_10",name:"",category:""},{id:"math4_11",name:"",category:""},{id:"math4_12",name:"",category:""},{id:"math4_13",name:"",category:""},{id:"math4_14",name:"",category:""},{id:"math4_15",name:"",category:""}],"5":[{id:"math5_01",name:"",category:""},{id:"math5_02",name:"",category:""},{id:"math5_03",name:"",category:""},{id:"math5_04",name:"",category:""},{id:"math5_05",name:"",category:""},{id:"math5_06",name:"",category:""},{id:"math5_07",name:"",category:""},{id:"math5_08",name:"",category:""},{id:"math5_09",name:"",category:""},{id:"math5_10",name:"",category:""},{id:"math5_11",name:"",category:""},{id:"math5_12",name:"",category:""},{id:"math5_13",name:"",category:""},{id:"math5_14",name:"",category:""},{id:"math5_15",name:"N",category:""},{id:"math5_16",name:"",category:""},{id:"math5_17",name:"",category:""},{id:"math5_18",name:"",category:""}],"6":[{id:"math6_01",name:"",category:""},{id:"math6_02",name:"",category:""},{id:"math6_03",name:"",category:""},{id:"math6_04",name:"",category:""},{id:"math6_05",name:"",category:""},{id:"math6_06",name:"",category:""},{id:"math6_07",name:"",category:""},{id:"math6_08",name:"",category:""},{id:"math6_09",name:"",category:""},{id:"math6_10",name:"",category:""},{id:"math6_11",name:"",category:""},{id:"math6_12",name:"",category:""}]},:{"3":[{id:"lang3_01",name:"3",category:""},{id:"lang3_02",name:"",category:""},{id:"lang3_03",name:"",category:""},{id:"lang3_04",name:"",category:""},{id:"lang3_05",name:"",category:""},{id:"lang3_06",name:"",category:""},{id:"lang3_07",name:"",category:""},{id:"lang3_08",name:"",category:""}],"4":[{id:"lang4_01",name:"4",category:""},{id:"lang4_02",name:"",category:""},{id:"lang4_03",name:"",category:""},{id:"lang4_04",name:"",category:""},{id:"lang4_05",name:"",category:""},{id:"lang4_06",name:"",category:""},{id:"lang4_07",name:"",category:""},{id:"lang4_08",name:"",category:""},{id:"lang4_09",name:"",category:""},{id:"lang4_10",name:"",category:""}],"5":[{id:"lang5_01",name:"5",category:""},{id:"lang5_02",name:"",category:""},{id:"lang5_03",name:"",category:""},{id:"lang5_04",name:"",category:""},{id:"lang5_05",name:"",category:""},{id:"lang5_06",name:"",category:""},{id:"lang5_07",name:"",category:""},{id:"lang5_08",name:"",category:""},{id:"lang5_09",name:"",category:""},{id:"lang5_10",name:"",category:""},{id:"lang5_11",name:"",category:""}],"6":[{id:"lang6_01",name:"6",category:""},{id:"lang6_02",name:"",category:""},{id:"lang6_03",name:"",category:""},{id:"lang6_04",name:"",category:""},{id:"lang6_05",name:"",category:""},{id:"lang6_06",name:"",category:""},{id:"lang6_07",name:"",category:""},{id:"lang6_08",name:"",category:""},{id:"lang6_09",name:"",category:""},{id:"lang6_10",name:"",category:""}]},:{"3":[{id:"sci3_01",name:"",category:""},{id:"sci3_02",name:"",category:""},{id:"sci3_03",name:"",category:""},{id:"sci3_04",name:"",category:""},{id:"sci3_05",name:"",category:""},{id:"sci3_06",name:"",category:""},{id:"sci3_07",name:"",category:""},{id:"sci3_08",name:"",category:""}],"4":[{id:"sci4_01",name:"",category:""},{id:"sci4_02",name:"",category:""},{id:"sci4_03",name:"",category:""},{id:"sci4_04",name:"",category:""},{id:"sci4_05",name:"",category:""},{id:"sci4_06",name:"",category:""},{id:"sci4_07",name:"",category:""},{id:"sci4_08",name:"",category:""},{id:"sci4_09",name:"",category:""},{id:"sci4_10",name:"",category:""},{id:"sci4_11",name:"",category:""}],"5":[{id:"sci5_01",name:"",category:""},{id:"sci5_02",name:"",category:""},{id:"sci5_03",name:"",category:""},{id:"sci5_04",name:"",category:""},{id:"sci5_05",name:"",category:""},{id:"sci5_06",name:"",category:""},{id:"sci5_07",name:"",category:""},{id:"sci5_08",name:"",category:""},{id:"sci5_09",name:"",category:""},{id:"sci5_10",name:"",category:""},{id:"sci5_11",name:"",category:""},{id:"sci5_12",name:"",category:""}],"6":[{id:"sci6_01",name:"",category:""},{id:"sci6_02",name:"",category:""},{id:"sci6_03",name:"",category:""},{id:"sci6_04",name:"",category:""},{id:"sci6_05",name:"",category:""},{id:"sci6_06",name:"",category:""},{id:"sci6_07",name:"",category:""},{id:"sci6_08",name:"",category:""},{id:"sci6_09",name:"",category:""},{id:"sci6_10",name:"",category:""}]},:{"3":[{id:"soc3_01",name:"",category:""},{id:"soc3_02",name:"",category:""},{id:"soc3_03",name:"",category:""},{id:"soc3_04",name:"",category:""},{id:"soc3_05",name:"",category:""},{id:"soc3_06",name:"",category:""}],"4":[{id:"soc4_01",name:"",category:""},{id:"soc4_02",name:"",category:""},{id:"soc4_03",name:"",category:""},{id:"soc4_04",name:"",category:""},{id:"soc4_05",name:"",category:""},{id:"soc4_06",name:"",category:""},{id:"soc4_07",name:"",category:""},{id:"soc4_08",name:"",category:""},{id:"soc4_09",name:"",category:""}],"5":[{id:"soc5_01",name:"",category:""},{id:"soc5_02",name:"",category:""},{id:"soc5_03",name:"",category:""},{id:"soc5_04",name:"",category:""},{id:"soc5_05",name:"",category:""},{id:"soc5_06",name:"",category:""},{id:"soc5_07",name:"",category:""},{id:"soc5_08",name:"",category:""},{id:"soc5_09",name:"",category:""},{id:"soc5_10",name:"",category:""},{id:"soc5_11",name:"",category:""},{id:"soc5_12",name:"",category:""},{id:"soc5_13",name:"",category:""},{id:"soc5_14",name:"",category:""}],"6":[{id:"soc6_01",name:"",category:""},{id:"soc6_02",name:"",category:""},{id:"soc6_03",name:"",category:""},{id:"soc6_04",name:"",category:""},{id:"soc6_05",name:"",category:""},{id:"soc6_06",name:"",category:""},{id:"soc6_07",name:"",category:""},{id:"soc6_08",name:"",category:""},{id:"soc6_09",name:"",category:""}]}},aS=["","","",""],Eg=["3","4","5","6"];function D0({onAddTask:s,onUpdateTask:e,editingTask:n,onCancelEdit:a,customUnits:l=[],onAddCustomUnit:u}){const[d,g]=ve.useState(""),[y,p]=ve.useState(""),[E,A]=ve.useState("4"),[I,k]=ve.useState(""),[Q,ee]=ve.useState("daily"),[X,oe]=ve.useState("B"),[he,H]=ve.useState(""),[ce,Ee]=ve.useState(!1),[ne,x]=ve.useState(""),[b,N]=ve.useState(""),[V,C]=ve.useState(null);ve.useEffect(()=>{n&&(g(n.title||""),p(n.subject||""),A(n.grade||"4"),k(n.unitId||""),ee(n.taskType||"daily"),oe(n.priority||"B"),H(n.dueDate||""))},[n]);const M=D=>{if(D.preventDefault(),d.trim()){const J=R(I),se={title:d.trim(),subject:y,grade:E,unitId:I,unit:J,taskType:Q,priority:X,dueDate:he||null};console.log(" /:",se),n?e(n.id,se):s(se),g(""),k(""),C(null),n&&a&&a()}},R=D=>{if(console.log(" getUnitName:",{unitId:D,subject:y,grade:E}),!D)return"";if(V&&V.id===D)return console.log(" :",V.name),V.name;const se=(sh[y]?.[E]||[]).find(pe=>pe.id===D);if(se)return console.log(" :",se.name),se.name;console.log(" :",{customUnits:l,unitId:D});const re=l.find(pe=>pe.id===D);return re?(console.log(" :",re.name),re.name):(console.log(" "),"")},K=async()=>{if(!ne.trim()){alert("");return}if(!u){alert("");return}const{generateCustomUnitId:D}=await sN(async()=>{const{generateCustomUnitId:pe}=await Promise.resolve().then(()=>DN);return{generateCustomUnitId:pe}},void 0),se={id:D(y,E,ne),subject:y,grade:E,name:ne.trim(),category:b};console.log(" :",se);const re=await u(se);if(console.log(" :",re),re.success){const pe=ne.trim();C({id:re.data.id,name:pe}),x(""),N(""),Ee(!1),k(re.data.id),alert(` ${pe}`)}else alert(` : ${re.error||""}`)},fe=()=>{g(""),k(""),a&&a()},z=[{value:"daily",label:"",emoji:""},{value:"basic",label:"",emoji:""},{value:"test",label:"",emoji:""},{value:"pastpaper",label:"",emoji:""},{value:"weakness",label:"",emoji:""}],ie=[{value:"A",label:"A ()",color:"#ef4444"},{value:"B",label:"B ()",color:"#f59e0b"},{value:"C",label:"C ()",color:"#3b82f6"}],ge=["","","",""],xe=sh[y]?.[E]||[],Pe=l.filter(D=>D.subject===y&&D.grade===E);return[...xe,...Pe],ve.useEffect(()=>{console.log(" :"),console.log("  :",l),console.log("  :",y),console.log("  :",E),console.log("  :",Pe)},[l,y,E,Pe]),T.jsxs("form",{className:"task-form sapix-form",onSubmit:M,children:[T.jsx("h2",{children:n?" ":" "}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group third",children:[T.jsx("label",{htmlFor:"subject",children:""}),T.jsx("select",{id:"subject",value:y,onChange:D=>{p(D.target.value),k("")},children:ge.map(D=>T.jsx("option",{value:D,children:D},D))})]}),T.jsxs("div",{className:"form-group third",children:[T.jsx("label",{htmlFor:"grade",children:""}),T.jsx("select",{id:"grade",value:E,onChange:D=>{A(D.target.value),k("")},children:Eg.map(D=>T.jsx("option",{value:D,children:D},D))})]}),T.jsxs("div",{className:"form-group third",children:[T.jsx("label",{htmlFor:"unit",children:""}),T.jsxs("div",{className:"unit-select-container",children:[T.jsxs("select",{id:"unit",value:I,onChange:D=>k(D.target.value),children:[T.jsx("option",{value:"",children:""}),xe.length>0&&T.jsx("optgroup",{label:"",children:xe.map(D=>T.jsxs("option",{value:D.id,children:[D.name," (",D.category,")"]},D.id))}),Pe.length>0&&T.jsx("optgroup",{label:"",children:Pe.map(D=>T.jsxs("option",{value:D.id,children:[D.name," (",D.category,")"]},D.id))})]}),T.jsx("button",{type:"button",className:"add-custom-unit-btn",onClick:()=>Ee(!ce),title:"",children:""})]})]})]}),ce&&T.jsxs("div",{className:"custom-unit-form",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{htmlFor:"customUnitName",children:""}),T.jsx("input",{type:"text",id:"customUnitName",value:ne,onChange:D=>x(D.target.value),placeholder:": 20231"})]}),T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{htmlFor:"customUnitCategory",children:""}),T.jsxs("select",{id:"customUnitCategory",value:b,onChange:D=>N(D.target.value),children:[T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""})]})]})]}),T.jsxs("div",{className:"custom-unit-actions",children:[T.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Ee(!1),x(""),N("")},children:""}),T.jsx("button",{type:"button",className:"btn-primary",onClick:K,children:""})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"title",children:""}),T.jsx("input",{type:"text",id:"title",value:d,onChange:D=>g(D.target.value),placeholder:":  No.23 p.12-15",required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:""}),T.jsx("div",{className:"task-type-buttons",children:z.map(D=>T.jsxs("button",{type:"button",className:`type-btn ${Q===D.value?"active":""}`,onClick:()=>ee(D.value),children:[D.emoji," ",D.label]},D.value))})]}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{children:""}),T.jsx("div",{className:"priority-buttons",children:ie.map(D=>T.jsx("button",{type:"button",className:`priority-btn ${X===D.value?"active":""}`,style:{borderColor:X===D.value?D.color:"#e0e0e0",backgroundColor:X===D.value?D.color:"white",color:X===D.value?"white":"#333"},onClick:()=>oe(D.value),children:D.label},D.value))})]}),T.jsxs("div",{className:"form-group half",children:[T.jsx("label",{htmlFor:"dueDate",children:" "}),T.jsx("input",{type:"date",id:"dueDate",value:he,onChange:D=>H(D.target.value)})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"submit",className:"submit-btn sapix-btn",children:n?" ":" "}),n&&T.jsx("button",{type:"button",className:"cancel-btn",onClick:fe,children:" "})]})]})}function aN({task:s,onToggle:e,onDelete:n,onEdit:a}){const l={:"",:"",:"",:"",:"",:"",:"",:""},d={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"}[s.subject]||"#007AFF";return T.jsxs("div",{className:`task-item ${s.completed?"completed":""}`,style:{borderColor:d,backgroundColor:`${d}15`,boxShadow:`0 2px 8px ${d}25`},children:[T.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>e(s.id),className:"task-checkbox"}),T.jsx("span",{className:"subject-emoji",children:l[s.subject]}),T.jsx("span",{className:"subject-badge",style:{color:d},children:s.subject}),T.jsx("span",{className:"task-title",children:s.title}),T.jsxs("div",{className:"task-actions",children:[a&&T.jsx("button",{className:"edit-btn",onClick:()=>a(s),"aria-label":"",children:""}),T.jsx("button",{className:"delete-btn",onClick:()=>n(s.id),"aria-label":"",children:""})]})]})}function rN({tasks:s,onToggleTask:e,onDeleteTask:n,onBulkDeleteTasks:a,onEditTask:l}){const[u,d]=ve.useState(""),[g,y]=ve.useState("dueDate"),[p,E]=ve.useState([]),[A,I]=ve.useState(!1),[k,Q]=ve.useState(""),ee=[{name:"",emoji:"",color:"#64748b"},{name:"",emoji:"",color:"#10b981"},{name:"",emoji:"",color:"#ef4444"},{name:"",emoji:"",color:"#3b82f6"},{name:"",emoji:"",color:"#f59e0b"}],X=ve.useMemo(()=>{let ne=[...s];if(k!==""&&(ne=ne.filter(x=>x.subject===k)),u.trim()){const x=u.toLowerCase();ne=ne.filter(b=>b.title.toLowerCase().includes(x)||b.subject?.toLowerCase().includes(x)||b.unit?.toLowerCase().includes(x))}return ne.sort((x,b)=>{switch(g){case"dueDate":return new Date(x.dueDate)-new Date(b.dueDate);case"subject":return(x.subject||"").localeCompare(b.subject||"");case"priority":{const N={A:0,B:1,C:2};return(N[x.priority]||3)-(N[b.priority]||3)}case"created":return new Date(b.createdAt)-new Date(x.createdAt);default:return 0}}),ne},[s,u,g,k]),oe=ve.useMemo(()=>{const ne=s.length,x=s.filter(M=>M.completed).length,b=ne-x,N=ne>0?Math.round(x/ne*100):0,V={};s.forEach(M=>{const R=M.subject||"";V[R]||(V[R]={total:0,completed:0}),V[R].total++,M.completed&&V[R].completed++});const C={};return s.forEach(M=>{const R=M.priority||"";C[R]||(C[R]={total:0,completed:0}),C[R].total++,M.completed&&C[R].completed++}),{total:ne,completed:x,pending:b,completionRate:N,bySubject:V,byPriority:C}},[s]),he=()=>{p.length===X.length?E([]):E(X.map(ne=>ne.id))},H=ne=>{p.includes(ne)?E(p.filter(x=>x!==ne)):E([...p,ne])},ce=()=>{window.confirm(`${p.length}`)&&(p.forEach(ne=>{const x=s.find(b=>b.id===ne);x&&!x.completed&&e(ne)}),E([]),I(!1))},Ee=()=>{window.confirm(`${p.length}`)&&(a?a(p):p.forEach(ne=>{n(ne)}),E([]),I(!1))};return s.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx("p",{children:" "}),T.jsx("p",{children:""})]}):T.jsxs("div",{className:"enhanced-task-list",children:[T.jsxs("div",{className:"task-statistics",children:[T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsx("div",{className:"stat-value",children:oe.total})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsx("div",{className:"stat-value",children:oe.completed})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsx("div",{className:"stat-value",children:oe.pending})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[oe.completionRate,"%"]})]})]}),T.jsx("div",{className:"subject-filter",children:ee.map(ne=>T.jsxs("button",{className:`subject-filter-btn ${k===ne.name?"active":""}`,onClick:()=>Q(ne.name),children:[T.jsx("span",{className:"subject-filter-emoji",children:ne.emoji}),T.jsx("span",{children:ne.name})]},ne.name))}),T.jsxs("div",{className:"task-controls",children:[T.jsxs("div",{className:"search-box",children:[T.jsx("span",{className:"search-icon",children:""}),T.jsx("input",{type:"text",placeholder:"...",value:u,onChange:ne=>d(ne.target.value),className:"search-input"}),u&&T.jsx("button",{className:"clear-search",onClick:()=>d(""),title:"",children:""})]}),T.jsxs("div",{className:"sort-box",children:[T.jsx("label",{children:":"}),T.jsxs("select",{value:g,onChange:ne=>y(ne.target.value),className:"sort-select",children:[T.jsx("option",{value:"dueDate",children:""}),T.jsx("option",{value:"subject",children:""}),T.jsx("option",{value:"priority",children:""}),T.jsx("option",{value:"created",children:""})]})]}),T.jsx("button",{className:`bulk-mode-btn ${A?"active":""}`,onClick:()=>{I(!A),E([])},children:A?" ":" "})]}),A&&T.jsxs("div",{className:"bulk-actions-bar",children:[T.jsxs("div",{className:"bulk-select",children:[T.jsx("input",{type:"checkbox",checked:p.length===X.length&&X.length>0,onChange:he,id:"select-all"}),T.jsxs("label",{htmlFor:"select-all",children:[" (",p.length,"/",X.length,")"]})]}),p.length>0&&T.jsxs("div",{className:"bulk-buttons",children:[T.jsxs("button",{className:"bulk-complete-btn",onClick:ce,children:["  (",p.length,")"]}),T.jsxs("button",{className:"bulk-delete-btn",onClick:Ee,children:["  (",p.length,")"]})]})]}),u&&T.jsxs("div",{className:"search-results-info",children:[' "',u,'" : ',X.length,""]}),T.jsx("div",{className:"task-list",children:X.length===0?T.jsxs("div",{className:"no-results",children:[T.jsx("p",{children:" "}),T.jsx("button",{onClick:()=>d(""),className:"reset-search-btn",children:""})]}):X.map(ne=>T.jsxs("div",{className:`task-item-wrapper ${A?"bulk-mode":""}`,children:[A&&T.jsx("input",{type:"checkbox",checked:p.includes(ne.id),onChange:()=>H(ne.id),className:"task-checkbox"}),T.jsx(aN,{task:ne,onToggle:e,onDelete:n,onEdit:l})]},ne.id))})]})}function oN({tasks:s,onToggleTask:e,onDeleteTask:n,onEditTask:a}){const l=()=>{if(s.length>0){const C=s.filter(M=>M.dueDate);if(C.length>0)return new Date(C[0].dueDate)}return new Date},[u,d]=ve.useState(A(l())),[g,y]=ve.useState("week"),[p,E]=ve.useState(l());function A(C){const M=new Date(C),R=M.getDay(),K=M.getDate()-R;return new Date(M.setDate(K))}function I(C){const M=C.getFullYear(),R=String(C.getMonth()+1).padStart(2,"0"),K=String(C.getDate()).padStart(2,"0");return`${M}-${R}-${K}`}function k(C,M){const R=new Date(C);return R.setDate(R.getDate()+M),R}function Q(){d(k(u,-7))}function ee(){d(k(u,7))}function X(){const C=new Date(p);C.setMonth(C.getMonth()-1),E(C)}function oe(){const C=new Date(p);C.setMonth(C.getMonth()+1),E(C)}function he(){const C=new Date;d(A(C)),E(C)}function H(){E(new Date(u)),y("month")}function ce(){d(A(p)),y("week")}const Ee=["","","","","","",""],ne=Array.from({length:7},(C,M)=>k(u,M));function x(){const C=p.getFullYear(),M=p.getMonth(),R=new Date(C,M,1),K=new Date(R);K.setDate(K.getDate()-K.getDay());const fe=[];let z=new Date(K);for(;fe.length<42;)fe.push(new Date(z)),z.setDate(z.getDate()+1);return fe}function b(C){const M=I(C),R=s.filter(K=>K.dueDate===M);return(M==="2026-02-03"||M==="2026-02-04")&&(console.log(" Debug for date:",M),console.log("Total tasks:",s.length),console.log("Tasks with dueDate:",s.filter(K=>K.dueDate).length),console.log("Sample task dueDates:",s.slice(0,5).map(K=>K.dueDate)),console.log("Filtered tasks:",R.length)),R}const N={:"",:"",:"",:""},V=I(new Date);return T.jsxs("div",{className:"weekly-calendar",children:[T.jsxs("div",{className:"calendar-header",children:[T.jsx("button",{onClick:g==="week"?Q:X,className:"nav-btn",children:""}),T.jsx("div",{className:"calendar-title",children:g==="week"?T.jsxs(T.Fragment,{children:[T.jsxs("h2",{children:[" ",ne[0].getMonth()+1," "]}),T.jsxs("div",{className:"calendar-controls",children:[T.jsx("button",{onClick:he,className:"today-btn",children:" "}),T.jsx("button",{onClick:H,className:"view-mode-btn",children:""})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("h2",{children:[" ",p.getFullYear()," ",p.getMonth()+1,""]}),T.jsxs("div",{className:"calendar-controls",children:[T.jsx("button",{onClick:he,className:"today-btn",children:" "}),T.jsx("button",{onClick:ce,className:"view-mode-btn",children:""})]})]})}),T.jsx("button",{onClick:g==="week"?ee:oe,className:"nav-btn",children:""})]}),g==="week"?T.jsx("div",{className:"calendar-grid weekly-grid",children:ne.map((C,M)=>{const R=I(C),K=b(C),fe=R===V;return T.jsxs("div",{className:`calendar-day ${fe?"today":""}`,children:[T.jsxs("div",{className:"day-header",children:[T.jsx("div",{className:"day-name",children:Ee[M]}),T.jsxs("div",{className:"day-date",children:[C.getMonth()+1,"/",C.getDate()]})]}),T.jsx("div",{className:"day-tasks",children:K.length===0?T.jsx("div",{className:"no-tasks",children:""}):K.map(z=>T.jsxs("div",{className:`calendar-task ${z.completed?"completed":""}`,children:[T.jsxs("div",{className:"task-header",children:[T.jsx("input",{type:"checkbox",checked:z.completed,onChange:()=>e(z.id),className:"task-checkbox-small"}),T.jsx("span",{className:"task-emoji",children:N[z.subject]})]}),T.jsx("div",{className:"task-title-small clickable",onClick:()=>a&&a(z),title:"",children:z.title}),T.jsx("button",{className:"delete-btn-small",onClick:()=>n(z.id),children:""})]},z.id))})]},M)})}):T.jsxs("div",{className:"calendar-grid monthly-grid",children:[T.jsx("div",{className:"month-weekdays",children:Ee.map((C,M)=>T.jsx("div",{className:"weekday-header",children:C},M))}),T.jsx("div",{className:"month-days",children:x().map((C,M)=>{const R=I(C),K=b(C),fe=R===V,z=C.getMonth()===p.getMonth();return T.jsxs("div",{className:`month-day ${fe?"today":""} ${z?"":"other-month"}`,children:[T.jsx("div",{className:"month-day-date",children:C.getDate()}),T.jsx("div",{className:"month-day-tasks",children:K.length>0&&T.jsxs("div",{className:"task-indicators",children:[K.slice(0,3).map(ie=>T.jsx("div",{className:`task-dot ${ie.completed?"completed":""} clickable`,title:`${ie.title} ()`,onClick:()=>a&&a(ie),children:N[ie.subject]},ie.id)),K.length>3&&T.jsxs("div",{className:"more-tasks",children:["+",K.length-3]})]})})]},M)})})]}),T.jsxs("div",{className:"unscheduled-tasks",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{className:"unscheduled-list",children:[s.filter(C=>!C.dueDate).map(C=>T.jsxs("div",{className:`unscheduled-task ${C.completed?"completed":""}`,children:[T.jsx("input",{type:"checkbox",checked:C.completed,onChange:()=>e(C.id),className:"task-checkbox-small"}),T.jsx("span",{className:"task-emoji",children:N[C.subject]}),T.jsx("span",{className:"task-title-small clickable",onClick:()=>a&&a(C),title:"",children:C.title}),T.jsx("button",{className:"delete-btn-small",onClick:()=>n(C.id),children:""})]},C.id)),s.filter(C=>!C.dueDate).length===0&&T.jsx("div",{className:"no-tasks",children:""})]})]})]})}const rS="sapix_study_sessions";function oS(){const s=localStorage.getItem(rS);return s?JSON.parse(s):[]}function lN(s){localStorage.setItem(rS,JSON.stringify(s))}function uN(s){const e=oS(),n={id:`session_${Date.now()}`,date:new Date().toISOString().split("T")[0],duration:0,masteryLevel:3,notes:"",testScore:null,needsReview:"medium",...s};return e.push(n),lN(e),n}function Sg(s){return oS().filter(n=>n.unitId===s).sort((n,a)=>new Date(a.date)-new Date(n.date))}function cN(s){const e=Sg(s);if(e.length===0)return{studyCount:0,totalDuration:0,averageMastery:0,lastStudyDate:null,needsReview:!1};const n=e.reduce((g,y)=>g+(y.duration||0),0),a=e.reduce((g,y)=>g+y.masteryLevel,0)/e.length,l=e[0].date,u=Math.floor((new Date-new Date(l))/(1e3*60*60*24)),d=u>7||a<3;return{studyCount:e.length,totalDuration:n,averageMastery:Math.round(a*10)/10,lastStudyDate:l,daysSinceLastStudy:u,needsReview:d}}function hN(s,e,n){const a=n.filter(g=>Sg(g.id).length>0),l=n.length,u=a.length,d=l>0?Math.round(u/l*100):0;return{totalUnits:l,studiedCount:u,unstudiedCount:l-u,percentage:d}}function fN({tasks:s,onEditTask:e,customUnits:n=[]}){const[a,l]=ve.useState("4"),[u,d]=ve.useState(""),[g,y]=ve.useState(null),[p,E]=ve.useState(!1),[A,I]=ve.useState({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),k={:"",:"",:"",:""},Q={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},ee=sh[u]?.[a]||[],X=n.filter(b=>b.subject===u&&b.grade===a),oe=[...ee,...X],he=hN(u,a,oe),H=b=>{uN({unitId:b,...A}),E(!1),I({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),l(a)},ce=b=>{g===b?(y(null),E(!1)):(y(b),E(!1))},Ee=b=>"".repeat(b)+"".repeat(5-b),ne=b=>{if(!s)return[];const N=s.filter(V=>V.unitId===b);return N.length>0&&console.log(`Unit ${b} has ${N.length} related tasks:`,N.map(V=>V.title)),N},x=b=>b===0?"":b===1?"":b<7?`${b}`:b<30?`${Math.floor(b/7)}`:`${Math.floor(b/30)}`;return T.jsxs("div",{className:"unit-dashboard",children:[T.jsxs("div",{className:"dashboard-header",children:[T.jsxs("div",{className:"grade-selector",children:[T.jsx("label",{children:":"}),Eg.map(b=>T.jsx("button",{className:`grade-btn ${a===b?"active":""}`,onClick:()=>l(b),children:b},b))]}),T.jsx("div",{className:"subject-selector",children:aS.map(b=>T.jsxs("button",{className:`subject-btn ${u===b?"active":""}`,onClick:()=>d(b),style:{borderColor:u===b?Q[b]:"#e2e8f0",background:u===b?`${Q[b]}15`:"white"},children:[T.jsx("span",{className:"subject-emoji",children:k[b]}),T.jsx("span",{children:b})]},b))})]}),T.jsxs("div",{className:"progress-summary",children:[T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsx("div",{className:"summary-value",children:he.totalUnits})]}),T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsx("div",{className:"summary-value",style:{color:Q[u]},children:he.studiedCount})]}),T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsx("div",{className:"summary-value",children:he.unstudiedCount})]}),T.jsxs("div",{className:"summary-card",children:[T.jsx("div",{className:"summary-label",children:""}),T.jsxs("div",{className:"summary-value",children:[he.percentage,"%"]})]})]}),T.jsx("div",{className:"units-grid",children:oe.map(b=>{const N=cN(b.id),V=Sg(b.id),C=g===b.id,M=`${Q[u]}26`,R=ne(b.id);return T.jsxs("div",{className:`unit-card ${N.needsReview?"needs-review":""} ${N.studyCount===0?"unstudied":""} ${C?"expanded":""}`,style:{backgroundColor:M},children:[T.jsxs("div",{className:"unit-header clickable",onClick:()=>ce(b.id),children:[T.jsxs("div",{className:"unit-title",children:[T.jsx("span",{className:"unit-name",children:b.name}),T.jsx("span",{className:"unit-category",children:b.category})]}),T.jsxs("div",{className:"unit-header-right",children:[N.studyCount>0&&T.jsxs("div",{className:"unit-badge",children:[N.studyCount,""]}),T.jsx("span",{className:"expand-icon",children:C?"":""})]})]}),!C&&T.jsx("div",{className:"unit-compact",children:N.studyCount>0?T.jsxs("div",{className:"compact-info",children:[T.jsx("span",{className:"compact-mastery",children:Ee(Math.round(N.averageMastery))}),T.jsx("span",{className:"compact-last-study",children:x(N.daysSinceLastStudy)}),N.needsReview&&T.jsx("span",{className:"compact-alert",children:""})]}):T.jsx("div",{className:"unit-unstudied",children:" "})}),C&&T.jsxs("div",{className:"unit-details",children:[N.studyCount>0&&T.jsxs("div",{className:"unit-stats",children:[T.jsxs("div",{className:"stat-row",children:[T.jsx("span",{className:"stat-label",children:":"}),T.jsx("span",{className:"stat-value mastery",children:Ee(Math.round(N.averageMastery))})]}),T.jsxs("div",{className:"stat-row",children:[T.jsx("span",{className:"stat-label",children:":"}),T.jsx("span",{className:"stat-value",children:x(N.daysSinceLastStudy)})]}),T.jsxs("div",{className:"stat-row",children:[T.jsx("span",{className:"stat-label",children:":"}),T.jsxs("span",{className:"stat-value",children:[N.totalDuration,""]})]}),N.needsReview&&T.jsx("div",{className:"review-alert",children:" "})]}),T.jsx("button",{className:"add-session-btn",onClick:K=>{K.stopPropagation(),E(!p)},children:p?" ":"+ "}),p&&T.jsxs("div",{className:"session-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:":"}),T.jsx("input",{type:"number",value:A.duration,onChange:K=>I({...A,duration:parseInt(K.target.value)}),min:"0",step:"5"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:":"}),T.jsx("div",{className:"mastery-buttons",children:[1,2,3,4,5].map(K=>T.jsx("button",{className:`mastery-btn ${A.masteryLevel===K?"active":""}`,onClick:()=>I({...A,masteryLevel:K}),children:Ee(K)},K))})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:":"}),T.jsx("textarea",{value:A.notes,onChange:K=>I({...A,notes:K.target.value}),placeholder:"...",rows:"3"})]}),T.jsx("button",{className:"save-session-btn",onClick:()=>H(b.id),children:" "})]}),V.length>0&&T.jsxs("div",{className:"session-history",children:[T.jsx("div",{className:"history-header",children:":"}),V.map(K=>T.jsxs("div",{className:"session-item",children:[T.jsx("span",{className:"session-date",children:K.date}),T.jsx("span",{className:"session-mastery",children:Ee(K.masteryLevel)}),T.jsxs("span",{className:"session-duration",children:[K.duration,""]})]},K.id))]}),R.length>0&&T.jsxs("div",{className:"related-tasks",children:[T.jsxs("div",{className:"related-header",children:["  (",R.length,")"]}),R.map(K=>T.jsxs("div",{className:"related-task-item",children:[T.jsxs("div",{className:"related-task-info",children:[T.jsx("span",{className:`task-status ${K.completed?"completed":""}`,children:K.completed?"":""}),T.jsx("span",{className:"related-task-title",children:K.title})]}),e&&T.jsx("button",{className:"edit-task-btn",onClick:fe=>{fe.stopPropagation(),console.log("Edit button clicked for task:",K.title,K),e(K)},title:"",children:""})]},K.id))]})]})]},b.id)})})]})}function dN({data:s,subjects:e,type:n="line"}){const[a,l]=ve.useState(["",...e]),u={:"#6366f1",:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},d=H=>{a.includes(H)?a.length>1&&l(a.filter(ce=>ce!==H)):l([...a,H])},g=H=>s.map(ce=>H===""?ce.overall.percentage:ce.subjects[H]?.percentage||null),y=100,p=0,E=200,A={top:20,right:20,bottom:40,left:50},I=E-A.top-A.bottom,k=600,Q=H=>H==null?null:A.top+I*(1-(H-p)/(y-p)),ee=H=>A.left+k/(s.length-1)*H,X=H=>{if(!H||H.length===0)return"";let ce="",Ee=-1;return H.forEach((ne,x)=>{if(ne!==null){const b=ee(x),N=Q(ne);Ee===-1?ce+=`M ${b} ${N}`:ce+=` L ${b} ${N}`,Ee=x}}),ce},oe=()=>{const H=Math.ceil(s.length/6);return s.map((ce,Ee)=>Ee%H===0||Ee===s.length-1?{x:ee(Ee),label:he(ce.date)}:null).filter(Boolean)},he=H=>{if(!H)return"";const ce=new Date(H);return`${ce.getMonth()+1}/${ce.getDate()}`};return T.jsxs("div",{className:"progress-chart",children:[T.jsx("div",{className:"chart-legend",children:["",...e].map(H=>T.jsxs("button",{className:`legend-item ${a.includes(H)?"active":""}`,onClick:()=>d(H),style:{borderColor:u[H],background:a.includes(H)?`${u[H]}20`:"transparent"},children:[T.jsx("span",{className:"legend-color",style:{background:u[H]}}),T.jsx("span",{className:"legend-label",children:H})]},H))}),T.jsxs("div",{className:"chart-container",children:[T.jsxs("svg",{viewBox:`0 0 ${k+A.left+A.right} ${E}`,className:"chart-svg",children:[[0,25,50,75,100].map(H=>T.jsxs("g",{children:[T.jsx("line",{x1:A.left,y1:Q(H),x2:A.left+k,y2:Q(H),stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:H===0||H===100?"0":"4 4"}),T.jsxs("text",{x:A.left-10,y:Q(H),textAnchor:"end",alignmentBaseline:"middle",className:"axis-label",children:[H,"%"]})]},H)),oe().map((H,ce)=>T.jsx("text",{x:H.x,y:E-10,textAnchor:"middle",className:"axis-label",children:H.label},ce)),a.map(H=>{const ce=g(H),Ee=X(ce);return T.jsxs("g",{children:[T.jsx("path",{d:Ee,fill:"none",stroke:u[H],strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),ce.map((ne,x)=>ne===null?null:T.jsx("circle",{cx:ee(x),cy:Q(ne),r:"4",fill:u[H],stroke:"white",strokeWidth:"2"},x))]},H)})]}),s.length===0&&T.jsxs("div",{className:"no-data-message",children:[T.jsx("p",{children:" "}),T.jsx("p",{className:"hint",children:""})]})]})]})}const lS="progressHistory",mN=90,gN=()=>new Date().toISOString().split("T")[0],pN=s=>{if(!s||s.length===0)return;const e=gN(),n=Ag(),a=["","","",""],l={};let u=0;a.forEach(A=>{const I=s.filter(X=>X.subject===A),k=I.filter(X=>X.completed).length,Q=I.length,ee=Q>0?Math.round(k/Q*100):0;l[A]={completed:k,total:Q,percentage:ee}}),u=vN().reduce((A,I)=>A+(I.duration||0),0);const g=s.filter(A=>A.completed).length,y=s.length,p=y>0?Math.round(g/y*100):0,E={date:e,timestamp:new Date().toISOString(),subjects:l,overall:{completed:g,total:y,percentage:p},studyTime:u,taskCount:y};return n[e]=E,yN(n),localStorage.setItem(lS,JSON.stringify(n)),E},Ag=()=>{const s=localStorage.getItem(lS);if(!s)return{};try{return JSON.parse(s)}catch(e){return console.error("Failed to parse progress history:",e),{}}},yN=s=>{const e=new Date,n=new Date(e);n.setDate(n.getDate()-mN);const a=n.toISOString().split("T")[0];Object.keys(s).forEach(l=>{l<a&&delete s[l]})},_m=(s=30)=>{const e=Ag(),n=new Date,a=[];for(let l=s-1;l>=0;l--){const u=new Date(n);u.setDate(u.getDate()-l);const d=u.toISOString().split("T")[0];e[d]?a.push(e[d]):a.push({date:d,subjects:{},overall:{percentage:null},studyTime:0})}return a},_N=(s=12)=>{const e=Ag(),n=[],a=new Date;for(let l=s-1;l>=0;l--){const u=new Date(a);u.setDate(u.getDate()-l*7);const d=new Date(u);d.setDate(d.getDate()-6);const g=d.toISOString().split("T")[0],y=u.toISOString().split("T")[0],p={weekStart:g,weekEnd:y,totalStudyTime:0,subjects:{:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0}},overall:{percentage:null}};let E=0;const A={:0,:0,:0,:0};let I=0;for(let k=0;k<7;k++){const Q=new Date(d);Q.setDate(Q.getDate()+k);const ee=Q.toISOString().split("T")[0];e[ee]&&(E++,p.totalStudyTime+=e[ee].studyTime||0,Object.keys(e[ee].subjects).forEach(X=>{A[X]+=e[ee].subjects[X].percentage||0}),I+=e[ee].overall.percentage||0)}E>0&&(Object.keys(A).forEach(k=>{p.subjects[k].percentage=Math.round(A[k]/E)}),p.overall.percentage=Math.round(I/E)),n.push(p)}return n},vN=s=>[],TN=(s=30)=>{const n=_m(s).filter(k=>k.overall.percentage!==null);if(n.length===0)return{averageProgress:0,totalStudyTime:0,averageDailyStudyTime:0,improvement:0,bestSubject:null,weakestSubject:null};const a=Math.round(n.reduce((k,Q)=>k+Q.overall.percentage,0)/n.length),l=n.reduce((k,Q)=>k+Q.studyTime,0),u=Math.round(l/n.length);let d=0;if(n.length>=7){const k=n.slice(0,7),Q=n.slice(-7),ee=k.reduce((oe,he)=>oe+he.overall.percentage,0)/k.length,X=Q.reduce((oe,he)=>oe+he.overall.percentage,0)/Q.length;d=Math.round(X-ee)}const g=["","","",""],y={};g.forEach(k=>{const Q=n.filter(ee=>ee.subjects[k]&&ee.subjects[k].percentage!==null).map(ee=>ee.subjects[k].percentage);Q.length>0&&(y[k]=Math.round(Q.reduce((ee,X)=>ee+X,0)/Q.length))});let p=null,E=null,A=-1,I=101;return Object.entries(y).forEach(([k,Q])=>{Q>A&&(A=Q,p=k),Q<I&&(I=Q,E=k)}),{averageProgress:a,totalStudyTime:l,averageDailyStudyTime:u,improvement:d,bestSubject:p,weakestSubject:E,subjectAverages:y}};function EN({tasks:s}){const[e,n]=ve.useState("30days"),[a,l]=ve.useState([]),[u,d]=ve.useState(null),g=["","","",""],y=ve.useCallback(()=>{let E,A;e==="30days"?(E=_m(30),A=30):e==="90days"?(E=_m(90),A=90):e==="12weeks"&&(E=_N(12),A=84),l(E),d(TN(A))},[e]);ve.useEffect(()=>{s&&s.length>0&&pN(s),y()},[s,e,y]);const p={:"",:"",:"",:""};return T.jsxs("div",{className:"analytics",children:[T.jsxs("div",{className:"analytics-header",children:[T.jsx("h2",{children:" "}),T.jsxs("div",{className:"period-selector",children:[T.jsx("button",{className:e==="30days"?"active":"",onClick:()=>n("30days"),children:"30"}),T.jsx("button",{className:e==="90days"?"active":"",onClick:()=>n("90days"),children:"90"}),T.jsx("button",{className:e==="12weeks"?"active":"",onClick:()=>n("12weeks"),children:"12"})]})]}),u&&T.jsxs("div",{className:"statistics-summary",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[u.averageProgress,"%"]})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[Math.round(u.totalStudyTime/60),"h ",u.totalStudyTime%60,"m"]})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:"1"}),T.jsxs("div",{className:"stat-value",children:[u.averageDailyStudyTime,""]})]})]}),T.jsxs("div",{className:`stat-card ${u.improvement>=0?"positive":"negative"}`,children:[T.jsx("div",{className:"stat-icon",children:u.improvement>=0?"":""}),T.jsxs("div",{className:"stat-content",children:[T.jsx("div",{className:"stat-label",children:""}),T.jsxs("div",{className:"stat-value",children:[u.improvement>0?"+":"",u.improvement,"%"]})]})]})]}),T.jsxs("div",{className:"chart-section",children:[T.jsx("h3",{children:" "}),T.jsx(dN,{data:a,subjects:g})]}),u&&u.subjectAverages&&T.jsxs("div",{className:"subject-analysis",children:[T.jsx("h3",{children:" "}),T.jsx("div",{className:"subject-grid",children:g.map(E=>{const A=u.subjectAverages[E]||0,I=E===u.bestSubject,k=E===u.weakestSubject;return T.jsxs("div",{className:`subject-card ${I?"best":""} ${k?"weakest":""}`,children:[T.jsxs("div",{className:"subject-card-header",children:[T.jsx("span",{className:"subject-emoji",children:p[E]}),T.jsx("span",{className:"subject-name",children:E}),I&&T.jsx("span",{className:"badge best-badge",children:""}),k&&T.jsx("span",{className:"badge weak-badge",children:""})]}),T.jsxs("div",{className:"subject-average",children:[T.jsxs("div",{className:"average-value",children:[A,"%"]}),T.jsx("div",{className:"average-label",children:""})]})]},E)})})]}),u&&T.jsxs("div",{className:"advice-section",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{className:"advice-cards",children:[u.weakestSubject&&T.jsxs("div",{className:"advice-card",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsxs("strong",{children:[p[u.weakestSubject]," ",u.weakestSubject,""]}),T.jsxs("p",{children:[": ",u.subjectAverages[u.weakestSubject],"%"]}),T.jsx("p",{children:""})]})]}),u.averageDailyStudyTime<60&&T.jsxs("div",{className:"advice-card",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsx("strong",{children:""}),T.jsxs("p",{children:["1: ",u.averageDailyStudyTime,""]}),T.jsx("p",{children:": 60SAPIX"})]})]}),u.improvement>10&&T.jsxs("div",{className:"advice-card positive",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsx("strong",{children:""}),T.jsxs("p",{children:["",u.improvement,"%"]}),T.jsx("p",{children:""})]})]}),u.improvement<-10&&T.jsxs("div",{className:"advice-card warning",children:[T.jsx("div",{className:"advice-icon",children:""}),T.jsxs("div",{className:"advice-content",children:[T.jsx("strong",{children:""}),T.jsx("p",{children:""}),T.jsx("p",{children:""})]})]})]})]})]})}function SN({customUnits:s,onUpdateUnit:e,onDeleteUnit:n}){const[a,l]=ve.useState("4"),[u,d]=ve.useState(""),[g,y]=ve.useState(null),[p,E]=ve.useState({name:"",category:""}),A={:"",:"",:"",:""},I={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},k=sh[u]?.[a]||[],Q=s.filter(H=>H.subject===u&&H.grade===a),ee=H=>{y(H),E({name:H.name,category:H.category})},X=()=>{y(null),E({name:"",category:""})},oe=async()=>{if(!p.name.trim()){alert("");return}const H=await e(g.firestoreId,{name:p.name.trim(),category:p.category});H.success?(alert(" "),y(null),E({name:"",category:""})):alert(" : "+H.error)},he=async H=>{if(!window.confirm(`${H.name}

`))return;const ce=await n(H.firestoreId);ce.success?alert(" "):alert(" : "+ce.error)};return T.jsxs("div",{className:"unit-manager",children:[T.jsxs("div",{className:"manager-header",children:[T.jsx("h2",{children:" "}),T.jsx("p",{className:"manager-description",children:""})]}),T.jsxs("div",{className:"manager-filters",children:[T.jsxs("div",{className:"filter-group",children:[T.jsx("label",{children:":"}),T.jsx("div",{className:"grade-buttons",children:Eg.map(H=>T.jsx("button",{className:`filter-btn ${a===H?"active":""}`,onClick:()=>l(H),children:H},H))})]}),T.jsxs("div",{className:"filter-group",children:[T.jsx("label",{children:":"}),T.jsx("div",{className:"subject-buttons",children:aS.map(H=>T.jsxs("button",{className:`filter-btn subject ${u===H?"active":""}`,onClick:()=>d(H),style:{borderColor:u===H?I[H]:"#e2e8f0",background:u===H?`${I[H]}15`:"white"},children:[T.jsx("span",{className:"subject-emoji",children:A[H]}),T.jsx("span",{children:H})]},H))})]})]}),T.jsxs("div",{className:"units-section",children:[T.jsxs("h3",{className:"section-title",children:["  ",T.jsxs("span",{className:"unit-count",children:["(",k.length,")"]})]}),k.length===0?T.jsx("div",{className:"no-units",children:""}):T.jsx("div",{className:"units-list",children:k.map(H=>T.jsxs("div",{className:"unit-item default",children:[T.jsxs("div",{className:"unit-info",children:[T.jsx("span",{className:"unit-name",children:H.name}),T.jsx("span",{className:"unit-category",children:H.category})]}),T.jsx("div",{className:"unit-actions",children:T.jsx("span",{className:"default-badge",children:""})})]},H.id))})]}),T.jsxs("div",{className:"units-section",children:[T.jsxs("h3",{className:"section-title",children:["  ",T.jsxs("span",{className:"unit-count",children:["(",Q.length,")"]})]}),Q.length===0?T.jsxs("div",{className:"no-units",children:["",T.jsx("br",{}),T.jsx("small",{children:""})]}):T.jsx("div",{className:"units-list",children:Q.map(H=>T.jsx("div",{className:"unit-item custom",children:g&&g.id===H.id?T.jsxs("div",{className:"unit-edit-form",children:[T.jsxs("div",{className:"edit-fields",children:[T.jsx("input",{type:"text",value:p.name,onChange:ce=>E({...p,name:ce.target.value}),placeholder:"",className:"edit-input"}),T.jsxs("select",{value:p.category,onChange:ce=>E({...p,category:ce.target.value}),className:"edit-select",children:[T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"",children:""})]})]}),T.jsxs("div",{className:"edit-actions",children:[T.jsx("button",{className:"save-btn",onClick:oe,children:" "}),T.jsx("button",{className:"cancel-btn",onClick:X,children:" "})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"unit-info",children:[T.jsx("span",{className:"unit-name",children:H.name}),T.jsx("span",{className:"unit-category",children:H.category})]}),T.jsxs("div",{className:"unit-actions",children:[T.jsx("button",{className:"edit-btn",onClick:()=>ee(H),title:"",children:""}),T.jsx("button",{className:"delete-btn",onClick:()=>he(H),title:"",children:""})]})]})},H.id))})]})]})}const AN=()=>{const s=[];let e=Date.now();const n=(a,l)=>`2026-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`;return s.push({id:e++,title:"2 ",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,6),completed:!1},{id:e++,title:"2 100",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"basic",priority:"A",dueDate:n(1,7),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,8),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_02",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,20),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:e++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_05",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1}),s.push({id:e++,title:"",subject:"",grade:"3",unitId:"math3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"test",priority:"A",dueDate:n(3,11),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(3,18),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_12",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:e++,title:"3",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},x0=()=>{const s=[];let e=Date.now();const n=(a,l)=>`2026-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`;return s.push({id:e++,title:"3 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"B",dueDate:n(1,6),completed:!1},{id:e++,title:"3 200",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"B",dueDate:n(1,7),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"math4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(1,8),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:e++,title:"4 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:e++,title:" 4",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"soc4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"sci4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:e++,title:" 1",subject:"",grade:"4",unitId:"math4_14",unit:"",taskType:"basic",priority:"A",dueDate:n(1,20),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"lang4_03",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"lang4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"soc4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" 2/4",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(2,4),completed:!1},{id:e++,title:"4 No.1",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"A",dueDate:n(2,5),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,6),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"B",dueDate:n(2,7),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"math4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"sci4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"soc4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" 2/11",subject:"",grade:"4",unitId:"math4_15",unit:"",taskType:"basic",priority:"A",dueDate:n(2,11),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(2,12),completed:!1},{id:e++,title:" No.3 ",subject:"",grade:"4",unitId:"math4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:e++,title:" No.4 ",subject:"",grade:"4",unitId:"math4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,26),completed:!1}),s.push({id:e++,title:" No.5 ",subject:"",grade:"4",unitId:"math4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,11),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,13),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,18),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,20),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(3,25),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_09",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:e++,title:"3",subject:"",grade:"4",unitId:"math4_13",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},bN=(s="4")=>{switch(s){case"3":return AN();case"4":return x0();default:return x0()}},Ql=s=>ug(lo,"users",s,"tasks"),uS=s=>ia(lo,"users",s),vm=async(s,e)=>{try{const n=ia(Ql(s),e.id.toString());return await tS(n,e),{success:!0}}catch(n){return console.error("Error adding task:",n),{success:!1,error:n}}},O0=async(s,e,n)=>{try{const a=ia(Ql(s),e.toString());return await nS(a,n),{success:!0}}catch(a){return console.error("Error updating task:",a),{success:!1,error:a}}},wN=async(s,e)=>{try{const n=ia(Ql(s),e.toString());return await Tg(n),{success:!0}}catch(n){return console.error("Error deleting task:",n),{success:!1,error:n}}},M0=async(s,e)=>{try{const n=e.map(a=>Tg(ia(Ql(s),a.toString())));return await Promise.all(n),{success:!0}}catch(n){return console.error("Error bulk deleting tasks:",n),{success:!1,error:n}}},RN=(s,e)=>{const n=JE(Ql(s),ZE("createdAt","desc"));return ZC(n,a=>{const l=[];a.forEach(u=>{l.push({...u.data(),id:u.id})}),e(l)},a=>{console.error("Error fetching tasks:",a),e([])})},cS=async(s,e)=>{try{const n=uS(s);return await tS(n,{targetSchools:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error saving target schools:",n),{success:!1,error:n}}},IN=async s=>{try{const e=uS(s),n=await XC(e);return n.exists()?{success:!0,data:n.data().targetSchools||[]}:{success:!0,data:[]}}catch(e){return console.error("Error getting target schools:",e),{success:!1,error:e,data:[]}}},CN=async s=>{try{const e=localStorage.getItem("sapixTasks");if(e){const l=JSON.parse(e).map(u=>vm(s,u));await Promise.all(l)}const n=localStorage.getItem("targetSchools");if(n){const a=JSON.parse(n);await cS(s,a)}return{success:!0}}catch(e){return console.error("Error migrating data:",e),{success:!1,error:e}}};async function hS(s,e){try{const n=ug(lo,"users",s,"customUnits"),a={...e,createdAt:new Date().toISOString()};return{success:!0,data:{id:(await JC(n,a)).id,...a}}}catch(n){return console.error("Error adding custom unit:",n),{success:!1,error:n.message}}}async function fS(s){try{const e=ug(lo,"users",s,"customUnits"),n=JE(e,ZE("createdAt","desc")),a=await $C(n),l=[];return a.forEach(u=>{l.push({firestoreId:u.id,...u.data()})}),{success:!0,data:l}}catch(e){return console.error("Error getting custom units:",e),{success:!1,error:e.message,data:[]}}}async function dS(s,e,n){try{const a=ia(lo,"users",s,"customUnits",e);return await nS(a,{...n,updatedAt:new Date().toISOString()}),{success:!0}}catch(a){return console.error("Error updating custom unit:",a),{success:!1,error:a.message}}}async function mS(s,e){try{const n=ia(lo,"users",s,"customUnits",e);return await Tg(n),{success:!0}}catch(n){return console.error("Error deleting custom unit:",n),{success:!1,error:n.message}}}function NN(s,e,n){const a=Date.now(),l={:"math",:"lang",:"sci",:"soc"}[s]||"custom",u=e.replace("","");return`custom_${l}${u}_${a}`}const DN=Object.freeze(Object.defineProperty({__proto__:null,addCustomUnit:hS,deleteCustomUnit:mS,generateCustomUnitId:NN,getCustomUnits:fS,updateCustomUnit:dS},Symbol.toStringTag,{value:"Module"}));function xN(){const[s,e]=ve.useState(null),[n,a]=ve.useState([]),[l,u]=ve.useState("calendar"),[d,g]=ve.useState("calendar"),[y,p]=ve.useState(null),[E,A]=ve.useState([]),[I,k]=ve.useState([]),Q=ve.useRef(null),[ee,X]=ve.useState(!1);ve.useEffect(()=>{if(!s){const K=localStorage.getItem("sapixTasks");K&&a(JSON.parse(K));const fe=localStorage.getItem("targetSchools");fe&&A(JSON.parse(fe));return}ee||(localStorage.getItem("sapixTasks")||localStorage.getItem("targetSchools")?CN(s.uid).then(()=>{console.log(" LocalStorageFirestore"),X(!0)}):X(!0)),IN(s.uid).then(K=>{K.success&&K.data.length>0&&A(K.data)}),fS(s.uid).then(K=>{console.log(" App.jsx - Firestore:",K),K.success?(console.log(" App.jsx - :",K.data),k(K.data)):console.log(" App.jsx - :",K.error)});const R=RN(s.uid,K=>{a(K)});return()=>R()},[s,ee]),ve.useEffect(()=>{s?cS(s.uid,E):localStorage.setItem("targetSchools",JSON.stringify(E))},[E,s]);const oe=async R=>{const K={id:Date.now(),...R,completed:!1,createdAt:new Date().toISOString()};if(s)await vm(s.uid,K);else{const fe=[...n,K];a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe))}p(null)},he=async(R,K)=>{if(s)await O0(s.uid,R,K);else{const fe=n.map(z=>z.id===R?{...z,...K}:z);a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe))}p(null),u(d)},H=async R=>{const K=n.find(fe=>fe.id===R);if(K)if(s)await O0(s.uid,R,{completed:!K.completed});else{const fe=n.map(z=>z.id===R?{...z,completed:!z.completed}:z);a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe))}},ce=async R=>{if(s)await wN(s.uid,R);else{const K=n.filter(fe=>fe.id!==R);a(K),localStorage.setItem("sapixTasks",JSON.stringify(K))}},Ee=async R=>{if(s)await M0(s.uid,R);else{const K=n.filter(fe=>!R.includes(fe.id));a(K),localStorage.setItem("sapixTasks",JSON.stringify(K))}},ne=R=>{console.log(" Editing task:",R.title),g(l),u("edit"),p(R)},x=()=>{p(null),u(d)},b=async()=>{const R=window.prompt(`

3 = 13
4 = 13

`,"4");if(!R)return;let K="4";if(R==="3")K="3";else if(R==="4")K="4";else{alert(" 34");return}const fe=bN(K);if(s){const z=n.map(ge=>ge.id);z.length>0&&await M0(s.uid,z);const ie=fe.map(ge=>vm(s.uid,ge));await Promise.all(ie)}else a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe));alert(` ${K}${fe.length}`)},N=async R=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",R),console.log(" App.jsx - customUnits:",I);const K=await hS(s.uid,R);if(console.log(" App.jsx - Firestore:",K),K.success){const fe=[K.data,...I];return console.log(" App.jsx - customUnits:",fe),k(fe),{success:!0,data:K.data}}else return alert(" : "+K.error),{success:!1,error:K.error}},V=async(R,K)=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",R,K);const fe=await dS(s.uid,R,K);if(console.log(" App.jsx - Firestore:",fe),fe.success){const z=I.map(ie=>ie.firestoreId===R?{...ie,...K}:ie);return console.log(" App.jsx - customUnits:",z),k(z),{success:!0}}else return alert(" : "+fe.error),{success:!1,error:fe.error}},C=async R=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",R);const K=await mS(s.uid,R);if(console.log(" App.jsx - Firestore:",K),K.success){const fe=I.filter(z=>z.firestoreId!==R);return console.log(" App.jsx - customUnits:",fe),k(fe),{success:!0}}else return alert(" : "+K.error),{success:!1,error:K.error}},M=R=>{e(R)};return s?T.jsxs("div",{className:"app sapix-theme",children:[T.jsx("header",{className:"app-header",children:T.jsxs("div",{className:"header-content",children:[T.jsx("h1",{children:" SAPIX  "}),T.jsx(C0,{onAuthChange:M})]})}),T.jsxs("div",{className:"container",children:[l==="edit"?T.jsxs("div",{className:"edit-view",children:[T.jsxs("div",{className:"edit-header",children:[T.jsx("h2",{children:" "}),T.jsx("button",{onClick:x,className:"back-btn",children:" "})]}),T.jsx(D0,{onAddTask:oe,onUpdateTask:he,editingTask:y,onCancelEdit:x,customUnits:I,onAddCustomUnit:N})]}):T.jsxs(T.Fragment,{children:[T.jsx(tN,{tasks:n,onToggleTask:H,onDeleteTask:ce,onEditTask:ne}),n.length===0&&T.jsxs("div",{className:"sample-schedule-prompt",children:[T.jsx("p",{children:" "}),T.jsx("button",{onClick:b,className:"load-sample-btn",children:" SAPIX3 / 4"})]}),T.jsxs("div",{className:"view-switcher",children:[T.jsx("button",{className:l==="subject"?"active":"",onClick:()=>u("subject"),children:" "}),T.jsx("button",{className:l==="analytics"?"active":"",onClick:()=>u("analytics"),children:" "}),T.jsx("button",{className:l==="calendar"?"active":"",onClick:()=>u("calendar"),children:" "}),T.jsx("button",{className:l==="tasks"?"active":"",onClick:()=>u("tasks"),children:" "}),T.jsx("button",{className:l==="unitManager"?"active":"",onClick:()=>u("unitManager"),children:" "})]}),l==="subject"?T.jsx(fN,{tasks:n,onEditTask:ne,customUnits:I}):l==="analytics"?T.jsx(EN,{tasks:n}):l==="calendar"?T.jsx(oN,{tasks:n,onToggleTask:H,onDeleteTask:ce,onEditTask:ne}):l==="tasks"?T.jsx(rN,{tasks:n,onToggleTask:H,onDeleteTask:ce,onBulkDeleteTasks:Ee,onEditTask:ne}):l==="unitManager"?T.jsx(SN,{customUnits:I,onUpdateUnit:V,onDeleteUnit:C}):null]}),l!=="edit"&&l!=="unitManager"&&T.jsx("div",{ref:Q,children:T.jsx(D0,{onAddTask:oe,onUpdateTask:he,editingTask:y,onCancelEdit:x,customUnits:I,onAddCustomUnit:N})})]})]}):T.jsx(C0,{onAuthChange:M})}eb.createRoot(document.getElementById("root")).render(T.jsx(ve.StrictMode,{children:T.jsx(xN,{})}));
