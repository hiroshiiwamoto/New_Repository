(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var xf={exports:{}},ml={};var Y_;function Kb(){if(Y_)return ml;Y_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:f,ref:l!==void 0?l:null,props:c}}return ml.Fragment=e,ml.jsx=n,ml.jsxs=n,ml}var K_;function Xb(){return K_||(K_=1,xf.exports=Kb()),xf.exports}var y=Xb(),Of={exports:{}},Re={};var X_;function $b(){if(X_)return Re;X_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function j(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,Y={};function oe(k,W,re){this.props=k,this.context=W,this.refs=Y,this.updater=re||F}oe.prototype.isReactComponent={},oe.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},oe.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function he(){}he.prototype=oe.prototype;function H(k,W,re){this.props=k,this.context=W,this.refs=Y,this.updater=re||F}var ce=H.prototype=new he;ce.constructor=H,Z(ce,oe.prototype),ce.isPureReactComponent=!0;var Te=Array.isArray;function ne(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(k,W,re){var ue=re.ref;return{$$typeof:s,type:k,key:W,ref:ue!==void 0?ue:null,props:re}}function x(k,W){return I(k.type,W,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function M(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return W[re]})}var A=/\/+/g;function K(k,W){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):W.toString(36)}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ne,ne):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function P(k,W,re,ue,be){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ve=!1;if(k===null)Ve=!0;else switch(Ce){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(k.$$typeof){case s:case e:Ve=!0;break;case E:return Ve=k._init,P(Ve(k._payload),W,re,ue,be)}}if(Ve)return be=be(k),Ve=ue===""?"."+K(k,0):ue,Te(be)?(re="",Ve!=null&&(re=Ve.replace(A,"$&/")+"/"),P(be,W,re,"",function(Mi){return Mi})):be!=null&&(N(be)&&(be=x(be,re+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(A,"$&/")+"/")+Ve)),W.push(be)),1;Ve=0;var ut=ue===""?".":ue+":";if(Te(k))for(var Ke=0;Ke<k.length;Ke++)ue=k[Ke],Ce=ut+K(ue,Ke),Ve+=P(ue,W,re,Ce,be);else if(Ke=j(k),typeof Ke=="function")for(k=Ke.call(k),Ke=0;!(ue=k.next()).done;)ue=ue.value,Ce=ut+K(ue,Ke++),Ve+=P(ue,W,re,Ce,be);else if(Ce==="object"){if(typeof k.then=="function")return P(fe(k),W,re,ue,be);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(k,W,re){if(k==null)return k;var ue=[],be=0;return P(k,ue,"","",function(Ce){return W.call(re,Ce,be++)}),ue}function pe(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var Oe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:ie,forEach:function(k,W,re){ie(k,function(){W.apply(this,arguments)},re)},count:function(k){var W=0;return ie(k,function(){W++}),W},toArray:function(k){return ie(k,function(W){return W})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Re.Activity=w,Re.Children=Ge,Re.Component=oe,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=H,Re.StrictMode=a,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(k,W,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=Z({},k.props),be=k.key;if(W!=null)for(Ce in W.key!==void 0&&(be=""+W.key),W)!S.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ue[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=re;else if(1<Ce){for(var Ve=Array(Ce),ut=0;ut<Ce;ut++)Ve[ut]=arguments[ut+2];ue.children=Ve}return I(k.type,be,ue)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Re.createElement=function(k,W,re){var ue,be={},Ce=null;if(W!=null)for(ue in W.key!==void 0&&(Ce=""+W.key),W)S.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=W[ue]);var Ve=arguments.length-2;if(Ve===1)be.children=re;else if(1<Ve){for(var ut=Array(Ve),Ke=0;Ke<Ve;Ke++)ut[Ke]=arguments[Ke+2];be.children=ut}if(k&&k.defaultProps)for(ue in Ve=k.defaultProps,Ve)be[ue]===void 0&&(be[ue]=Ve[ue]);return I(k,Ce,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:g,render:k}},Re.isValidElement=N,Re.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pe}},Re.memo=function(k,W){return{$$typeof:p,type:k,compare:W===void 0?null:W}},Re.startTransition=function(k){var W=D.T,re={};D.T=re;try{var ue=k(),be=D.S;be!==null&&be(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ne,Oe)}catch(Ce){Oe(Ce)}finally{W!==null&&re.types!==null&&(W.types=re.types),D.T=W}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(k){return D.H.use(k)},Re.useActionState=function(k,W,re){return D.H.useActionState(k,W,re)},Re.useCallback=function(k,W){return D.H.useCallback(k,W)},Re.useContext=function(k){return D.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,W){return D.H.useDeferredValue(k,W)},Re.useEffect=function(k,W){return D.H.useEffect(k,W)},Re.useEffectEvent=function(k){return D.H.useEffectEvent(k)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(k,W,re){return D.H.useImperativeHandle(k,W,re)},Re.useInsertionEffect=function(k,W){return D.H.useInsertionEffect(k,W)},Re.useLayoutEffect=function(k,W){return D.H.useLayoutEffect(k,W)},Re.useMemo=function(k,W){return D.H.useMemo(k,W)},Re.useOptimistic=function(k,W){return D.H.useOptimistic(k,W)},Re.useReducer=function(k,W,re){return D.H.useReducer(k,W,re)},Re.useRef=function(k){return D.H.useRef(k)},Re.useState=function(k){return D.H.useState(k)},Re.useSyncExternalStore=function(k,W,re){return D.H.useSyncExternalStore(k,W,re)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.0",Re}var $_;function Am(){return $_||($_=1,Of.exports=$b()),Of.exports}var ge=Am(),jf={exports:{}},gl={},Mf={exports:{}},Vf={};var J_;function Jb(){return J_||(J_=1,(function(s){function e(P,ie){var pe=P.length;P.push(ie);e:for(;0<pe;){var Oe=pe-1>>>1,Ge=P[Oe];if(0<l(Ge,ie))P[Oe]=ie,P[pe]=Ge,pe=Oe;else break e}}function n(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var ie=P[0],pe=P.pop();if(pe!==ie){P[0]=pe;e:for(var Oe=0,Ge=P.length,k=Ge>>>1;Oe<k;){var W=2*(Oe+1)-1,re=P[W],ue=W+1,be=P[ue];if(0>l(re,pe))ue<Ge&&0>l(be,re)?(P[Oe]=be,P[ue]=pe,Oe=ue):(P[Oe]=re,P[W]=pe,Oe=W);else if(ue<Ge&&0>l(be,pe))P[Oe]=be,P[ue]=pe,Oe=ue;else break e}}return ie}function l(P,ie){var pe=P.sortIndex-ie.sortIndex;return pe!==0?pe:P.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var _=[],p=[],E=1,w=null,C=3,j=!1,F=!1,Z=!1,Y=!1,oe=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ce(P){for(var ie=n(p);ie!==null;){if(ie.callback===null)a(p);else if(ie.startTime<=P)a(p),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=n(p)}}function Te(P){if(Z=!1,ce(P),!F)if(n(_)!==null)F=!0,ne||(ne=!0,M());else{var ie=n(p);ie!==null&&fe(Te,ie.startTime-P)}}var ne=!1,D=-1,S=5,I=-1;function x(){return Y?!0:!(s.unstable_now()-I<S)}function N(){if(Y=!1,ne){var P=s.unstable_now();I=P;var ie=!0;try{e:{F=!1,Z&&(Z=!1,he(D),D=-1),j=!0;var pe=C;try{t:{for(ce(P),w=n(_);w!==null&&!(w.expirationTime>P&&x());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,C=w.priorityLevel;var Ge=Oe(w.expirationTime<=P);if(P=s.unstable_now(),typeof Ge=="function"){w.callback=Ge,ce(P),ie=!0;break t}w===n(_)&&a(_),ce(P)}else a(_);w=n(_)}if(w!==null)ie=!0;else{var k=n(p);k!==null&&fe(Te,k.startTime-P),ie=!1}}break e}finally{w=null,C=pe,j=!1}ie=void 0}}finally{ie?M():ne=!1}}}var M;if(typeof H=="function")M=function(){H(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,K=A.port2;A.port1.onmessage=N,M=function(){K.postMessage(null)}}else M=function(){oe(N,0)};function fe(P,ie){D=oe(function(){P(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(P){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var pe=C;C=ie;try{return P()}finally{C=pe}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(P,ie){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var pe=C;C=P;try{return ie()}finally{C=pe}},s.unstable_scheduleCallback=function(P,ie,pe){var Oe=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Oe+pe:Oe):pe=Oe,P){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,P={id:E++,callback:ie,priorityLevel:P,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Oe?(P.sortIndex=pe,e(p,P),n(_)===null&&P===n(p)&&(Z?(he(D),D=-1):Z=!0,fe(Te,pe-Oe))):(P.sortIndex=Ge,e(_,P),F||j||(F=!0,ne||(ne=!0,M()))),P},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(P){var ie=C;return function(){var pe=C;C=ie;try{return P.apply(this,arguments)}finally{C=pe}}}})(Vf)),Vf}var Z_;function Zb(){return Z_||(Z_=1,Mf.exports=Jb()),Mf.exports}var kf={exports:{}},Jt={};var W_;function Wb(){if(W_)return Jt;W_=1;var s=Am();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:p,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(_,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,E)},Jt.flushSync=function(_){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=p,a.p=E,a.d.f()}},Jt.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},Jt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Jt.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var E=p.as,w=g(E,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:j}):E==="script"&&a.d.X(_,{crossOrigin:w,integrity:C,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},Jt.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=g(E,p.crossOrigin);a.d.L(_,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(_,p){if(typeof _=="string")if(p){var E=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},Jt.requestFormReset=function(_){a.d.r(_)},Jt.unstable_batchedUpdates=function(_,p){return _(p)},Jt.useFormState=function(_,p,E){return f.H.useFormState(_,p,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var ev;function eA(){if(ev)return kf.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kf.exports=Wb(),kf.exports}var tv;function tA(){if(tv)return gl;tv=1;var s=Zb(),e=Am(),n=eA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),t;if(d===o)return _(h),i;d=d.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=d;else{for(var v=!1,b=h.child;b;){if(b===r){v=!0,r=h,o=d;break}if(b===o){v=!0,o=h,r=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===r){v=!0,r=d,o=h;break}if(b===o){v=!0,o=d,r=h;break}b=b.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case oe:return"Profiler";case Y:return"StrictMode";case Te:return"Suspense";case ne:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case H:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:K(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return K(t(i))}catch{}}return null}var fe=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Oe=[],Ge=-1;function k(t){return{current:t}}function W(t){0>Ge||(t.current=Oe[Ge],Oe[Ge]=null,Ge--)}function re(t,i){Ge++,Oe[Ge]=t.current,t.current=i}var ue=k(null),be=k(null),Ce=k(null),Ve=k(null);function ut(t,i){switch(re(Ce,i),re(be,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?p_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=p_(i),t=y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),re(ue,t)}function Ke(){W(ue),W(be),W(Ce)}function Mi(t){t.memoizedState!==null&&re(Ve,t);var i=ue.current,r=y_(i,t.type);i!==r&&(re(be,t),re(ue,r))}function se(t){be.current===t&&(W(ue),W(be)),Ve.current===t&&(W(Ve),ul._currentValue=pe)}var In,gt;function Et(t){if(In===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);In=i&&i[1]||"",gt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+In+t+gt}var rn=!1;function ua(t,i){if(!t||rn)return"";rn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var q=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){q=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var O=v.split(`
`),B=b.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===B.length)for(o=O.length-1,h=B.length-1;1<=o&&0<=h&&O[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==B[h]){var X=`
`+O[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=h);break}}}finally{rn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Et(r):""}function uo(t,i){switch(t.tag){case 26:case 27:case 5:return Et(t.type);case 16:return Et("Lazy");case 13:return t.child!==i&&i!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return Et("Activity");default:return""}}function ho(t){try{var i="",r=null;do i+=uo(t,r),r=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Oh=s.unstable_shouldYield,Kl=s.unstable_requestPaint,nn=s.unstable_now,ha=s.unstable_getCurrentPriorityLevel,fo=s.unstable_ImmediatePriority,mo=s.unstable_UserBlockingPriority,hs=s.unstable_NormalPriority,jh=s.unstable_LowPriority,Xl=s.unstable_IdlePriority,$l=s.log,Jl=s.unstable_setDisableYieldValue,Hn=null,qt=null;function Cn(t){if(typeof $l=="function"&&Jl(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:Wl,Zl=Math.log,Wa=Math.LN2;function Wl(t){return t>>>=0,t===0?32:31-(Zl(t)/Wa|0)|0}var ai=256,da=262144,bt=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?h=ri(o):(v&=b,v!==0?h=ri(v):r||(r=b&~t,r!==0&&(h=ri(r))))):(b=o&~d,b!==0?h=ri(b):v!==0?h=ri(v):r||(r=o&~t,r!==0&&(h=ri(r)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,r=i&-i,d>=r||d===32&&(r&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Mh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function li(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function fa(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,i,r,o,h,d){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(r=v&~r;0<r;){var X=31-pt(r),ee=1<<X;b[X]=0,O[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}r&=~ee}o!==0&&ma(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ma(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-pt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function go(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-pt(r),h=1<<o;h&i|t[o]&i&&(t[o]|=i),r&=~h}}function po(t,i){var r=i&-i;return r=(r&42)!==0?1:ga(r),(r&(t.suspendedLanes|i))!==0?0:r}function ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function Gn(t,i){var r=ie.p;try{return ie.p=t,i()}finally{ie.p=r}}var Qn=Math.random().toString(36).slice(2),At="__reactFiber$"+Qn,Ut="__reactProps$"+Qn,ci="__reactContainer$"+Qn,er="__reactEvents$"+Qn,kh="__reactListeners$"+Qn,nc="__reactHandles$"+Qn,ic="__reactResources$"+Qn,ui="__reactMarker$"+Qn;function tr(t){delete t[At],delete t[Ut],delete t[er],delete t[kh],delete t[nc]}function hi(t){var i=t[At];if(i)return i;for(var r=t.parentNode;r;){if(i=r[ci]||r[At]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=A_(t);t!==null;){if(r=t[At])return r;t=A_(t)}return i}t=r,r=t.parentNode}return null}function Nn(t){if(t=t[At]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function di(t){var i=t[ic];return i||(i=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[ui]=!0}var yo=new Set,_o={};function fi(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(_o[t]=i,t=0;t<i.length;t++)yo.add(i[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Eo={};function sc(t){return St.call(Eo,t)?!0:St.call(To,t)?!1:vo.test(t)?Eo[t]=!0:(To[t]=!0,!1)}function nr(t,i,r){if(sc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function _n(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Rt(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ds(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function So(t,i,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=ds(t)?"checked":"value";t._valueTracker=So(t,i,""+t[i])}}function pa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=ds(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ya=/[\n"\\]/g;function on(t){return t.replace(ya,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ir(t,i,r,o,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?bo(t,v,Lt(i)):r!=null?bo(t,v,Lt(r)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Lt(b):t.removeAttribute("name")}function ac(t,i,r,o,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}r=r!=null?""+Lt(r):"",i=i!=null?""+Lt(i):r,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function bo(t,i,r){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fs(t,i,r,o){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function rc(t,i,r){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Lt(r):""}function ms(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=Lt(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),$e(t)}function ln(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||oc.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function wo(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&r[h]!==o&&Ao(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Ao(t,d,i[d])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(t){return gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Ro=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,pi=null;function _a(t){var i=Nn(t);if(i&&(t=i.stateNode)){var r=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ir(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(a(90));ir(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&pa(o)}break e;case"textarea":rc(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&fs(t,!!r.multiple,i,!1)}}}var rr=!1;function ys(t,i,r){if(rr)return t(i,r);rr=!0;try{var o=t(i);return o}finally{if(rr=!1,(ps!==null||pi!==null)&&(tu(),ps&&(i=ps,t=pi,pi=ps=null,_a(i),t)))for(i=0;i<t.length;i++)_a(t[i])}}function Kn(t,i){var r=t.stateNode;if(r===null)return null;var o=r[Ut]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(xn)try{var We={};Object.defineProperty(We,"passive",{get:function(){va=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{va=!1}var yi=null,Io=null,Ta=null;function Co(){if(Ta)return Ta;var t,i=Io,r=i.length,o,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<r&&i[t]===h[t];t++);var v=r-t;for(o=1;o<=v&&i[r-o]===h[d-o];o++);return Ta=h.slice(t,1<o?1-o:void 0)}function Ea(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Xn(){return!1}function Ht(t){function i(r,o,h,d,v){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:Xn,this.isPropagationStopped=Xn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ht(Ui),_s=w({},Ui,{view:0,detail:0}),No=Ht(_s),vs,or,vi,lr=w({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(vs=t.screenX-vi.screenX,or=t.screenY-vi.screenY):or=vs=0,vi=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:or}}),Do=Ht(lr),Sa=w({},lr,{dataTransfer:0}),cc=Ht(Sa),uc=w({},_s,{relatedTarget:0}),ba=Ht(uc),xo=w({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=Ht(xo),cr=w({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dc=Ht(cr),fc=w({},Ui,{data:0}),Ti=Ht(fc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pc[t])?!!i[t]:!1}function Ts(){return yc}var sn=w({},_s,{key:function(t){if(t.key){var i=mc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?Ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_c=Ht(sn),vc=w({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Ht(vc),u=w({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Ht(u),T=w({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Ht(T),L=w({},lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(L),ae=w({},Ui,{newState:0,oldState:0}),Ne=Ht(ae),yt=[9,13,27,32],Qe=xn&&"CompositionEvent"in window,lt=null;xn&&"documentMode"in document&&(lt=document.documentMode);var On=xn&&"TextEvent"in window&&!lt,Ei=xn&&(!Qe||lt&&8<lt&&11>=lt),$n=" ",Jn=!1;function Aa(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ur(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hr=!1;function _S(t,i){switch(t){case"compositionend":return ur(i);case"keypress":return i.which!==32?null:(Jn=!0,$n);case"textInput":return t=i.data,t===$n&&Jn?null:t;default:return null}}function vS(t,i){if(hr)return t==="compositionend"||!Qe&&Aa(t,i)?(t=Co(),Ta=Io=yi=null,hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!TS[t.type]:i==="textarea"}function Cg(t,i,r,o){ps?pi?pi.push(o):pi=[o]:ps=o,i=lu(i,"onChange"),0<i.length&&(r=new _i("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var Oo=null,jo=null;function ES(t){u_(t,0)}function Tc(t){var i=yn(t);if(pa(i))return t}function Ng(t,i){if(t==="change")return i}var Dg=!1;if(xn){var Uh;if(xn){var Lh="oninput"in document;if(!Lh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Lh=typeof xg.oninput=="function"}Uh=Lh}else Uh=!1;Dg=Uh&&(!document.documentMode||9<document.documentMode)}function Og(){Oo&&(Oo.detachEvent("onpropertychange",jg),jo=Oo=null)}function jg(t){if(t.propertyName==="value"&&Tc(jo)){var i=[];Cg(i,jo,t,Dn(t)),ys(ES,i)}}function SS(t,i,r){t==="focusin"?(Og(),Oo=i,jo=r,Oo.attachEvent("onpropertychange",jg)):t==="focusout"&&Og()}function bS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(jo)}function AS(t,i){if(t==="click")return Tc(i)}function wS(t,i){if(t==="input"||t==="change")return Tc(i)}function RS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:RS;function Mo(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!St.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var r=Mg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mg(r)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=gi(t.document)}return i}function Ph(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var IS=xn&&"documentMode"in document&&11>=document.documentMode,dr=null,zh=null,Vo=null,Bh=!1;function Lg(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bh||dr==null||dr!==gi(o)||(o=dr,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=lu(zh,"onSelect"),0<o.length&&(i=new _i("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=dr)))}function wa(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var fr={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},qh={},Pg={};xn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Ra(t){if(qh[t])return qh[t];if(!fr[t])return t;var i=fr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Pg)return qh[t]=i[r];return t}var zg=Ra("animationend"),Bg=Ra("animationiteration"),qg=Ra("animationstart"),CS=Ra("transitionrun"),NS=Ra("transitionstart"),DS=Ra("transitioncancel"),Hg=Ra("transitionend"),Fg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Zn(t,i){Fg.set(t,i),fi(i,[t])}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],mr=0,Fh=0;function Sc(){for(var t=mr,i=Fh=mr=0;i<t;){var r=jn[i];jn[i++]=null;var o=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Gg(r,h,d)}}function bc(t,i,r,o){jn[mr++]=t,jn[mr++]=i,jn[mr++]=r,jn[mr++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,i,r,o){return bc(t,i,r,o),Ac(t)}function Ia(t,i){return bc(t,null,null,i),Ac(t)}function Gg(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(r),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=r|536870912),d):null}function Ac(t){if(50<il)throw il=0,ef=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var gr={};function xS(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,r,o){return new xS(t,i,r,o)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,i){var r=t.alternate;return r===null?(r=Tn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Qg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function wc(t,i,r,o,h,d){var v=0;if(o=t,typeof t=="function")Qh(t)&&(v=1);else if(typeof t=="string")v=kb(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Tn(31,r,i,h),t.elementType=I,t.lanes=d,t;case Z:return Ca(r.children,h,d,i);case Y:v=8,h|=24;break;case oe:return t=Tn(12,r,i,h|2),t.elementType=oe,t.lanes=d,t;case Te:return t=Tn(13,r,i,h),t.elementType=Te,t.lanes=d,t;case ne:return t=Tn(19,r,i,h),t.elementType=ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:v=10;break e;case he:v=9;break e;case ce:v=11;break e;case D:v=14;break e;case S:v=16,o=null;break e}v=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=Tn(v,r,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Ca(t,i,r,o){return t=Tn(7,t,o,i),t.lanes=r,t}function Yh(t,i,r){return t=Tn(6,t,null,i),t.lanes=r,t}function Yg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Kh(t,i,r){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Kg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var r=Kg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:ho(i)},Kg.set(t,i),i)}return{value:t,source:i,stack:ho(i)}}var pr=[],yr=0,Rc=null,ko=0,Vn=[],kn=0,Es=null,Si=1,bi="";function zi(t,i){pr[yr++]=ko,pr[yr++]=Rc,Rc=t,ko=i}function Xg(t,i,r){Vn[kn++]=Si,Vn[kn++]=bi,Vn[kn++]=Es,Es=t;var o=Si;t=bi;var h=32-pt(o)-1;o&=~(1<<h),r+=1;var d=32-pt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Si=1<<32-pt(i)+h|r<<h|o,bi=d+t}else Si=1<<d|r<<h|o,bi=t}function Xh(t){t.return!==null&&(zi(t,1),Xg(t,1,0))}function $h(t){for(;t===Rc;)Rc=pr[--yr],pr[yr]=null,ko=pr[--yr],pr[yr]=null;for(;t===Es;)Es=Vn[--kn],Vn[kn]=null,bi=Vn[--kn],Vn[kn]=null,Si=Vn[--kn],Vn[kn]=null}function $g(t,i){Vn[kn++]=Si,Vn[kn++]=bi,Vn[kn++]=Es,Si=i.id,bi=i.overflow,Es=t}var Ft=null,at=null,Be=!1,Ss=null,Un=!1,Jh=Error(a(519));function bs(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Mn(i,t)),Jh}function Jg(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[At]=t,i[Ut]=o,r){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(r=0;r<al.length;r++)Me(al[r],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ac(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ms(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||m_(i.textContent,r)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||bs(t,!0)}function Zg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function _r(t){if(t!==Ft)return!1;if(!Be)return Zg(t),Be=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||pf(t.type,t.memoizedProps)),r=!r),r&&at&&bs(t),Zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=b_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=b_(t)}else i===27?(i=at,Us(t.type)?(t=Ef,Ef=null,at=t):at=i):at=Ft?Pn(t.stateNode.nextSibling):null;return!0}function Na(){at=Ft=null,Be=!1}function Zh(){var t=Ss;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ss=null),t}function Uo(t){Ss===null?Ss=[t]:Ss.push(t)}var Wh=k(null),Da=null,Bi=null;function As(t,i,r){re(Wh,i._currentValue),i._currentValue=r}function qi(t){t._currentValue=Wh.current,W(Wh)}function ed(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function td(t,i,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=r,b=d.alternate,b!==null&&(b.lanes|=r),ed(d.return,r,t),o||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=r,d=v.alternate,d!==null&&(d.lanes|=r),ed(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vr(t,i,r,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var b=h.type;vn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&td(i,t,r,o),i.flags|=262144}function Ic(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xa(t){Da=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Wg(Da,t)}function Cc(t,i){return Da===null&&xa(t),Wg(t,i)}function Wg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Bi===null){if(t===null)throw Error(a(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return r}var OS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},jS=s.unstable_scheduleCallback,MS=s.unstable_NormalPriority,It={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new OS,data:new Map,refCount:0}}function Lo(t){t.refCount--,t.refCount===0&&jS(MS,function(){t.controller.abort()})}var Po=null,id=0,Tr=0,Er=null;function VS(t,i){if(Po===null){var r=Po=[];id=0,Tr=of(),Er={status:"pending",value:void 0,then:function(o){r.push(o)}}}return id++,i.then(ep,ep),i}function ep(){if(--id===0&&Po!==null){Er!==null&&(Er.status="fulfilled");var t=Po;Po=null,Tr=0,Er=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function kS(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var tp=P.S;P.S=function(t,i){Ly=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VS(t,i),tp!==null&&tp(t,i)};var Oa=k(null);function sd(){var t=Oa.current;return t!==null?t:it.pooledCache}function Nc(t,i){i===null?re(Oa,Oa.current):re(Oa,i.pool)}function np(){var t=sd();return t===null?null:{parent:It._currentValue,pool:t}}var Sr=Error(a(460)),ad=Error(a(474)),Dc=Error(a(542)),xc={then:function(){}};function ip(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Yn,Yn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rp(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rp(t),t}throw Ma=i,Sr}}function ja(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ma=r,Sr):r}}var Ma=null;function ap(){if(Ma===null)throw Error(a(459));var t=Ma;return Ma=null,t}function rp(t){if(t===Sr||t===Dc)throw Error(a(483))}var br=null,zo=0;function Oc(t){var i=zo;return zo+=1,br===null&&(br=[]),sp(br,t,i)}function Bo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function jc(t,i){throw i.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function op(t){function i(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Pi(U,V),U.index=0,U.sibling=null,U}function d(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,z,$){return V===null||V.tag!==6?(V=Yh(z,U.mode,$),V.return=U,V):(V=h(V,z),V.return=U,V)}function O(U,V,z,$){var _e=z.type;return _e===Z?X(U,V,z.props.children,$,z.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&ja(_e)===V.type)?(V=h(V,z.props),Bo(V,z),V.return=U,V):(V=wc(z.type,z.key,z.props,null,U.mode,$),Bo(V,z),V.return=U,V)}function B(U,V,z,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Kh(z,U.mode,$),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function X(U,V,z,$,_e){return V===null||V.tag!==7?(V=Ca(z,U.mode,$,_e),V.return=U,V):(V=h(V,z),V.return=U,V)}function ee(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Yh(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return z=wc(V.type,V.key,V.props,null,U.mode,z),Bo(z,V),z.return=U,z;case F:return V=Kh(V,U.mode,z),V.return=U,V;case S:return V=ja(V),ee(U,V,z)}if(fe(V)||M(V))return V=Ca(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return ee(U,Oc(V),z);if(V.$$typeof===H)return ee(U,Cc(U,V),z);jc(U,V)}return null}function q(U,V,z,$){var _e=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:b(U,V,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===_e?O(U,V,z,$):null;case F:return z.key===_e?B(U,V,z,$):null;case S:return z=ja(z),q(U,V,z,$)}if(fe(z)||M(z))return _e!==null?null:X(U,V,z,$,null);if(typeof z.then=="function")return q(U,V,Oc(z),$);if(z.$$typeof===H)return q(U,V,Cc(U,z),$);jc(U,z)}return null}function Q(U,V,z,$,_e){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(z)||null,b(V,U,""+$,_e);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return U=U.get($.key===null?z:$.key)||null,O(V,U,$,_e);case F:return U=U.get($.key===null?z:$.key)||null,B(V,U,$,_e);case S:return $=ja($),Q(U,V,z,$,_e)}if(fe($)||M($))return U=U.get(z)||null,X(V,U,$,_e,null);if(typeof $.then=="function")return Q(U,V,z,Oc($),_e);if($.$$typeof===H)return Q(U,V,z,Cc(V,$),_e);jc(V,$)}return null}function me(U,V,z,$){for(var _e=null,He=null,ye=V,xe=V=0,Ue=null;ye!==null&&xe<z.length;xe++){ye.index>xe?(Ue=ye,ye=null):Ue=ye.sibling;var Fe=q(U,ye,z[xe],$);if(Fe===null){ye===null&&(ye=Ue);break}t&&ye&&Fe.alternate===null&&i(U,ye),V=d(Fe,V,xe),He===null?_e=Fe:He.sibling=Fe,He=Fe,ye=Ue}if(xe===z.length)return r(U,ye),Be&&zi(U,xe),_e;if(ye===null){for(;xe<z.length;xe++)ye=ee(U,z[xe],$),ye!==null&&(V=d(ye,V,xe),He===null?_e=ye:He.sibling=ye,He=ye);return Be&&zi(U,xe),_e}for(ye=o(ye);xe<z.length;xe++)Ue=Q(ye,U,xe,z[xe],$),Ue!==null&&(t&&Ue.alternate!==null&&ye.delete(Ue.key===null?xe:Ue.key),V=d(Ue,V,xe),He===null?_e=Ue:He.sibling=Ue,He=Ue);return t&&ye.forEach(function(qs){return i(U,qs)}),Be&&zi(U,xe),_e}function Ee(U,V,z,$){if(z==null)throw Error(a(151));for(var _e=null,He=null,ye=V,xe=V=0,Ue=null,Fe=z.next();ye!==null&&!Fe.done;xe++,Fe=z.next()){ye.index>xe?(Ue=ye,ye=null):Ue=ye.sibling;var qs=q(U,ye,Fe.value,$);if(qs===null){ye===null&&(ye=Ue);break}t&&ye&&qs.alternate===null&&i(U,ye),V=d(qs,V,xe),He===null?_e=qs:He.sibling=qs,He=qs,ye=Ue}if(Fe.done)return r(U,ye),Be&&zi(U,xe),_e;if(ye===null){for(;!Fe.done;xe++,Fe=z.next())Fe=ee(U,Fe.value,$),Fe!==null&&(V=d(Fe,V,xe),He===null?_e=Fe:He.sibling=Fe,He=Fe);return Be&&zi(U,xe),_e}for(ye=o(ye);!Fe.done;xe++,Fe=z.next())Fe=Q(ye,U,xe,Fe.value,$),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?xe:Fe.key),V=d(Fe,V,xe),He===null?_e=Fe:He.sibling=Fe,He=Fe);return t&&ye.forEach(function(Yb){return i(U,Yb)}),Be&&zi(U,xe),_e}function nt(U,V,z,$){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var _e=z.key;V!==null;){if(V.key===_e){if(_e=z.type,_e===Z){if(V.tag===7){r(U,V.sibling),$=h(V,z.props.children),$.return=U,U=$;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&ja(_e)===V.type){r(U,V.sibling),$=h(V,z.props),Bo($,z),$.return=U,U=$;break e}r(U,V);break}else i(U,V);V=V.sibling}z.type===Z?($=Ca(z.props.children,U.mode,$,z.key),$.return=U,U=$):($=wc(z.type,z.key,z.props,null,U.mode,$),Bo($,z),$.return=U,U=$)}return v(U);case F:e:{for(_e=z.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(U,V.sibling),$=h(V,z.children||[]),$.return=U,U=$;break e}else{r(U,V);break}else i(U,V);V=V.sibling}$=Kh(z,U.mode,$),$.return=U,U=$}return v(U);case S:return z=ja(z),nt(U,V,z,$)}if(fe(z))return me(U,V,z,$);if(M(z)){if(_e=M(z),typeof _e!="function")throw Error(a(150));return z=_e.call(z),Ee(U,V,z,$)}if(typeof z.then=="function")return nt(U,V,Oc(z),$);if(z.$$typeof===H)return nt(U,V,Cc(U,z),$);jc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(U,V.sibling),$=h(V,z),$.return=U,U=$):(r(U,V),$=Yh(z,U.mode,$),$.return=U,U=$),v(U)):r(U,V)}return function(U,V,z,$){try{zo=0;var _e=nt(U,V,z,$);return br=null,_e}catch(ye){if(ye===Sr||ye===Dc)throw ye;var He=Tn(29,ye,null,U.mode);return He.lanes=$,He.return=U,He}finally{}}}var Va=op(!0),lp=op(!1),ws=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Ac(t),Gg(t,null,r),i}return bc(t,o,i,r),Ac(t)}function qo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,go(t,r)}}function ld(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,r=r.next}while(r!==null);d===null?h=d=i:d=d.next=i}else h=d=i;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var cd=!1;function Ho(){if(cd){var t=Er;if(t!==null)throw t}}function Fo(t,i,r,o){cd=!1;var h=t.updateQueue;ws=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,B=O.next;O.next=null,v===null?d=B:v.next=B,v=O;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==v&&(b===null?X.firstBaseUpdate=B:b.next=B,X.lastBaseUpdate=O))}if(d!==null){var ee=h.baseState;v=0,X=B=O=null,b=d;do{var q=b.lane&-536870913,Q=q!==b.lane;if(Q?(ke&q)===q:(o&q)===q){q!==0&&q===Tr&&(cd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=t,Ee=b;q=i;var nt=r;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){ee=me.call(nt,ee,q);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,q=typeof me=="function"?me.call(nt,ee,q):me,q==null)break e;ee=w({},ee,q);break e;case 2:ws=!0}}q=b.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(B=X=Q,O=ee):X=X.next=Q,v|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Os|=v,t.lanes=v,t.memoizedState=ee}}function cp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function up(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cp(r[t],i)}var Ar=k(null),Mc=k(0);function hp(t,i){t=Ji,re(Mc,t),re(Ar,i),Ji=t|i.baseLanes}function ud(){re(Mc,Ji),re(Ar,Ar.current)}function hd(){Ji=Mc.current,W(Ar),W(Mc)}var En=k(null),Ln=null;function Cs(t){var i=t.alternate;re(_t,_t.current&1),re(En,t),Ln===null&&(i===null||Ar.current!==null||i.memoizedState!==null)&&(Ln=t)}function dd(t){re(_t,_t.current),re(En,t),Ln===null&&(Ln=t)}function dp(t){t.tag===22?(re(_t,_t.current),re(En,t),Ln===null&&(Ln=t)):Ns()}function Ns(){re(_t,_t.current),re(En,En.current)}function Sn(t){W(En),Ln===t&&(Ln=null),W(_t)}var _t=k(0);function Vc(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vf(r)||Tf(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,De=null,et=null,Ct=null,kc=!1,wr=!1,ka=!1,Uc=0,Go=0,Rr=null,US=0;function dt(){throw Error(a(321))}function fd(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!vn(t[r],i[r]))return!1;return!0}function md(t,i,r,o,h,d){return Hi=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Xp:Nd,ka=!1,d=r(o,h),ka=!1,wr&&(d=mp(i,r,o,h)),fp(t),d}function fp(t){P.H=Ko;var i=et!==null&&et.next!==null;if(Hi=0,Ct=et=De=null,kc=!1,Go=0,Rr=null,i)throw Error(a(300));t===null||Nt||(t=t.dependencies,t!==null&&Ic(t)&&(Nt=!0))}function mp(t,i,r,o){De=t;var h=0;do{if(wr&&(Rr=null),Go=0,wr=!1,25<=h)throw Error(a(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=$p,d=i(r,o)}while(wr);return d}function LS(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?Qo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(De.flags|=1024),i}function gd(){var t=Uc!==0;return Uc=0,t}function pd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function yd(t){if(kc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}kc=!1}Hi=0,Ct=et=De=null,wr=!1,Go=Uc=0,Rr=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(et===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?De.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var i=Go;return Go+=1,Rr===null&&(Rr=[]),t=sp(Rr,t,i),i=De,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Xp:Nd),t}function Pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===H)return Gt(t)}throw Error(a(438,String(t)))}function _d(t){var i=null,r=De.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Lc(),De.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=x;return i.index++,r}function Fi(t,i){return typeof i=="function"?i(t):i}function zc(t){var i=vt();return vd(i,et,t)}function vd(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,O=null,B=i,X=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ke&ee)===ee:(Hi&ee)===ee){var q=B.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Tr&&(X=!0);else if((Hi&q)===q){B=B.next,q===Tr&&(X=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=ee,v=d):O=O.next=ee,De.lanes|=q,Os|=q;ee=B.action,ka&&r(d,ee),d=B.hasEagerState?B.eagerState:r(d,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=q,v=d):O=O.next=q,De.lanes|=ee,Os|=ee;B=B.next}while(B!==null&&B!==i);if(O===null?v=d:O.next=b,!vn(d,t.memoizedState)&&(Nt=!0,X&&(r=Er,r!==null)))throw r;t.memoizedState=d,t.baseState=v,t.baseQueue=O,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Td(t){var i=vt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,d=i.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);vn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),r.lastRenderedState=d}return[d,o]}function gp(t,i,r){var o=De,h=vt(),d=Be;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=i();var v=!vn((et||h).memoizedState,r);if(v&&(h.memoizedState=r,Nt=!0),h=h.queue,bd(_p.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Ir(9,{destroy:void 0},yp.bind(null,o,h,r,i),null),it===null)throw Error(a(349));d||(Hi&127)!==0||pp(o,i,r)}return r}function pp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=De.updateQueue,i===null?(i=Lc(),De.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function yp(t,i,r,o){i.value=r,i.getSnapshot=o,vp(i)&&Tp(t)}function _p(t,i,r){return r(function(){vp(i)&&Tp(t)})}function vp(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!vn(t,r)}catch{return!0}}function Tp(t){var i=Ia(t,2);i!==null&&fn(i,t,2)}function Ed(t){var i=an();if(typeof t=="function"){var r=t;if(t=r(),ka){Cn(!0);try{r()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function Ep(t,i,r,o){return t.baseState=r,vd(t,et,typeof o=="function"?o:Fi)}function PS(t,i,r,o,h){if(Hc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};P.T!==null?r(!0):d.isTransition=!1,o(d),r=i.pending,r===null?(d.next=i.pending=d,Sp(i,d)):(d.next=r.next,i.pending=r.next=d)}}function Sp(t,i){var r=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=P.T,v={};P.T=v;try{var b=r(h,o),O=P.S;O!==null&&O(v,b),bp(t,i,b)}catch(B){Sd(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),P.T=d}}else try{d=r(h,o),bp(t,i,d)}catch(B){Sd(t,i,B)}}function bp(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ap(t,i,o)},function(o){return Sd(t,i,o)}):Ap(t,i,r)}function Ap(t,i,r){i.status="fulfilled",i.value=r,wp(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,Sp(t,r)))}function Sd(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,wp(i),i=i.next;while(i!==o)}t.action=null}function wp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Rp(t,i){return i}function Ip(t,i){if(Be){var r=it.formState;if(r!==null){e:{var o=De;if(Be){if(at){t:{for(var h=at,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Pn(h.nextSibling),o=h.data==="F!";break e}}bs(o)}o=!1}o&&(i=r[0])}}return r=an(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:i},r.queue=o,r=Qp.bind(null,De,o),o.dispatch=r,o=Ed(!1),d=Cd.bind(null,De,!1,o.queue),o=an(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,r=PS.bind(null,De,h,d,r),h.dispatch=r,o.memoizedState=t,[i,r,!1]}function Cp(t){var i=vt();return Np(i,et,t)}function Np(t,i,r){if(i=vd(t,i,Rp)[0],t=zc(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Qo(i)}catch(v){throw v===Sr?Dc:v}else o=i;i=vt();var h=i.queue,d=h.dispatch;return r!==i.memoizedState&&(De.flags|=2048,Ir(9,{destroy:void 0},zS.bind(null,h,r),null)),[o,d,t]}function zS(t,i){t.action=i}function Dp(t){var i=vt(),r=et;if(r!==null)return Np(i,r,t);vt(),i=i.memoizedState,r=vt();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Ir(t,i,r,o){return t={tag:t,create:r,deps:o,inst:i,next:null},i=De.updateQueue,i===null&&(i=Lc(),De.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function xp(){return vt().memoizedState}function Bc(t,i,r,o){var h=an();De.flags|=t,h.memoizedState=Ir(1|i,{destroy:void 0},r,o===void 0?null:o)}function qc(t,i,r,o){var h=vt();o=o===void 0?null:o;var d=h.memoizedState.inst;et!==null&&o!==null&&fd(o,et.memoizedState.deps)?h.memoizedState=Ir(i,d,r,o):(De.flags|=t,h.memoizedState=Ir(1|i,d,r,o))}function Op(t,i){Bc(8390656,8,t,i)}function bd(t,i){qc(2048,8,t,i)}function BS(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=Lc(),De.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function jp(t){var i=vt().memoizedState;return BS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Mp(t,i){return qc(4,2,t,i)}function Vp(t,i){return qc(4,4,t,i)}function kp(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Up(t,i,r){r=r!=null?r.concat([t]):null,qc(4,4,kp.bind(null,i,t),r)}function Ad(){}function Lp(t,i){var r=vt();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&fd(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function Pp(t,i){var r=vt();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&fd(i,o[1]))return o[0];if(o=t(),ka){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[o,i],o}function wd(t,i,r){return r===void 0||(Hi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=zy(),De.lanes|=t,Os|=t,r)}function zp(t,i,r,o){return vn(r,i)?r:Ar.current!==null?(t=wd(t,r,o),vn(t,i)||(Nt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=r):(t=zy(),De.lanes|=t,Os|=t,i)}function Bp(t,i,r,o,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=P.T,b={};P.T=b,Cd(t,!1,i,r);try{var O=h(),B=P.S;if(B!==null&&B(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=kS(O,o);Yo(t,i,X,wn(t))}else Yo(t,i,o,wn(t))}catch(ee){Yo(t,i,{then:function(){},status:"rejected",reason:ee},wn())}finally{ie.p=d,v!==null&&b.types!==null&&(v.types=b.types),P.T=v}}function qS(){}function Rd(t,i,r,o){if(t.tag!==5)throw Error(a(476));var h=qp(t).queue;Bp(t,h,i,pe,r===null?qS:function(){return Hp(t),r(o)})}function qp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:pe},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Hp(t){var i=qp(t);i.next===null&&(i=t.alternate.memoizedState),Yo(t,i.next.queue,{},wn())}function Id(){return Gt(ul)}function Fp(){return vt().memoizedState}function Gp(){return vt().memoizedState}function HS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=wn();t=Rs(r);var o=Is(i,t,r);o!==null&&(fn(o,i,r),qo(o,i,r)),i={cache:nd()},t.payload=i;return}i=i.return}}function FS(t,i,r){var o=wn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hc(t)?Yp(i,r):(r=Gh(t,i,r,o),r!==null&&(fn(r,t,o),Kp(r,i,o)))}function Qp(t,i,r){var o=wn();Yo(t,i,r,o)}function Yo(t,i,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))Yp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,r);if(h.hasEagerState=!0,h.eagerState=b,vn(b,v))return bc(t,i,h,0),it===null&&Sc(),!1}catch{}finally{}if(r=Gh(t,i,h,o),r!==null)return fn(r,t,o),Kp(r,i,o),!0}return!1}function Cd(t,i,r,o){if(o={lane:2,revertLane:of(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(i)throw Error(a(479))}else i=Gh(t,r,o,2),i!==null&&fn(i,t,2)}function Hc(t){var i=t.alternate;return t===De||i!==null&&i===De}function Yp(t,i){wr=kc=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Kp(t,i,r){if((r&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,go(t,r)}}var Ko={readContext:Gt,use:Pc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ko.useEffectEvent=dt;var Xp={readContext:Gt,use:Pc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Op,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Bc(4194308,4,kp.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Bc(4194308,4,t,i)},useInsertionEffect:function(t,i){Bc(4,2,t,i)},useMemo:function(t,i){var r=an();i=i===void 0?null:i;var o=t();if(ka){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=an();if(r!==void 0){var h=r(i);if(ka){Cn(!0);try{r(i)}finally{Cn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=FS.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Ed(t);var i=t.queue,r=Qp.bind(null,De,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Ad,useDeferredValue:function(t,i){var r=an();return wd(r,t,i)},useTransition:function(){var t=Ed(!1);return t=Bp.bind(null,De,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=De,h=an();if(Be){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),it===null)throw Error(a(349));(ke&127)!==0||pp(o,i,r)}h.memoizedState=r;var d={value:r,getSnapshot:i};return h.queue=d,Op(_p.bind(null,o,d,t),[t]),o.flags|=2048,Ir(9,{destroy:void 0},yp.bind(null,o,d,r,i),null),r},useId:function(){var t=an(),i=it.identifierPrefix;if(Be){var r=bi,o=Si;r=(o&~(1<<32-pt(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Uc++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=US++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Id,useFormState:Ip,useActionState:Ip,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Cd.bind(null,De,!0,r),r.dispatch=i,[t,i]},useMemoCache:_d,useCacheRefresh:function(){return an().memoizedState=HS.bind(null,De)},useEffectEvent:function(t){var i=an(),r={impl:t};return i.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Nd={readContext:Gt,use:Pc,useCallback:Lp,useContext:Gt,useEffect:bd,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Pp,useReducer:zc,useRef:xp,useState:function(){return zc(Fi)},useDebugValue:Ad,useDeferredValue:function(t,i){var r=vt();return zp(r,et.memoizedState,t,i)},useTransition:function(){var t=zc(Fi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Id,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,i){var r=vt();return Ep(r,et,t,i)},useMemoCache:_d,useCacheRefresh:Gp};Nd.useEffectEvent=jp;var $p={readContext:Gt,use:Pc,useCallback:Lp,useContext:Gt,useEffect:bd,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Pp,useReducer:Td,useRef:xp,useState:function(){return Td(Fi)},useDebugValue:Ad,useDeferredValue:function(t,i){var r=vt();return et===null?wd(r,t,i):zp(r,et.memoizedState,t,i)},useTransition:function(){var t=Td(Fi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Id,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,i){var r=vt();return et!==null?Ep(r,et,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Gp};$p.useEffectEvent=jp;function Dd(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:w({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xd={enqueueSetState:function(t,i,r){t=t._reactInternals;var o=wn(),h=Rs(o);h.payload=i,r!=null&&(h.callback=r),i=Is(t,h,o),i!==null&&(fn(i,t,o),qo(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=wn(),h=Rs(o);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Is(t,h,o),i!==null&&(fn(i,t,o),qo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=wn(),o=Rs(r);o.tag=2,i!=null&&(o.callback=i),i=Is(t,o,r),i!==null&&(fn(i,t,r),qo(i,t,r))}};function Jp(t,i,r,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,d):!0}function Zp(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&xd.enqueueReplaceState(i,i.state,null)}function Ua(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Wp(t){Ec(t)}function ey(t){console.error(t)}function ty(t){Ec(t)}function Fc(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ny(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Od(t,i,r){return r=Rs(r),r.tag=3,r.payload={element:null},r.callback=function(){Fc(t,i)},r}function iy(t){return t=Rs(t),t.tag=3,t}function sy(t,i,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){ny(i,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ny(i,r,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function GS(t,i,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&vr(i,r,h,!0),r=En.current,r!==null){switch(r.tag){case 31:case 13:return Ln===null?nu():r.alternate===null&&ft===0&&(ft=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===xc?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),sf(t,o,h)),!1;case 22:return r.flags|=65536,o===xc?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),sf(t,o,h)),!1}throw Error(a(435,r.tag))}return sf(t,o,h),nu(),!1}if(Be)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Jh&&(t=Error(a(422),{cause:o}),Uo(Mn(t,r)))):(o!==Jh&&(i=Error(a(423),{cause:o}),Uo(Mn(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,r),h=Od(t.stateNode,o,h),ld(t,h),ft!==4&&(ft=2)),!1;var d=Error(a(520),{cause:o});if(d=Mn(d,r),nl===null?nl=[d]:nl.push(d),ft!==4&&(ft=2),i===null)return!0;o=Mn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Od(r.stateNode,o,t),ld(r,t),!1;case 1:if(i=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=iy(h),sy(h,t,r,o),ld(r,h),!1}r=r.return}while(r!==null);return!1}var jd=Error(a(461)),Nt=!1;function Qt(t,i,r,o){i.child=t===null?lp(i,null,r,o):Va(i,t.child,r,o)}function ay(t,i,r,o,h){r=r.render;var d=i.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return xa(i),o=md(t,i,r,v,d,h),b=gd(),t!==null&&!Nt?(pd(t,i,h),Gi(t,i,h)):(Be&&b&&Xh(i),i.flags|=1,Qt(t,i,o,h),i.child)}function ry(t,i,r,o,h){if(t===null){var d=r.type;return typeof d=="function"&&!Qh(d)&&d.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=d,oy(t,i,d,o,h)):(t=wc(r.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Bd(t,h)){var v=d.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(v,o)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=Pi(d,o),t.ref=i.ref,t.return=i,i.child=t}function oy(t,i,r,o,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,o)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=o=d,Bd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return Md(t,i,r,o,h)}function ly(t,i,r,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return cy(t,i,d,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nc(i,d!==null?d.cachePool:null),d!==null?hp(i,d):ud(),dp(i);else return o=i.lanes=536870912,cy(t,i,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(Nc(i,d.cachePool),hp(i,d),Ns(),i.memoizedState=null):(t!==null&&Nc(i,null),ud(),Ns());return Qt(t,i,h,r),i.child}function Xo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cy(t,i,r,o,h){var d=sd();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},t!==null&&Nc(i,null),ud(),dp(i),t!==null&&vr(t,i,o,!0),i.childLanes=h,null}function Gc(t,i){return i=Yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function uy(t,i,r){return Va(i,t.child,null,r),t=Gc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function QS(t,i,r){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(o.mode==="hidden")return t=Gc(i,o),i.lanes=536870912,Xo(null,t);if(dd(i),(t=at)?(t=S_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=i,i.child=r,Ft=i,at=null)):t=null,t===null)throw bs(i);return i.lanes=536870912,null}return Gc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(dd(i),h)if(i.flags&256)i.flags&=-257,i=uy(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Nt||vr(t,i,r,!1),h=(r&t.childLanes)!==0,Nt||h){if(o=it,o!==null&&(v=po(o,r),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ia(t,v),fn(o,t,v),jd;nu(),i=uy(t,i,r)}else t=d.treeContext,at=Pn(v.nextSibling),Ft=i,Be=!0,Ss=null,Un=!1,t!==null&&$g(i,t),i=Gc(i,o),i.flags|=4096;return i}return t=Pi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Qc(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Md(t,i,r,o,h){return xa(i),r=md(t,i,r,o,void 0,h),o=gd(),t!==null&&!Nt?(pd(t,i,h),Gi(t,i,h)):(Be&&o&&Xh(i),i.flags|=1,Qt(t,i,r,h),i.child)}function hy(t,i,r,o,h,d){return xa(i),i.updateQueue=null,r=mp(i,o,r,h),fp(t),o=gd(),t!==null&&!Nt?(pd(t,i,d),Gi(t,i,d)):(Be&&o&&Xh(i),i.flags|=1,Qt(t,i,r,d),i.child)}function dy(t,i,r,o,h){if(xa(i),i.stateNode===null){var d=gr,v=r.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new r(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},rd(i),v=r.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):gr,d.state=i.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Dd(i,r,v,o),d.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xd.enqueueReplaceState(d,d.state,null),Fo(i,o,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,O=Ua(r,b);d.props=O;var B=d.context,X=r.contextType;v=gr,typeof X=="object"&&X!==null&&(v=Gt(X));var ee=r.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==v)&&Zp(i,d,o,v),ws=!1;var q=i.memoizedState;d.state=q,Fo(i,o,d,h),Ho(),B=i.memoizedState,b||q!==B||ws?(typeof ee=="function"&&(Dd(i,r,ee,o),B=i.memoizedState),(O=ws||Jp(i,r,O,o,q,B,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=v,o=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,od(t,i),v=i.memoizedProps,X=Ua(r,v),d.props=X,ee=i.pendingProps,q=d.context,B=r.contextType,O=gr,typeof B=="object"&&B!==null&&(O=Gt(B)),b=r.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||q!==O)&&Zp(i,d,o,O),ws=!1,q=i.memoizedState,d.state=q,Fo(i,o,d,h),Ho();var Q=i.memoizedState;v!==ee||q!==Q||ws||t!==null&&t.dependencies!==null&&Ic(t.dependencies)?(typeof b=="function"&&(Dd(i,r,b,o),Q=i.memoizedState),(X=ws||Jp(i,r,X,o,q,Q,O)||t!==null&&t.dependencies!==null&&Ic(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Q),d.props=o,d.state=Q,d.context=O,o=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Qc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Va(i,t.child,null,h),i.child=Va(i,null,r,h)):Qt(t,i,r,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function fy(t,i,r,o){return Na(),i.flags|=256,Qt(t,i,r,o),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(t){return{baseLanes:t,cachePool:np()}}function Ud(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=An),t}function my(t,i,r){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Cs(i):Ns(),(t=at)?(t=S_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=i,i.child=r,Ft=i,at=null)):t=null,t===null)throw bs(i);return Tf(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Ns(),h=i.mode,b=Yc({mode:"hidden",children:b},h),o=Ca(o,h,r,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=kd(r),o.childLanes=Ud(t,v,r),i.memoizedState=Vd,Xo(null,o)):(Cs(i),Ld(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(Cs(i),i.flags&=-257,i=Pd(t,i,r)):i.memoizedState!==null?(Ns(),i.child=t.child,i.flags|=128,i=null):(Ns(),b=o.fallback,h=i.mode,o=Yc({mode:"visible",children:o.children},h),b=Ca(b,h,r,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Va(i,t.child,null,r),o=i.child,o.memoizedState=kd(r),o.childLanes=Ud(t,v,r),i.memoizedState=Vd,i=Xo(null,o));else if(Cs(i),Tf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(a(419)),o.stack="",o.digest=v,Uo({value:o,source:null,stack:null}),i=Pd(t,i,r)}else if(Nt||vr(t,i,r,!1),v=(r&t.childLanes)!==0,Nt||v){if(v=it,v!==null&&(o=po(v,r),o!==0&&o!==O.retryLane))throw O.retryLane=o,Ia(t,o),fn(v,t,o),jd;vf(b)||nu(),i=Pd(t,i,r)}else vf(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,at=Pn(b.nextSibling),Ft=i,Be=!0,Ss=null,Un=!1,t!==null&&$g(i,t),i=Ld(i,o.children),i.flags|=4096);return i}return h?(Ns(),b=o.fallback,h=i.mode,O=t.child,B=O.sibling,o=Pi(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,B!==null?b=Pi(B,b):(b=Ca(b,h,r,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,Xo(null,o),o=i.child,b=t.child.memoizedState,b===null?b=kd(r):(h=b.cachePool,h!==null?(O=It._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=np(),b={baseLanes:b.baseLanes|r,cachePool:h}),o.memoizedState=b,o.childLanes=Ud(t,v,r),i.memoizedState=Vd,Xo(t.child,o)):(Cs(i),r=t.child,t=r.sibling,r=Pi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=r,i.memoizedState=null,r)}function Ld(t,i){return i=Yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Yc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function Pd(t,i,r){return Va(i,t.child,null,r),t=Ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gy(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),ed(t.return,i,r)}function zd(t,i,r,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=h,v.treeForkCount=d)}function py(t,i,r){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=_t.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,re(_t,v),Qt(t,i,o,r),o=Be?ko:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,r,i);else if(t.tag===19)gy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Vc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),zd(i,!1,h,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}zd(i,!0,r,null,d,o);break;case"together":zd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Gi(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Os|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(vr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Pi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Pi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Bd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ic(t)))}function YS(t,i,r){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),As(i,It,t.memoizedState.cache),Na();break;case 27:case 5:Mi(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:As(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,dd(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(i),i.flags|=128,null):(r&i.child.childLanes)!==0?my(t,i,r):(Cs(i),t=Gi(t,i,r),t!==null?t.sibling:null);Cs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(vr(t,i,r,!1),o=(r&i.childLanes)!==0),h){if(o)return py(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(_t,_t.current),o)break;return null;case 22:return i.lanes=0,ly(t,i,r,i.pendingProps);case 24:As(i,It,t.memoizedState.cache)}return Gi(t,i,r)}function yy(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Bd(t,r)&&(i.flags&128)===0)return Nt=!1,YS(t,i,r);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Xg(i,ko,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=ja(i.elementType),i.type=t,typeof t=="function")Qh(t)?(o=Ua(t,o),i.tag=1,i=dy(null,i,t,o,r)):(i.tag=0,i=Md(null,i,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=ay(null,i,t,o,r);break e}else if(h===D){i.tag=14,i=ry(null,i,t,o,r);break e}}throw i=K(t)||t,Error(a(306,i,""))}}return i;case 0:return Md(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,h=Ua(o,i.pendingProps),dy(t,i,o,h,r);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,od(t,i),Fo(i,o,null,r);var v=i.memoizedState;if(o=v.cache,As(i,It,o),o!==d.cache&&td(i,[It],r,!0),Ho(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=fy(t,i,o,r);break e}else if(o!==h){h=Mn(Error(a(424)),i),Uo(h),i=fy(t,i,o,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Pn(t.firstChild),Ft=i,Be=!0,Ss=null,Un=!0,r=lp(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Na(),o===h){i=Gi(t,i,r);break e}Qt(t,i,o,r)}i=i.child}return i;case 26:return Qc(t,i),t===null?(r=C_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Be||(r=i.type,t=i.pendingProps,o=cu(Ce.current).createElement(r),o[At]=i,o[Ut]=t,Yt(o,r,t),wt(o),i.stateNode=o):i.memoizedState=C_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Mi(i),t===null&&Be&&(o=i.stateNode=w_(i.type,i.pendingProps,Ce.current),Ft=i,Un=!0,h=at,Us(i.type)?(Ef=h,at=Pn(o.firstChild)):at=h),Qt(t,i,i.pendingProps.children,r),Qc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=o=at)&&(o=bb(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,Ft=i,at=Pn(o.firstChild),Un=!1,h=!0):h=!1),h||bs(i)),Mi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,pf(h,d)?o=null:v!==null&&pf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=md(t,i,LS,null,null,r),ul._currentValue=h),Qc(t,i),Qt(t,i,o,r),i.child;case 6:return t===null&&Be&&((t=r=at)&&(r=Ab(r,i.pendingProps,Un),r!==null?(i.stateNode=r,Ft=i,at=null,t=!0):t=!1),t||bs(i)),null;case 13:return my(t,i,r);case 4:return ut(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Va(i,null,o,r):Qt(t,i,o,r),i.child;case 11:return ay(t,i,i.type,i.pendingProps,r);case 7:return Qt(t,i,i.pendingProps,r),i.child;case 8:return Qt(t,i,i.pendingProps.children,r),i.child;case 12:return Qt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,As(i,i.type,o.value),Qt(t,i,o.children,r),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,xa(i),h=Gt(h),o=o(h),i.flags|=1,Qt(t,i,o,r),i.child;case 14:return ry(t,i,i.type,i.pendingProps,r);case 15:return oy(t,i,i.type,i.pendingProps,r);case 19:return py(t,i,r);case 31:return QS(t,i,r);case 22:return ly(t,i,r,i.pendingProps);case 24:return xa(i),o=Gt(It),t===null?(h=sd(),h===null&&(h=it,d=nd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),i.memoizedState={parent:o,cache:h},rd(i),As(i,It,h)):((t.lanes&r)!==0&&(od(t,i),Fo(i,null,null,r),Ho()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),As(i,It,o)):(o=d.cache,As(i,It,o),o!==h.cache&&td(i,[It],r,!0))),Qt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Qi(t){t.flags|=4}function qd(t,i,r,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fy())t.flags|=8192;else throw Ma=xc,ad}else t.flags&=-16777217}function _y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j_(i))if(Fy())t.flags|=8192;else throw Ma=xc,ad}function Kc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ec():536870912,t.lanes|=i,xr|=i)}function $o(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function KS(t,i,r){var o=i.pendingProps;switch($h(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),qi(It),Ke(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_r(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zh())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(rt(i),_y(i,d)):(rt(i),qd(i,h,null,o,r))):d?d!==t.memoizedState?(Qi(i),rt(i),_y(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Qi(i),rt(i),qd(i,h,t,o,r)),null;case 27:if(se(i),r=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Qi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=ue.current,_r(i)?Jg(i):(t=w_(h,o,r),i.stateNode=t,Qi(i))}return rt(i),null;case 5:if(se(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Qi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(d=ue.current,_r(i))Jg(i);else{var v=cu(Ce.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[At]=i,d[Ut]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Yt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qi(i)}}return rt(i),qd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Qi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ce.current,_r(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||m_(t.nodeValue,r)),t||bs(i,!0)}else t=cu(t).createTextNode(o),t[At]=i,i.stateNode=t}return rt(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(o=_r(i),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[At]=i}else Na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else r=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_r(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[At]=i}else Na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Kc(i,i.updateQueue),rt(i),null);case 4:return Ke(),t===null&&hf(i.stateNode.containerInfo),rt(i),null;case 10:return qi(i.type),rt(i),null;case 19:if(W(_t),o=i.memoizedState,o===null)return rt(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)$o(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Vc(t),d!==null){for(i.flags|=128,$o(o,!1),t=d.updateQueue,i.updateQueue=t,Kc(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Qg(r,t),r=r.sibling;return re(_t,_t.current&1|2),Be&&zi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>Wc&&(i.flags|=128,h=!0,$o(o,!1),i.lanes=4194304)}else{if(!h)if(t=Vc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Kc(i,t),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Be)return rt(i),null}else 2*nn()-o.renderingStartTime>Wc&&r!==536870912&&(i.flags|=128,h=!0,$o(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,r=_t.current,re(_t,h?r&1|2:r&1),Be&&zi(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return Sn(i),hd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&Kc(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&W(Oa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),qi(It),rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function XS(t,i){switch($h(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(It),Ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return se(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(a(340));Na()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Na()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(_t),null;case 4:return Ke(),null;case 10:return qi(i.type),null;case 22:case 23:return Sn(i),hd(),t!==null&&W(Oa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(It),null;case 25:return null;default:return null}}function vy(t,i){switch($h(i),i.tag){case 3:qi(It),Ke();break;case 26:case 27:case 5:se(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:W(_t);break;case 10:qi(i.type);break;case 22:case 23:Sn(i),hd(),t!==null&&W(Oa);break;case 24:qi(It)}}function Jo(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var d=r.create,v=r.inst;o=d(),v.destroy=o}r=r.next}while(r!==h)}}catch(b){Ze(i,i.return,b)}}function Ds(t,i,r){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var O=r,B=b;try{B()}catch(X){Ze(h,O,X)}}}o=o.next}while(o!==d)}}catch(X){Ze(i,i.return,X)}}function Ty(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{up(i,r)}catch(o){Ze(t,t.return,o)}}}function Ey(t,i,r){r.props=Ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Ze(t,i,o)}}function Zo(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){Ze(t,i,h)}}function Ai(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,i,h)}else r.current=null}function Sy(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Hd(t,i,r){try{var o=t.stateNode;yb(o,t.type,r,i),o[Ut]=i}catch(h){Ze(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Us(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Gd(t,i,r),t=t.sibling;t!==null;)Gd(t,i,r),t=t.sibling}function Xc(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&(o===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Xc(t,i,r),t=t.sibling;t!==null;)Xc(t,i,r),t=t.sibling}function Ay(t){var i=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,o,r),i[At]=t,i[Ut]=r}catch(d){Ze(t,t.return,d)}}var Yi=!1,Dt=!1,Qd=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function $S(t,i){if(t=t.containerInfo,mf=pu,t=Ug(t),Ph(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var v=0,b=-1,O=-1,B=0,X=0,ee=t,q=null;t:for(;;){for(var Q;ee!==r||h!==0&&ee.nodeType!==3||(b=v+h),ee!==d||o!==0&&ee.nodeType!==3||(O=v+o),ee.nodeType===3&&(v+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)q=ee,ee=Q;for(;;){if(ee===t)break t;if(q===r&&++B===h&&(b=v),q===d&&++X===o&&(O=v),(Q=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Q}r=b===-1||O===-1?null:{start:b,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(gf={focusedElem:t,selectionRange:r},pu=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=i,h=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var me=Ua(r.type,h);t=o.getSnapshotBeforeUpdate(me,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)_f(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function Ry(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(t,r),o&4&&Jo(5,r);break;case 1:if(Xi(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(r,r.return,v)}else{var h=Ua(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(r,r.return,v)}}o&64&&Ty(r),o&512&&Zo(r,r.return);break;case 3:if(Xi(t,r),o&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{up(t,i)}catch(v){Ze(r,r.return,v)}}break;case 27:i===null&&o&4&&Ay(r);case 26:case 5:Xi(t,r),i===null&&o&4&&Sy(r),o&512&&Zo(r,r.return);break;case 12:Xi(t,r);break;case 31:Xi(t,r),o&4&&Ny(t,r);break;case 13:Xi(t,r),o&4&&Dy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ab.bind(null,r),wb(t,r))));break;case 22:if(o=r.memoizedState!==null||Yi,!o){i=i!==null&&i.memoizedState!==null||Dt,h=Yi;var d=Dt;Yi=o,(Dt=i)&&!d?$i(t,r,(r.subtreeFlags&8772)!==0):Xi(t,r),Yi=h,Dt=d}break;case 30:break;default:Xi(t,r)}}function Iy(t){var i=t.alternate;i!==null&&(t.alternate=null,Iy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&tr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,cn=!1;function Ki(t,i,r){for(r=r.child;r!==null;)Cy(t,i,r),r=r.sibling}function Cy(t,i,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,r)}catch{}switch(r.tag){case 26:Dt||Ai(r,i),Ki(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Dt||Ai(r,i);var o=ct,h=cn;Us(r.type)&&(ct=r.stateNode,cn=!1),Ki(t,i,r),ol(r.stateNode),ct=o,cn=h;break;case 5:Dt||Ai(r,i);case 6:if(o=ct,h=cn,ct=null,Ki(t,i,r),ct=o,cn=h,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(d){Ze(r,i,d)}else try{ct.removeChild(r.stateNode)}catch(d){Ze(r,i,d)}break;case 18:ct!==null&&(cn?(t=ct,T_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Pr(t)):T_(ct,r.stateNode));break;case 4:o=ct,h=cn,ct=r.stateNode.containerInfo,cn=!0,Ki(t,i,r),ct=o,cn=h;break;case 0:case 11:case 14:case 15:Ds(2,r,i),Dt||Ds(4,r,i),Ki(t,i,r);break;case 1:Dt||(Ai(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ey(r,i,o)),Ki(t,i,r);break;case 21:Ki(t,i,r);break;case 22:Dt=(o=Dt)||r.memoizedState!==null,Ki(t,i,r),Dt=o;break;default:Ki(t,i,r)}}function Ny(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pr(t)}catch(r){Ze(i,i.return,r)}}}function Dy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pr(t)}catch(r){Ze(i,i.return,r)}}function JS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new wy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new wy),i;default:throw Error(a(435,t.tag))}}function $c(t,i){var r=JS(t);i.forEach(function(o){if(!r.has(o)){r.add(o);var h=rb.bind(null,t,o);o.then(h,h)}})}function un(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Us(b.type)){ct=b.stateNode,cn=!1;break e}break;case 5:ct=b.stateNode,cn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,cn=!0;break e}b=b.return}if(ct===null)throw Error(a(160));Cy(d,v,h),ct=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)xy(i,t),i=i.sibling}var Wn=null;function xy(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),hn(t),o&4&&(Ds(3,t,t.return),Jo(3,t),Ds(5,t,t.return));break;case 1:un(i,t),hn(t),o&512&&(Dt||r===null||Ai(r,r.return)),o&64&&Yi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Wn;if(un(i,t),hn(t),o&512&&(Dt||r===null||Ai(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,o,r),d[At]=t,wt(d),o=d;break e;case"link":var v=x_("link","href",h).get(o+(r.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(o),Yt(d,o,r),h.head.appendChild(d);break;case"meta":if(v=x_("meta","content",h).get(o+(r.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(b,1);break t}}d=h.createElement(o),Yt(d,o,r),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[At]=t,wt(d),o=d}t.stateNode=o}else O_(h,t.type,t.stateNode);else t.stateNode=D_(h,o,t.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?O_(h,t.type,t.stateNode):D_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hd(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(i,t),hn(t),o&512&&(Dt||r===null||Ai(r,r.return)),r!==null&&o&4&&Hd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(i,t),hn(t),o&512&&(Dt||r===null||Ai(r,r.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(me){Ze(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hd(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Qd=!0);break;case 6:if(un(i,t),hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(me){Ze(t,t.return,me)}}break;case 3:if(du=null,h=Wn,Wn=uu(i.containerInfo),un(i,t),Wn=h,hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Pr(i.containerInfo)}catch(me){Ze(t,t.return,me)}Qd&&(Qd=!1,Oy(t));break;case 4:o=Wn,Wn=uu(t.stateNode.containerInfo),un(i,t),hn(t),Wn=o;break;case 12:un(i,t),hn(t);break;case 31:un(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$c(t,o)));break;case 13:un(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Zc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$c(t,o)));break;case 22:h=t.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,B=Yi,X=Dt;if(Yi=B||h,Dt=X||O,un(i,t),Dt=X,Yi=B,hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||O||Yi||Dt||La(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){O=r=i;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=O.stateNode;var ee=O.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(me){Ze(O,O.return,me)}}}else if(i.tag===6){if(r===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(me){Ze(O,O.return,me)}}}else if(i.tag===18){if(r===null){O=i;try{var Q=O.stateNode;h?E_(Q,!0):E_(O.stateNode,!1)}catch(me){Ze(O,O.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,$c(t,r))));break;case 19:un(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$c(t,o)));break;case 30:break;case 21:break;default:un(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var r,o=t.return;o!==null;){if(by(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=Fd(t);Xc(t,d,h);break;case 5:var v=r.stateNode;r.flags&32&&(ln(v,""),r.flags&=-33);var b=Fd(t);Xc(t,b,v);break;case 3:case 4:var O=r.stateNode.containerInfo,B=Fd(t);Gd(t,B,O);break;default:throw Error(a(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Oy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ry(t,i.alternate,i),i=i.sibling}function La(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ds(4,i,i.return),La(i);break;case 1:Ai(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Ey(i,i.return,r),La(i);break;case 27:ol(i.stateNode);case 26:case 5:Ai(i,i.return),La(i);break;case 22:i.memoizedState===null&&La(i);break;case 30:La(i);break;default:La(i)}t=t.sibling}}function $i(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,r),Jo(4,d);break;case 1:if($i(h,d,r),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(o,o.return,B)}if(o=d,h=o.updateQueue,h!==null){var b=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)cp(O[h],b)}catch(B){Ze(o,o.return,B)}}r&&v&64&&Ty(d),Zo(d,d.return);break;case 27:Ay(d);case 26:case 5:$i(h,d,r),r&&o===null&&v&4&&Sy(d),Zo(d,d.return);break;case 12:$i(h,d,r);break;case 31:$i(h,d,r),r&&v&4&&Ny(h,d);break;case 13:$i(h,d,r),r&&v&4&&Dy(h,d);break;case 22:d.memoizedState===null&&$i(h,d,r),Zo(d,d.return);break;case 30:break;default:$i(h,d,r)}i=i.sibling}}function Yd(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Lo(r))}function Kd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t))}function ei(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(t,i,r,o),i=i.sibling}function jy(t,i,r,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,r,o),h&2048&&Jo(9,i);break;case 1:ei(t,i,r,o);break;case 3:ei(t,i,r,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t)));break;case 12:if(h&2048){ei(t,i,r,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ze(i,i.return,O)}}else ei(t,i,r,o);break;case 31:ei(t,i,r,o);break;case 13:ei(t,i,r,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,r,o):Wo(t,i):d._visibility&2?ei(t,i,r,o):(d._visibility|=2,Cr(t,i,r,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Yd(v,i);break;case 24:ei(t,i,r,o),h&2048&&Kd(i.alternate,i);break;default:ei(t,i,r,o)}}function Cr(t,i,r,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=r,O=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:Cr(d,v,b,O,h),Jo(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Cr(d,v,b,O,h):Wo(d,v):(X._visibility|=2,Cr(d,v,b,O,h)),h&&B&2048&&Yd(v.alternate,v);break;case 24:Cr(d,v,b,O,h),h&&B&2048&&Kd(v.alternate,v);break;default:Cr(d,v,b,O,h)}i=i.sibling}}function Wo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,h=o.flags;switch(o.tag){case 22:Wo(r,o),h&2048&&Yd(o.alternate,o);break;case 24:Wo(r,o),h&2048&&Kd(o.alternate,o);break;default:Wo(r,o)}i=i.sibling}}var el=8192;function Nr(t,i,r){if(t.subtreeFlags&el)for(t=t.child;t!==null;)My(t,i,r),t=t.sibling}function My(t,i,r){switch(t.tag){case 26:Nr(t,i,r),t.flags&el&&t.memoizedState!==null&&Ub(r,Wn,t.memoizedState,t.memoizedProps);break;case 5:Nr(t,i,r);break;case 3:case 4:var o=Wn;Wn=uu(t.stateNode.containerInfo),Nr(t,i,r),Wn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Nr(t,i,r),el=o):Nr(t,i,r));break;default:Nr(t,i,r)}}function Vy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Pt=o,Uy(o,t)}Vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Jc(t)):tl(t);break;default:tl(t)}}function Jc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Pt=o,Uy(o,t)}Vy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ds(8,i,i.return),Jc(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Jc(i));break;default:Jc(i)}t=t.sibling}}function Uy(t,i){for(;Pt!==null;){var r=Pt;switch(r.tag){case 0:case 11:case 15:Ds(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Pt=o;else e:for(r=t;Pt!==null;){o=Pt;var h=o.sibling,d=o.return;if(Iy(o),o===r){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var ZS={getCacheForType:function(t){var i=Gt(It),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Gt(It).controller.signal}},WS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,je=null,ke=0,Je=0,bn=null,xs=!1,Dr=!1,Xd=!1,Ji=0,ft=0,Os=0,Pa=0,$d=0,An=0,xr=0,nl=null,dn=null,Jd=!1,Zc=0,Ly=0,Wc=1/0,eu=null,js=null,Vt=0,Ms=null,Or=null,Zi=0,Zd=0,Wd=null,Py=null,il=0,ef=null;function wn(){return(Ye&2)!==0&&ke!==0?ke&-ke:P.T!==null?of():tc()}function zy(){if(An===0)if((ke&536870912)===0||Be){var t=da;da<<=1,(da&3932160)===0&&(da=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function fn(t,i,r){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(jr(t,0),Vs(t,ke,An,!1)),fa(t,r),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Pa|=r),ft===4&&Vs(t,ke,An,!1)),wi(t))}function By(t,i,r){if((Ye&6)!==0)throw Error(a(327));var o=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=o?nb(t,i):nf(t,i,!0),d=o;do{if(h===0){Dr&&!o&&Vs(t,i,0,!1);break}else{if(r=t.current.alternate,d&&!eb(r)){h=nf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=nl;var O=b.current.memoizedState.isDehydrated;if(O&&(jr(b,v).flags|=256),v=nf(b,v,!1),v!==2){if(Xd&&!O){b.errorRecoveryDisabledLanes|=d,Pa|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){jr(t,0),Vs(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Vs(o,i,An,!xs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Zc+300-nn(),10<h)){if(Vs(o,i,An,!xs),oi(o,0,!0)!==0)break e;Zi=i,o.timeoutHandle=__(qy.bind(null,o,r,dn,eu,Jd,i,An,Pa,xr,xs,d,"Throttled",-0,0),h);break e}qy(o,r,dn,eu,Jd,i,An,Pa,xr,xs,d,null,-0,0)}}break}while(!0);wi(t)}function qy(t,i,r,o,h,d,v,b,O,B,X,ee,q,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},My(i,d,ee);var me=(d&62914560)===d?Zc-nn():(d&4194048)===d?Ly-nn():0;if(me=Lb(ee,me),me!==null){Zi=d,t.cancelPendingCommit=me($y.bind(null,t,i,d,r,o,h,v,b,O,X,ee,null,q,Q)),Vs(t,d,v,!B);return}}$y(t,i,d,r,o,h,v,b,O)}function eb(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vs(t,i,r,o){i&=~$d,i&=~Pa,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),v=1<<d;o[d]=-1,h&=~v}r!==0&&ma(t,r,i)}function tu(){return(Ye&6)===0?(sl(0),!1):!0}function tf(){if(je!==null){if(Je===0)var t=je.return;else t=je,Bi=Da=null,yd(t),br=null,zo=0,t=je;for(;t!==null;)vy(t.alternate,t),t=t.return;je=null}}function jr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Tb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Zi=0,tf(),it=t,je=r=Pi(t.current,null),ke=i,Je=0,bn=null,xs=!1,Dr=Fn(t,i),Xd=!1,xr=An=$d=Pa=Os=ft=0,dn=nl=null,Jd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-pt(o),d=1<<h;i|=t[h],o&=~d}return Ji=i,Sc(),r}function Hy(t,i){De=null,P.H=Ko,i===Sr||i===Dc?(i=ap(),Je=3):i===ad?(i=ap(),Je=4):Je=i===jd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,je===null&&(ft=1,Fc(t,Mn(i,t.current)))}function Fy(){var t=En.current;return t===null?!0:(ke&4194048)===ke?Ln===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Ln:!1}function Gy(){var t=P.H;return P.H=Ko,t===null?Ko:t}function Qy(){var t=P.A;return P.A=ZS,t}function nu(){ft=4,xs||(ke&4194048)!==ke&&En.current!==null||(Dr=!0),(Os&134217727)===0&&(Pa&134217727)===0||it===null||Vs(it,ke,An,!1)}function nf(t,i,r){var o=Ye;Ye|=2;var h=Gy(),d=Qy();(it!==t||ke!==i)&&(eu=null,jr(t,i)),i=!1;var v=ft;e:do try{if(Je!==0&&je!==null){var b=je,O=bn;switch(Je){case 8:tf(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Je;if(Je=0,bn=null,Mr(t,b,O,B),r&&Dr){v=0;break e}break;default:B=Je,Je=0,bn=null,Mr(t,b,O,B)}}tb(),v=ft;break}catch(X){Hy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Bi=Da=null,Ye=o,P.H=h,P.A=d,je===null&&(it=null,ke=0,Sc()),v}function tb(){for(;je!==null;)Yy(je)}function nb(t,i){var r=Ye;Ye|=2;var o=Gy(),h=Qy();it!==t||ke!==i?(eu=null,Wc=nn()+500,jr(t,i)):Dr=Fn(t,i);e:do try{if(Je!==0&&je!==null){i=je;var d=bn;t:switch(Je){case 1:Je=0,bn=null,Mr(t,i,d,1);break;case 2:case 9:if(ip(d)){Je=0,bn=null,Ky(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),wi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ip(d)?(Je=0,bn=null,Ky(i)):(Je=0,bn=null,Mr(t,i,d,7));break;case 5:var v=null;switch(je.tag){case 26:v=je.memoizedState;case 5:case 27:var b=je;if(v?j_(v):b.stateNode.complete){Je=0,bn=null;var O=b.sibling;if(O!==null)je=O;else{var B=b.return;B!==null?(je=B,iu(B)):je=null}break t}}Je=0,bn=null,Mr(t,i,d,5);break;case 6:Je=0,bn=null,Mr(t,i,d,6);break;case 8:tf(),ft=6;break e;default:throw Error(a(462))}}ib();break}catch(X){Hy(t,X)}while(!0);return Bi=Da=null,P.H=o,P.A=h,Ye=r,je!==null?0:(it=null,ke=0,Sc(),ft)}function ib(){for(;je!==null&&!Oh();)Yy(je)}function Yy(t){var i=yy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?iu(t):je=i}function Ky(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=hy(r,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=hy(r,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:yd(i);default:vy(r,i),i=je=Qg(i,Ji),i=yy(r,i,Ji)}t.memoizedProps=t.pendingProps,i===null?iu(t):je=i}function Mr(t,i,r,o){Bi=Da=null,yd(i),br=null,zo=0;var h=i.return;try{if(GS(t,h,i,r,ke)){ft=1,Fc(t,Mn(r,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;ft=1,Fc(t,Mn(r,t.current)),je=null;return}i.flags&32768?(Be||o===1?t=!0:Dr||(ke&536870912)!==0?t=!1:(xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(i,t)):iu(i)}function iu(t){var i=t;do{if((i.flags&32768)!==0){Xy(i,xs);return}t=i.return;var r=KS(i.alternate,i,Ji);if(r!==null){je=r;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);ft===0&&(ft=5)}function Xy(t,i){do{var r=XS(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);ft=6,je=null}function $y(t,i,r,o,h,d,v,b,O){t.cancelPendingCommit=null;do su();while(Vt!==0);if((Ye&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Fh,Vh(t,r,d,v,b,O),t===it&&(je=it=null,ke=0),Or=i,Ms=t,Zi=r,Zd=d,Wd=h,Py=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ob(hs,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,h=ie.p,ie.p=2,v=Ye,Ye|=4;try{$S(t,i,r)}finally{Ye=v,ie.p=h,P.T=o}}Vt=1,Jy(),Zy(),Wy()}}function Jy(){if(Vt===1){Vt=0;var t=Ms,i=Or,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var o=ie.p;ie.p=2;var h=Ye;Ye|=4;try{xy(i,t);var d=gf,v=Ug(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&kg(b.ownerDocument.documentElement,b)){if(O!==null&&Ph(b)){var B=O.start,X=O.end;if(X===void 0&&(X=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(X,b.value.length);else{var ee=b.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var Q=q.getSelection(),me=b.textContent.length,Ee=Math.min(O.start,me),nt=O.end===void 0?Ee:Math.min(O.end,me);!Q.extend&&Ee>nt&&(v=nt,nt=Ee,Ee=v);var U=Vg(b,Ee),V=Vg(b,nt);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var z=ee.createRange();z.setStart(U.node,U.offset),Q.removeAllRanges(),Ee>nt?(Q.addRange(z),Q.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),Q.addRange(z))}}}}for(ee=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var $=ee[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}pu=!!mf,gf=mf=null}finally{Ye=h,ie.p=o,P.T=r}}t.current=i,Vt=2}}function Zy(){if(Vt===2){Vt=0;var t=Ms,i=Or,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var o=ie.p;ie.p=2;var h=Ye;Ye|=4;try{Ry(t,i.alternate,i)}finally{Ye=h,ie.p=o,P.T=r}}Vt=3}}function Wy(){if(Vt===4||Vt===3){Vt=0,Kl();var t=Ms,i=Or,r=Zi,o=Py;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Or=Ms=null,e_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),Vi(r),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=P.T,h=ie.p,ie.p=2,P.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var b=o[v];d(b.value,{componentStack:b.stack})}}finally{P.T=i,ie.p=h}}(Zi&3)!==0&&su(),wi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ef?il++:(il=0,ef=t):il=0,sl(0)}}function e_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Lo(i)))}function su(){return Jy(),Zy(),Wy(),t_()}function t_(){if(Vt!==5)return!1;var t=Ms,i=Zd;Zd=0;var r=Vi(Zi),o=P.T,h=ie.p;try{ie.p=32>r?32:r,P.T=null,r=Wd,Wd=null;var d=Ms,v=Zi;if(Vt=0,Or=Ms=null,Zi=0,(Ye&6)!==0)throw Error(a(331));var b=Ye;if(Ye|=4,ky(d.current),jy(d,d.current,v,r),Ye=b,sl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{ie.p=h,P.T=o,e_(t,i)}}function n_(t,i,r){i=Mn(r,i),i=Od(t.stateNode,i,2),t=Is(t,i,2),t!==null&&(fa(t,2),wi(t))}function Ze(t,i,r){if(t.tag===3)n_(t,t,r);else for(;i!==null;){if(i.tag===3){n_(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){t=Mn(r,t),r=iy(2),o=Is(i,r,2),o!==null&&(sy(r,o,i,t),fa(o,2),wi(o));break}}i=i.return}}function sf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new WS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(r)||(Xd=!0,h.add(r),t=sb.bind(null,t,i,r),i.then(t,t))}function sb(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,it===t&&(ke&r)===r&&(ft===4||ft===3&&(ke&62914560)===ke&&300>nn()-Zc?(Ye&2)===0&&jr(t,0):$d|=r,xr===ke&&(xr=0)),wi(t)}function i_(t,i){i===0&&(i=ec()),t=Ia(t,i),t!==null&&(fa(t,i),wi(t))}function ab(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),i_(t,r)}function rb(t,i){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),i_(t,r)}function ob(t,i){return Mt(t,i)}var au=null,Vr=null,af=!1,ru=!1,rf=!1,ks=0;function wi(t){t!==Vr&&t.next===null&&(Vr===null?au=Vr=t:Vr=Vr.next=t),ru=!0,af||(af=!0,cb())}function sl(t,i){if(!rf&&ru){rf=!0;do for(var r=!1,o=au;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,o_(o,d))}else d=ke,d=oi(o,o===it?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Fn(o,d)||(r=!0,o_(o,d));o=o.next}while(r);rf=!1}}function lb(){s_()}function s_(){ru=af=!1;var t=0;ks!==0&&vb()&&(t=ks);for(var i=nn(),r=null,o=au;o!==null;){var h=o.next,d=a_(o,i);d===0?(o.next=null,r===null?au=h:r.next=h,h===null&&(Vr=r)):(r=o,(t!==0||(d&3)!==0)&&(ru=!0)),o=h}Vt!==0&&Vt!==5||sl(t),ks!==0&&(ks=0)}function a_(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),b=1<<v,O=h[v];O===-1?((b&r)===0||(b&o)!==0)&&(h[v]=Mh(b,i)):O<=i&&(t.expiredLanes|=b),d&=~b}if(i=it,r=ke,r=oi(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&us(o),Vi(r)){case 2:case 8:r=mo;break;case 32:r=hs;break;case 268435456:r=Xl;break;default:r=hs}return o=r_.bind(null,t),r=Mt(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&us(o),t.callbackPriority=2,t.callbackNode=null,2}function r_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(su()&&t.callbackNode!==r)return null;var o=ke;return o=oi(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(By(t,o,i),a_(t,nn()),t.callbackNode!=null&&t.callbackNode===r?r_.bind(null,t):null)}function o_(t,i){if(su())return null;By(t,i,!0)}function cb(){Eb(function(){(Ye&6)!==0?Mt(fo,lb):s_()})}function of(){if(ks===0){var t=Tr;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),ks=t}return ks}function l_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ar(""+t)}function c_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function ub(t,i,r,o,h){if(i==="submit"&&r&&r.stateNode===h){var d=l_((h[Ut]||null).action),v=o.submitter;v&&(i=(i=v[Ut]||null)?l_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new _i("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var O=v?c_(h,v):new FormData(h);Rd(r,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=v?c_(h,v):new FormData(h),Rd(r,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var lf=0;lf<Hh.length;lf++){var cf=Hh[lf],hb=cf.toLowerCase(),db=cf[0].toUpperCase()+cf.slice(1);Zn(hb,"on"+db)}Zn(zg,"onAnimationEnd"),Zn(Bg,"onAnimationIteration"),Zn(qg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(CS,"onTransitionRun"),Zn(NS,"onTransitionStart"),Zn(DS,"onTransitionCancel"),Zn(Hg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function u_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var b=o[v],O=b.instance,B=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=B;try{d(h)}catch(X){Ec(X)}h.currentTarget=null,d=O}else for(v=0;v<o.length;v++){if(b=o[v],O=b.instance,B=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=B;try{d(h)}catch(X){Ec(X)}h.currentTarget=null,d=O}}}}function Me(t,i){var r=i[er];r===void 0&&(r=i[er]=new Set);var o=t+"__bubble";r.has(o)||(h_(i,t,2,!1),r.add(o))}function uf(t,i,r){var o=0;i&&(o|=4),h_(r,t,o,i)}var ou="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[ou]){t[ou]=!0,yo.forEach(function(r){r!=="selectionchange"&&(fb.has(r)||uf(r,!1,t),uf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ou]||(i[ou]=!0,uf("selectionchange",!1,i))}}function h_(t,i,r,o){switch(z_(i)){case 2:var h=Bb;break;case 8:h=qb;break;default:h=Rf}r=h.bind(null,i,r,t),h=void 0,!va||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function df(t,i,r,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=o.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=hi(b),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){o=d=v;continue e}b=b.parentNode}}o=o.return}ys(function(){var B=d,X=Dn(r),ee=[];e:{var q=Fg.get(t);if(q!==void 0){var Q=_i,me=t;switch(t){case"keypress":if(Ea(r)===0)break e;case"keydown":case"keyup":Q=_c;break;case"focusin":me="focus",Q=ba;break;case"focusout":me="blur",Q=ba;break;case"beforeblur":case"afterblur":Q=ba;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case zg:case Bg:case qg:Q=hc;break;case Hg:Q=R;break;case"scroll":case"scrollend":Q=No;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Li;break;case"toggle":case"beforetoggle":Q=Ne}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var V=B,z;V!==null;){var $=V;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||U===null||($=Kn(V,U),$!=null&&Ee.push(rl(V,$,z))),nt)break;V=V.return}0<Ee.length&&(q=new Q(q,me,null,r,X),ee.push({event:q,listeners:Ee}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&r!==Ro&&(me=r.relatedTarget||r.fromElement)&&(hi(me)||me[ci]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(me=r.relatedTarget||r.toElement,Q=B,me=me?hi(me):null,me!==null&&(nt=c(me),Ee=me.tag,me!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(Q=null,me=B),Q!==me)){if(Ee=Do,$="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Li,$="onPointerLeave",U="onPointerEnter",V="pointer"),nt=Q==null?q:yn(Q),z=me==null?q:yn(me),q=new Ee($,V+"leave",Q,r,X),q.target=nt,q.relatedTarget=z,$=null,hi(X)===B&&(Ee=new Ee(U,V+"enter",me,r,X),Ee.target=z,Ee.relatedTarget=nt,$=Ee),nt=$,Q&&me)t:{for(Ee=mb,U=Q,V=me,z=0,$=U;$;$=Ee($))z++;$=0;for(var _e=V;_e;_e=Ee(_e))$++;for(;0<z-$;)U=Ee(U),z--;for(;0<$-z;)V=Ee(V),$--;for(;z--;){if(U===V||V!==null&&U===V.alternate){Ee=U;break t}U=Ee(U),V=Ee(V)}Ee=null}else Ee=null;Q!==null&&d_(ee,q,Q,Ee,!1),me!==null&&nt!==null&&d_(ee,nt,me,Ee,!0)}}e:{if(q=B?yn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var He=Ng;else if(Ig(q))if(Dg)He=wS;else{He=bS;var ye=SS}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&sr(B.elementType)&&(He=Ng):He=AS;if(He&&(He=He(t,B))){Cg(ee,He,r,X);break e}ye&&ye(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&bo(q,"number",q.value)}switch(ye=B?yn(B):window,t){case"focusin":(Ig(ye)||ye.contentEditable==="true")&&(dr=ye,zh=B,Vo=null);break;case"focusout":Vo=zh=dr=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Lg(ee,r,X);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":Lg(ee,r,X)}var xe;if(Qe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else hr?Aa(t,r)&&(Ue="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ei&&r.locale!=="ko"&&(hr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&hr&&(xe=Co()):(yi=X,Io="value"in yi?yi.value:yi.textContent,hr=!0)),ye=lu(B,Ue),0<ye.length&&(Ue=new Ti(Ue,t,null,r,X),ee.push({event:Ue,listeners:ye}),xe?Ue.data=xe:(xe=ur(r),xe!==null&&(Ue.data=xe)))),(xe=On?_S(t,r):vS(t,r))&&(Ue=lu(B,"onBeforeInput"),0<Ue.length&&(ye=new Ti("onBeforeInput","beforeinput",null,r,X),ee.push({event:ye,listeners:Ue}),ye.data=xe)),ub(ee,t,B,r,X)}u_(ee,i)})}function rl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function lu(t,i){for(var r=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,r),h!=null&&o.unshift(rl(t,h,d)),h=Kn(t,i),h!=null&&o.push(rl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,i,r,o,h){for(var d=i._reactName,v=[];r!==null&&r!==o;){var b=r,O=b.alternate,B=b.stateNode;if(b=b.tag,O!==null&&O===o)break;b!==5&&b!==26&&b!==27||B===null||(O=B,h?(B=Kn(r,d),B!=null&&v.unshift(rl(r,B,O))):h||(B=Kn(r,d),B!=null&&v.push(rl(r,B,O)))),r=r.return}v.length!==0&&t.push({event:i,listeners:v})}var gb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(gb,`
`).replace(pb,"")}function m_(t,i){return i=f_(i),f_(t)===i}function tt(t,i,r,o,h,d){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":_n(t,"class",o);break;case"tabIndex":_n(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,r,o);break;case"style":wo(t,o,d);break;case"data":if(i!=="object"){_n(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ar(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ar(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ar(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),nr(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":nr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=lc.get(r)||r,nr(t,r,o))}}function ff(t,i,r,o,h,d){switch(r){case"style":wo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),d=t[Ut]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):nr(t,r,o)}}}function Yt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var v=r[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(t,i,d,v,r,null)}}h&&tt(t,i,"srcSet",r.srcSet,r,null),o&&tt(t,i,"src",r.src,r,null);return;case"input":Me("invalid",t);var b=d=v=h=null,O=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var X=r[o];if(X!=null)switch(o){case"name":h=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:tt(t,i,o,X,r,null)}}ac(t,d,b,O,B,v,h,!1);return;case"select":Me("invalid",t),o=v=d=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:tt(t,i,h,b,r,null)}i=d,r=v,t.multiple=!!o,i!=null?fs(t,!!o,i,!1):r!=null&&fs(t,!!o,r,!0);return;case"textarea":Me("invalid",t),d=h=o=null;for(v in r)if(r.hasOwnProperty(v)&&(b=r[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:tt(t,i,v,b,r,null)}ms(t,o,h,d);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(o=r[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,O,o,r,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<al.length;o++)Me(al[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(t,i,B,o,r,null)}return;default:if(sr(i)){for(X in r)r.hasOwnProperty(X)&&(o=r[X],o!==void 0&&ff(t,i,X,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&tt(t,i,b,o,r,null))}function yb(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,O=null,B=null,X=null;for(Q in r){var ee=r[Q];if(r.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ee;default:o.hasOwnProperty(Q)||tt(t,i,Q,null,o,ee)}}for(var q in o){var Q=o[q];if(ee=r[q],o.hasOwnProperty(q)&&(Q!=null||ee!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==ee&&tt(t,i,q,Q,o,ee)}}ir(t,v,b,O,B,X,d,h);return;case"select":Q=v=b=q=null;for(d in r)if(O=r[d],r.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:o.hasOwnProperty(d)||tt(t,i,d,null,o,O)}for(h in o)if(d=o[h],O=r[h],o.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==O&&tt(t,i,h,d,o,O)}i=b,r=v,o=Q,q!=null?fs(t,!!r,q,!1):!!o!=!!r&&(i!=null?fs(t,!!r,i,!0):fs(t,!!r,r?[]:"",!1));return;case"textarea":Q=q=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(t,i,b,null,o,h)}for(v in o)if(h=o[v],d=r[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&tt(t,i,v,h,o,d)}rc(t,q,Q);return;case"option":for(var me in r)if(q=r[me],r.hasOwnProperty(me)&&q!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:tt(t,i,me,null,o,q)}for(O in o)if(q=o[O],Q=r[O],o.hasOwnProperty(O)&&q!==Q&&(q!=null||Q!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(t,i,O,q,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)q=r[Ee],r.hasOwnProperty(Ee)&&q!=null&&!o.hasOwnProperty(Ee)&&tt(t,i,Ee,null,o,q);for(B in o)if(q=o[B],Q=r[B],o.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:tt(t,i,B,q,o,Q)}return;default:if(sr(i)){for(var nt in r)q=r[nt],r.hasOwnProperty(nt)&&q!==void 0&&!o.hasOwnProperty(nt)&&ff(t,i,nt,void 0,o,q);for(X in o)q=o[X],Q=r[X],!o.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||ff(t,i,X,q,o,Q);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&tt(t,i,U,null,o,q);for(ee in o)q=o[ee],Q=r[ee],!o.hasOwnProperty(ee)||q===Q||q==null&&Q==null||tt(t,i,ee,q,o,Q)}function g_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _b(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&g_(v)){for(v=0,b=h.responseEnd,o+=1;o<r.length;o++){var O=r[o],B=O.startTime;if(B>b)break;var X=O.transferSize,ee=O.initiatorType;X&&g_(ee)&&(O=O.responseEnd,v+=X*(O<b?1:(b-B)/(O-B)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mf=null,gf=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function p_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yf=null;function vb(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,Tb=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(Sb)}:__;function Sb(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function T_(t,i){var r=i,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Pr(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ol(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ol(r);for(var d=r.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[ui]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=v}}else r==="body"&&ol(t.ownerDocument.body);r=h}while(r);Pr(i)}function E_(t,i){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function _f(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_f(r),tr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function bb(t,i,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function Ab(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function S_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wb(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ef=null;function b_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Pn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function w_(t,i,r){switch(i=cu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);tr(t)}var zn=new Map,R_=new Set;function uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=ie.d;ie.d={f:Rb,r:Ib,D:Cb,C:Nb,L:Db,m:xb,X:jb,S:Ob,M:Mb};function Rb(){var t=Wi.f(),i=tu();return t||i}function Ib(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?Hp(i):Wi.r(t)}var kr=typeof document>"u"?null:document;function I_(t,i,r){var o=kr;if(o&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),R_.has(h)||(R_.add(h),t={rel:t,crossOrigin:r,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Yt(i,"link",t),wt(i),o.head.appendChild(i)))}}function Cb(t){Wi.D(t),I_("dns-prefetch",t,null)}function Nb(t,i){Wi.C(t,i),I_("preconnect",t,i)}function Db(t,i,r){Wi.L(t,i,r);var o=kr;if(o&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+on(r.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var d=h;switch(i){case"style":d=Ur(t);break;case"script":d=Lr(t)}zn.has(d)||(t=w({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),zn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(ll(d))||i==="script"&&o.querySelector(cl(d))||(i=o.createElement("link"),Yt(i,"link",t),wt(i),o.head.appendChild(i)))}}function xb(t,i){Wi.m(t,i);var r=kr;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Lr(t)}if(!zn.has(d)&&(t=w({rel:"modulepreload",href:t},i),zn.set(d,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(cl(d)))return}o=r.createElement("link"),Yt(o,"link",t),wt(o),r.head.appendChild(o)}}}function Ob(t,i,r){Wi.S(t,i,r);var o=kr;if(o&&t){var h=di(o).hoistableStyles,d=Ur(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(ll(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},r),(r=zn.get(d))&&Sf(t,r);var O=v=o.createElement("link");wt(O),Yt(O,"link",t),O._p=new Promise(function(B,X){O.onload=B,O.onerror=X}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,hu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function jb(t,i){Wi.X(t,i);var r=kr;if(r&&t){var o=di(r).hoistableScripts,h=Lr(t),d=o.get(h);d||(d=r.querySelector(cl(h)),d||(t=w({src:t,async:!0},i),(i=zn.get(h))&&bf(t,i),d=r.createElement("script"),wt(d),Yt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Mb(t,i){Wi.M(t,i);var r=kr;if(r&&t){var o=di(r).hoistableScripts,h=Lr(t),d=o.get(h);d||(d=r.querySelector(cl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&bf(t,i),d=r.createElement("script"),wt(d),Yt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function C_(t,i,r,o){var h=(h=Ce.current)?uu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Ur(r.href),r=di(h).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ur(r.href);var d=di(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ll(t)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),d||Vb(h,t,r,v.state))),i&&o===null)throw Error(a(528,""));return v}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Lr(r),r=di(h).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ur(t){return'href="'+on(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function N_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Vb(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yt(i,"link",r),wt(i),t.head.appendChild(i))}function Lr(t){return'[src="'+on(t)+'"]'}function cl(t){return"script[async]"+t}function D_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+on(r.href)+'"]');if(o)return i.instance=o,wt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Yt(o,"style",h),hu(o,r.precedence,t),i.instance=o;case"stylesheet":h=Ur(r.href);var d=t.querySelector(ll(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;o=N_(r),(h=zn.get(h))&&Sf(o,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var v=d;return v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),Yt(d,"link",o),i.state.loading|=4,hu(d,r.precedence,t),i.instance=d;case"script":return d=Lr(r.src),(h=t.querySelector(cl(d)))?(i.instance=h,wt(h),h):(o=r,(h=zn.get(d))&&(o=w({},r),bf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Yt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,hu(o,r.precedence,t));return i.instance}function hu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Sf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var du=null;function x_(t,i,r){if(du===null){var o=new Map,h=du=new Map;h.set(r,o)}else h=du,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[ui]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=o.get(v);b?b.push(d):o.set(v,[d])}}return o}function O_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function kb(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function j_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ub(t,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ur(o.href),d=i.querySelector(ll(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=fu.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=d,wt(d);return}d=i.ownerDocument||i,o=N_(o),(h=zn.get(h))&&Sf(o,h),d=d.createElement("link"),wt(d);var v=d;v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),Yt(d,"link",o),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=fu.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var Af=0;function Lb(t,i){return t.stylesheets&&t.count===0&&gu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&gu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Af===0&&(Af=62500*_b());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Af?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mu=null;function gu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mu=new Map,i.forEach(Pb,t),mu=null,fu.call(t))}function Pb(t,i){if(!(i.state.loading&4)){var r=mu.get(t);if(r)var o=r.get(null);else{r=new Map,mu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=r.get(v)||o,d===o&&r.set(null,h),r.set(v,h),this.count++,o=fu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ul={$$typeof:H,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function zb(t,i,r,o,h,d,v,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function M_(t,i,r,o,h,d,v,b,O,B,X,ee){return t=new zb(t,i,r,v,O,B,X,ee,b),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=nd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:i},rd(d),t}function V_(t){return t?(t=gr,t):gr}function k_(t,i,r,o,h,d){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(i),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Is(t,o,i),r!==null&&(fn(r,t,i),qo(r,t,i))}function U_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function wf(t,i){U_(t,i),(t=t.alternate)&&U_(t,i)}function L_(t){if(t.tag===13||t.tag===31){var i=Ia(t,67108864);i!==null&&fn(i,t,67108864),wf(t,67108864)}}function P_(t){if(t.tag===13||t.tag===31){var i=wn();i=ga(i);var r=Ia(t,i);r!==null&&fn(r,t,i),wf(t,i)}}var pu=!0;function Bb(t,i,r,o){var h=P.T;P.T=null;var d=ie.p;try{ie.p=2,Rf(t,i,r,o)}finally{ie.p=d,P.T=h}}function qb(t,i,r,o){var h=P.T;P.T=null;var d=ie.p;try{ie.p=8,Rf(t,i,r,o)}finally{ie.p=d,P.T=h}}function Rf(t,i,r,o){if(pu){var h=If(o);if(h===null)df(t,i,o,yu,r),B_(t,o);else if(Fb(h,t,i,r,o))o.stopPropagation();else if(B_(t,o),i&4&&-1<Hb.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ri(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var O=1<<31-pt(v);b.entanglements[1]|=O,v&=~O}wi(d),(Ye&6)===0&&(Wc=nn()+500,sl(0))}}break;case 31:case 13:b=Ia(d,2),b!==null&&fn(b,d,2),tu(),wf(d,2)}if(d=If(o),d===null&&df(t,i,o,yu,r),d===h)break;h=d}h!==null&&o.stopPropagation()}else df(t,i,o,null,r)}}function If(t){return t=Dn(t),Cf(t)}var yu=null;function Cf(t){if(yu=null,t=hi(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=f(i),t!==null)return t;t=null}else if(r===31){if(t=g(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return yu=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case fo:return 2;case mo:return 8;case hs:case jh:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var Nf=!1,Ls=null,Ps=null,zs=null,hl=new Map,dl=new Map,Bs=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,i){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function fl(t,i,r,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&L_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Fb(t,i,r,o,h){switch(i){case"focusin":return Ls=fl(Ls,t,i,r,o,h),!0;case"dragenter":return Ps=fl(Ps,t,i,r,o,h),!0;case"mouseover":return zs=fl(zs,t,i,r,o,h),!0;case"pointerover":var d=h.pointerId;return hl.set(d,fl(hl.get(d)||null,t,i,r,o,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,fl(dl.get(d)||null,t,i,r,o,h)),!0}return!1}function q_(t){var i=hi(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){t.blockedOn=i,Gn(t.priority,function(){P_(r)});return}}else if(i===31){if(i=g(r),i!==null){t.blockedOn=i,Gn(t.priority,function(){P_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=If(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return i=Nn(r),i!==null&&L_(i),t.blockedOn=r,!1;i.shift()}return!0}function H_(t,i,r){_u(t)&&r.delete(i)}function Gb(){Nf=!1,Ls!==null&&_u(Ls)&&(Ls=null),Ps!==null&&_u(Ps)&&(Ps=null),zs!==null&&_u(zs)&&(zs=null),hl.forEach(H_),dl.forEach(H_)}function vu(t,i){t.blockedOn===i&&(t.blockedOn=null,Nf||(Nf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Gb)))}var Tu=null;function F_(t){Tu!==t&&(Tu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tu===t&&(Tu=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Cf(o||r)===null)continue;break}var d=Nn(r);d!==null&&(t.splice(i,3),i-=3,Rd(d,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Pr(t){function i(O){return vu(O,t)}Ls!==null&&vu(Ls,t),Ps!==null&&vu(Ps,t),zs!==null&&vu(zs,t),hl.forEach(i),dl.forEach(i);for(var r=0;r<Bs.length;r++){var o=Bs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Bs.length&&(r=Bs[0],r.blockedOn===null);)q_(r),r.blockedOn===null&&Bs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],d=r[o+1],v=h[Ut]||null;if(typeof d=="function")v||F_(r);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ut]||null)b=v.formAction;else if(Cf(h)!==null)continue}else b=v.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),F_(r)}}}function G_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Df(t){this._internalRoot=t}Eu.prototype.render=Df.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=wn();k_(r,o,t,i,null,null)},Eu.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;k_(t.current,2,null,t,null,null),tu(),i[ci]=null}};function Eu(t){this._internalRoot=t}Eu.prototype.unstable_scheduleHydration=function(t){if(t){var i=tc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Bs.length&&i!==0&&i<Bs[r].priority;r++);Bs.splice(r,0,t),r===0&&q_(t)}};var Q_=e.version;if(Q_!=="19.2.0")throw Error(a(527,Q_,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Qb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Hn=Su.inject(Qb),qt=Su}catch{}}return gl.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",h=Wp,d=ey,v=ty;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=M_(t,1,!1,null,null,r,o,null,h,d,v,G_),t[ci]=i.current,hf(t),new Df(i)},gl.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,h="",d=Wp,v=ey,b=ty,O=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(O=r.formState)),i=M_(t,1,!0,i,r??null,o,h,O,d,v,b,G_),i.context=V_(null),r=i.current,o=wn(),o=ga(o),h=Rs(o),h.callback=null,Is(r,h,o),r=o,i.current.lanes=r,fa(i,r),wi(i),t[ci]=i.current,hf(t),new Eu(i)},gl.version="19.2.0",gl}var nv;function nA(){if(nv)return jf.exports;nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jf.exports=tA(),jf.exports}var iA=nA();const sA=()=>{};var iv={};const U0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},aA=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],f=s[n++],g=s[n++],_=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[n++],f=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],f=l+1<s.length,g=f?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,E=c>>2,w=(c&3)<<4|g>>4;let C=(g&15)<<2|p>>6,j=p&63;_||(j=64,f||(C=64)),a.push(n[E],n[w],n[C],n[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(U0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):aA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const w=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||p==null||w==null)throw new rA;const C=c<<2|g>>4;if(a.push(C),p!==64){const j=g<<4&240|p>>2;if(a.push(j),w!==64){const F=p<<6&192|w;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(s){const e=U0(s);return L0.encodeByteArray(e,!0)},Pu=function(s){return oA(s).replace(/\./g,"")},P0=function(s){try{return L0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cA=()=>lA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof iv>"u")return;const s=iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},hA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&P0(s[1]);return e&&JSON.parse(e)},rh=()=>{try{return sA()||cA()||uA()||hA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},z0=s=>rh()?.emulatorHosts?.[s],dA=s=>{const e=z0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},B0=()=>rh()?.config,q0=s=>rh()?.[`_${s}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function no(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(s){return(await fetch(s,{credentials:"include"})).ok}function mA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pu(JSON.stringify(n)),Pu(JSON.stringify(f)),""].join(".")}const Tl={};function gA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?s.emulator.push(e):s.prod.push(e);return s}function pA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let sv=!1;function F0(s,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Tl[s]===e||Tl[s]||sv)return;Tl[s]=e;function n(C){return`__firebase__banner__${C}`}const a="__firebase__banner",c=gA().prod.length>0;function f(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function p(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{sv=!0,f()},C}function E(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=pA(a),j=n("text"),F=document.getElementById(j)||document.createElement("span"),Z=n("learnmore"),Y=document.getElementById(Z)||document.createElement("a"),oe=n("preprendIcon"),he=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const H=C.element;g(H),E(Y,Z);const ce=p();_(he,oe),H.append(he,F,Y,ce),document.body.appendChild(H)}c?(F.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function _A(){const s=rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function bA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const RA="FirebaseError";class cs extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=RA,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?IA(c,a):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new cs(l,g,a)}}function IA(s,e){return s.replace(CA,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const CA=/\{\$([^}]+)}/g;function NA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Qa(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],f=e[l];if(av(c)&&av(f)){if(!Qa(c,f))return!1}else if(c!==f)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function av(s){return s!==null&&typeof s=="object"}function kl(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function DA(s,e){const n=new xA(s,e);return n.subscribe.bind(n)}class xA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");OA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Uf),l.error===void 0&&(l.error=Uf),l.complete===void 0&&(l.complete=Uf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Uf(){}function Bt(s){return s&&s._delegate?s._delegate:s}class Ya{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class jA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new fA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MA(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(s){return s===za?void 0:s}function VA(s){return s.instantiationMode==="EAGER"}class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const UA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},LA=Le.INFO,PA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},zA=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=PA[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const BA=(s,e)=>e.some(n=>s instanceof n);let rv,ov;function qA(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,$f=new WeakMap,Q0=new WeakMap,Lf=new WeakMap,Rm=new WeakMap;function FA(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(Ks(s.result)),l()},f=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,s)}).catch(()=>{}),Rm.set(e,s),e}function GA(s){if($f.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});$f.set(s,e)}let Jf={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return $f.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Q0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function QA(s){Jf=s(Jf)}function YA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Pf(this),e,...n);return Q0.set(a,e.sort?e.sort():[e]),Ks(a)}:HA().includes(s)?function(...e){return s.apply(Pf(this),e),Ks(G0.get(this))}:function(...e){return Ks(s.apply(Pf(this),e))}}function KA(s){return typeof s=="function"?YA(s):(s instanceof IDBTransaction&&GA(s),BA(s,qA())?new Proxy(s,Jf):s)}function Ks(s){if(s instanceof IDBRequest)return FA(s);if(Lf.has(s))return Lf.get(s);const e=KA(s);return e!==s&&(Lf.set(s,e),Rm.set(e,s)),e}const Pf=s=>Rm.get(s);function XA(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const f=indexedDB.open(s,e),g=Ks(f);return a&&f.addEventListener("upgradeneeded",_=>{a(Ks(f.result),_.oldVersion,_.newVersion,Ks(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const $A=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],zf=new Map;function lv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=JA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||$A.includes(n)))return;const c=async function(f,...g){const _=this.transaction(f,l?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&_.done]))[0]};return zf.set(e,c),c}QA(s=>({...s,get:(e,n,a)=>lv(e,n)||s.get(e,n,a),has:(e,n)=>!!lv(e,n)||s.has(e,n)}));class ZA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function WA(s){return s.getComponent()?.type==="VERSION"}const Zf="@firebase/app",cv="0.14.6";const ss=new wm("@firebase/app"),e1="@firebase/app-compat",t1="@firebase/analytics-compat",n1="@firebase/analytics",i1="@firebase/app-check-compat",s1="@firebase/app-check",a1="@firebase/auth",r1="@firebase/auth-compat",o1="@firebase/database",l1="@firebase/data-connect",c1="@firebase/database-compat",u1="@firebase/functions",h1="@firebase/functions-compat",d1="@firebase/installations",f1="@firebase/installations-compat",m1="@firebase/messaging",g1="@firebase/messaging-compat",p1="@firebase/performance",y1="@firebase/performance-compat",_1="@firebase/remote-config",v1="@firebase/remote-config-compat",T1="@firebase/storage",E1="@firebase/storage-compat",S1="@firebase/firestore",b1="@firebase/ai",A1="@firebase/firestore-compat",w1="firebase",R1="12.6.0";const Wf="[DEFAULT]",I1={[Zf]:"fire-core",[e1]:"fire-core-compat",[n1]:"fire-analytics",[t1]:"fire-analytics-compat",[s1]:"fire-app-check",[i1]:"fire-app-check-compat",[a1]:"fire-auth",[r1]:"fire-auth-compat",[o1]:"fire-rtdb",[l1]:"fire-data-connect",[c1]:"fire-rtdb-compat",[u1]:"fire-fn",[h1]:"fire-fn-compat",[d1]:"fire-iid",[f1]:"fire-iid-compat",[m1]:"fire-fcm",[g1]:"fire-fcm-compat",[p1]:"fire-perf",[y1]:"fire-perf-compat",[_1]:"fire-rc",[v1]:"fire-rc-compat",[T1]:"fire-gcs",[E1]:"fire-gcs-compat",[S1]:"fire-fst",[A1]:"fire-fst-compat",[b1]:"fire-vertex","fire-js":"fire-js",[w1]:"fire-js-all"};const zu=new Map,C1=new Map,em=new Map;function uv(s,e){try{s.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Kr(s){const e=s.name;if(em.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,s);for(const n of zu.values())uv(n,s);for(const n of C1.values())uv(n,s);return!0}function Im(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ti(s){return s==null?!1:s.settings!==void 0}const N1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Vl("app","Firebase",N1);class D1{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const io=R1;function Y0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Wf,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(n||(n=B0()),!n)throw Xs.create("no-options");const c=zu.get(l);if(c){if(Qa(n,c.options)&&Qa(a,c.config))return c;throw Xs.create("duplicate-app",{appName:l})}const f=new kA(l);for(const _ of em.values())f.addComponent(_);const g=new D1(n,a,f);return zu.set(l,g),g}function K0(s=Wf){const e=zu.get(s);if(!e&&s===Wf&&B0())return Y0();if(!e)throw Xs.create("no-app",{appName:s});return e}function $s(s,e,n){let a=I1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(f.join(" "));return}Kr(new Ya(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const x1="firebase-heartbeat-database",O1=1,Rl="firebase-heartbeat-store";let Bf=null;function X0(){return Bf||(Bf=XA(x1,O1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),Bf}async function j1(s){try{const n=(await X0()).transaction(Rl),a=await n.objectStore(Rl).get($0(s));return await n.done,a}catch(e){if(e instanceof cs)ss.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}}async function hv(s,e){try{const a=(await X0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(e,$0(s)),await a.done}catch(n){if(n instanceof cs)ss.warn(n.message);else{const a=Xs.create("idb-set",{originalErrorMessage:n?.message});ss.warn(a.message)}}}function $0(s){return`${s.name}!${s.options.appId}`}const M1=1024,V1=30;class k1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>V1){const l=P1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dv(),{heartbeatsToSend:n,unsentEntries:a}=U1(this._heartbeatsCache.heartbeats),l=Pu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ss.warn(e),""}}}function dv(){return new Date().toISOString().substring(0,10)}function U1(s,e=M1){const n=[];let a=s.slice();for(const l of s){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),fv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),fv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class L1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fv(s){return Pu(JSON.stringify({version:2,heartbeats:s})).length}function P1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}function z1(s){Kr(new Ya("platform-logger",e=>new ZA(e),"PRIVATE")),Kr(new Ya("heartbeat",e=>new k1(e),"PRIVATE")),$s(Zf,cv,s),$s(Zf,cv,"esm2020"),$s("fire-js","")}z1("");var B1="firebase",q1="12.6.0";$s(B1,q1,"app");function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H1=J0,Z0=new Vl("auth","Firebase",J0());const Bu=new wm("@firebase/auth");function F1(s,...e){Bu.logLevel<=Le.WARN&&Bu.warn(`Auth (${io}): ${s}`,...e)}function Nu(s,...e){Bu.logLevel<=Le.ERROR&&Bu.error(`Auth (${io}): ${s}`,...e)}function Oi(s,...e){throw Nm(s,...e)}function ii(s,...e){return Nm(s,...e)}function Cm(s,e,n){const a={...H1(),[e]:n};return new Vl("auth","Firebase",a).create(e,{appName:s.name})}function Ha(s){return Cm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G1(s,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Oi(s,"argument-error"),Cm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nm(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return Z0.create(s,...e)}function Ae(s,e,...n){if(!s)throw Nm(e,...n)}function ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Nu(e),new Error(e)}function as(s,e){s||ts(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function Q1(){return mv()==="http:"||mv()==="https:"}function mv(){return typeof self<"u"&&self.location?.protocol||null}function Y1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q1()||TA()||"connection"in navigator)?navigator.onLine:!0}function K1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=yA()||EA()}get(){return Y1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(s,e){as(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class W0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J1=new Ul(3e4,6e4);function xm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function so(s,e,n,a,l={}){return eT(s,l,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const g=kl({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:_,...c};return vA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&no(s.emulatorConfig.host)&&(p.credentials="include"),W0.fetch()(await tT(s,s.config.apiHost,n,g),p)})}async function eT(s,e,n){s._canInitEmulator=!1;const a={...X1,...e};try{const l=new W1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw bu(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw bu(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw bu(s,"user-disabled",f);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cm(s,E,p);Oi(s,E)}}catch(l){if(l instanceof cs)throw l;Oi(s,"network-request-failed",{message:String(l)})}}async function Z1(s,e,n,a,l={}){const c=await so(s,e,n,a,l);return"mfaPendingCredential"in c&&Oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function tT(s,e,n,a){const l=`${e}${n}?${a}`,c=s,f=c.config.emulator?Dm(s.config,l):`${s.config.apiScheme}://${l}`;return $1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class W1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),J1.get())})}}function bu(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=ii(s,e,a);return l.customData._tokenResponse=n,l}async function ew(s,e){return so(s,"POST","/v1/accounts:delete",e)}async function qu(s,e){return so(s,"POST","/v1/accounts:lookup",e)}function El(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tw(s,e=!1){const n=Bt(s),a=await n.getIdToken(e),l=Om(a);Ae(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:a,authTime:El(qf(l.auth_time)),issuedAtTime:El(qf(l.iat)),expirationTime:El(qf(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qf(s){return Number(s)*1e3}function Om(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{const l=P0(n);return l?JSON.parse(l):(Nu("Failed to decode base64 JWT payload"),null)}catch(l){return Nu("Caught error parsing JWT payload as JSON",l?.toString()),null}}function gv(s){const e=Om(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Il(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof cs&&nw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function nw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class iw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hu(s){const e=s.auth,n=await s.getIdToken(),a=await Il(s,qu(e,{idToken:n}));Ae(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?nT(l.providerUserInfo):[],f=aw(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!f?.length,p=g?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,E)}async function sw(s){const e=Bt(s);await Hu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aw(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function nT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rw(s,e){const n=await eT(s,{},async()=>{const a=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,f=await tT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&no(s.emulatorConfig.host)&&(_.credentials="include"),W0.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ow(s,e){return so(s,"POST","/v2/accounts:revokeToken",xm(s,e))}class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await rw(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,f=new Fr;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Hs(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tw(this,e)}reload(){return sw(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Hu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await Il(this,ew(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:C,isAnonymous:j,providerData:F,stsTokenManager:Z}=n;Ae(w&&Z,e,"internal-error");const Y=Fr.fromJSON(this.name,Z);Ae(typeof w=="string",e,"internal-error"),Hs(a,e.name),Hs(l,e.name),Ae(typeof C=="boolean",e,"internal-error"),Ae(typeof j=="boolean",e,"internal-error"),Hs(c,e.name),Hs(f,e.name),Hs(g,e.name),Hs(_,e.name),Hs(p,e.name),Hs(E,e.name);const oe=new ni({uid:w,auth:e,email:l,emailVerified:C,displayName:a,isAnonymous:j,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:Y,createdAt:p,lastLoginAt:E});return F&&Array.isArray(F)&&(oe.providerData=F.map(he=>({...he}))),_&&(oe._redirectEventId=_),oe}static async _fromIdTokenResponse(e,n,a=!1){const l=new Fr;l.updateFromServerResponse(n);const c=new ni({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Hu(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?nT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Fr;g.updateFromIdToken(a);const _=new ni({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const pv=new Map;function ns(s){as(s instanceof Function,"Expected a class definition");let e=pv.get(s);return e?(as(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,pv.set(s,e),e)}class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const yv=iT;function Du(s,e,n){return`firebase:${s}:${e}:${n}`}class Gr{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Du(this.userKey,l.apiKey,c),this.fullPersistenceKey=Du("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qu(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Gr(ns(yv),e,a);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||ns(yv);const f=Du(a,e.config.apiKey,e.name);let g=null;for(const p of n)try{const E=await p._get(f);if(E){let w;if(typeof E=="string"){const C=await qu(e,{idToken:E}).catch(()=>{});if(!C)break;w=await ni._fromGetAccountInfoResponse(e,C,E)}else w=ni._fromJSON(e,E);p!==c&&(g=w),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Gr(c,e,a):(c=_[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(f)}catch{}})),new Gr(c,e,a))}}function _v(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(uT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function sT(s=tn()){return/firefox\//i.test(s)}function aT(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(s=tn()){return/crios\//i.test(s)}function oT(s=tn()){return/iemobile/i.test(s)}function lT(s=tn()){return/android/i.test(s)}function cT(s=tn()){return/blackberry/i.test(s)}function uT(s=tn()){return/webos/i.test(s)}function jm(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function lw(s=tn()){return jm(s)&&!!window.navigator?.standalone}function cw(){return SA()&&document.documentMode===10}function hT(s=tn()){return jm(s)||lT(s)||uT(s)||cT(s)||/windows phone/i.test(s)||oT(s)}function dT(s,e=[]){let n;switch(s){case"Browser":n=_v(tn());break;case"Worker":n=`${_v(tn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${a}`}class uw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,g)=>{try{const _=e(c);f(_)}catch(_){g(_)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function hw(s,e={}){return so(s,"GET","/v2/passwordPolicy",xm(s,e))}const dw=6;class fw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class mw{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qu(this,{idToken:e}),a=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Ha(this));const n=e?Bt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hw(this),n=new fw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ow(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Gr.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,a,l);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oh(s){return Bt(s)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=DA(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gw(s){Mm=s}function pw(s){return Mm.loadJS(s)}function yw(){return Mm.gapiScript}function _w(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function vw(s,e){const n=Im(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Qa(c,e??{}))return l;Oi(l,"already-initialized")}return n.initialize({options:e})}function Tw(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ns);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Ew(s,e,n){const a=oh(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=fT(e),{host:f,port:g}=Sw(e),_=g===null?"":`:${g}`,p={url:`${c}//${f}${_}/`},E=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Qa(p,a.config.emulator)&&Qa(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,no(f)?(H0(`${c}//${f}${_}`),F0("Auth",!0)):bw()}function fT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Sw(s){const e=fT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Tv(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:Tv(f)}}}function Tv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function bw(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class mT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function Qr(s,e){return Z1(s,"POST","/v1/accounts:signInWithIdp",xm(s,e))}const Aw="http://localhost";class Ka extends mT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=n;if(!a||!l)return null;const f=new Ka(a,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Qr(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Qr(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qr(e,n)}buildRequest(){const e={requestUri:Aw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}class Vm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ll extends Vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fs extends Ll{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class es extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return es.credential(n,a)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class Gs extends Ll{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends Ll{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Qs.credential(n,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await ni._fromIdTokenResponse(e,a,l),f=Ev(a);return new Xr({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=Ev(a);return new Xr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function Ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Fu extends cs{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Fu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Fu(e,n,a,l)}}function gT(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fu._fromErrorAndOperation(s,c,e,a):c})}async function ww(s,e,n=!1){const a=await Il(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Xr._forOperation(s,"link",a)}async function Rw(s,e,n=!1){const{auth:a}=s;if(ti(a.app))return Promise.reject(Ha(a));const l="reauthenticate";try{const c=await Il(s,gT(a,l,e,s),n);Ae(c.idToken,a,"internal-error");const f=Om(c.idToken);Ae(f,a,"internal-error");const{sub:g}=f;return Ae(s.uid===g,a,"user-mismatch"),Xr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Oi(a,"user-mismatch"),c}}async function Iw(s,e,n=!1){if(ti(s.app))return Promise.reject(Ha(s));const a="signIn",l=await gT(s,a,e),c=await Xr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}function Cw(s,e,n,a){return Bt(s).onIdTokenChanged(e,n,a)}function Nw(s,e,n){return Bt(s).beforeAuthStateChanged(e,n)}function Dw(s,e,n,a){return Bt(s).onAuthStateChanged(e,n,a)}function xw(s){return Bt(s).signOut()}const Gu="__sak";class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ow=1e3,jw=10;class yT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);cw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,jw):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const Mw=yT;class _T extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_T.type="SESSION";const vT=_T;function Vw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new lh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(f).map(async p=>p(n.origin,c)),_=await Vw(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function km(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class kw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,_)=>{const p=km("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(w){const C=w;if(C.data.eventId===p)switch(C.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function Uw(s){Ii().location.href=s}function TT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pw(){return navigator?.serviceWorker?.controller||null}function zw(){return TT()?self:null}const ET="firebaseLocalStorageDb",Bw=1,Qu="firebaseLocalStorage",ST="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(s,e){return s.transaction([Qu],e?"readwrite":"readonly").objectStore(Qu)}function qw(){const s=indexedDB.deleteDatabase(ET);return new Pl(s).toPromise()}function im(){const s=indexedDB.open(ET,Bw);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Qu,{keyPath:ST})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Qu)?e(a):(a.close(),await qw(),e(await im()))})})}async function Sv(s,e,n){const a=ch(s,!0).put({[ST]:e,value:n});return new Pl(a).toPromise()}async function Hw(s,e){const n=ch(s,!1).get(e),a=await new Pl(n).toPromise();return a===void 0?null:a.value}function bv(s,e){const n=ch(s,!0).delete(e);return new Pl(n).toPromise()}const Fw=800,Gw=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Gw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(zw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await Sv(e,Gu,"1"),await bv(e,Gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Sv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Hw(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new Pl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const Qw=bT;new Ul(3e4,6e4);function AT(s,e){return e?ns(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Um extends mT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yw(s){return Iw(s.auth,new Um(s),s.bypassAuthState)}function Kw(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),Rw(n,new Um(s),s.bypassAuthState)}async function Xw(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),ww(n,new Um(s),s.bypassAuthState)}class wT{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yw;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Kw;default:Oi(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $w=new Ul(2e3,1e4);async function Jw(s,e,n){if(ti(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const a=oh(s);G1(s,e,Vm);const l=AT(a,n);return new Ba(a,"signInViaPopup",e,l).executeNotNull()}class Ba extends wT{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$w.get())};e()}}Ba.currentPopupAction=null;const Zw="pendingRedirect",xu=new Map;class Ww extends wT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const a=await eR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eR(s,e){const n=iR(e),a=nR(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function tR(s,e){xu.set(s._key(),e)}function nR(s){return ns(s._redirectPersistence)}function iR(s){return Du(Zw,s.config.apiKey,s.name)}async function sR(s,e,n=!1){if(ti(s.app))return Promise.reject(Ha(s));const a=oh(s),l=AT(a,e),f=await new Ww(a,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const aR=600*1e3;class rR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(e))}saveEventToCache(e){this.cachedEventUids.add(Av(e)),this.lastProcessedEventTime=Date.now()}}function Av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function RT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function oR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(s);default:return!1}}async function lR(s,e={}){return so(s,"GET","/v1/projects",e)}const cR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uR=/^https?/;async function hR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lR(s);for(const n of e)try{if(dR(n))return}catch{}Oi(s,"unauthorized-domain")}function dR(s){const e=tm(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!uR.test(n))return!1;if(cR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const fR=new Ul(3e4,6e4);function wv(){const s=Ii().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function mR(s){return new Promise((e,n)=>{function a(){wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wv(),n(ii(s,"network-request-failed"))},timeout:fR.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=_w("iframefcb");return Ii()[l]=()=>{gapi.load?a():n(ii(s,"network-request-failed"))},pw(`${yw()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Ou=null,e})}let Ou=null;function gR(s){return Ou=Ou||mR(s),Ou}const pR=new Ul(5e3,15e3),yR="__/auth/iframe",_R="emulator/auth/iframe",vR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ER(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Dm(e,_R):`https://${s.config.authDomain}/${yR}`,a={apiKey:e.apiKey,appName:s.name,v:io},l=TR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${kl(a).slice(1)}`}async function SR(s){const e=await gR(s),n=Ii().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:ER(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const f=ii(s,"network-request-failed"),g=Ii().setTimeout(()=>{c(f)},pR.get());function _(){Ii().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(f)})}))}const bR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AR=500,wR=600,RR="_blank",IR="http://localhost";class Rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CR(s,e,n,a=AR,l=wR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...bR,width:a.toString(),height:l.toString(),top:c,left:f},p=tn().toLowerCase();n&&(g=rT(p)?RR:n),sT(p)&&(e=e||IR,_.scrollbars="yes");const E=Object.entries(_).reduce((C,[j,F])=>`${C}${j}=${F},`,"");if(lw(p)&&g!=="_self")return NR(e||"",g),new Rv(null);const w=window.open(e||"",g,E);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new Rv(w)}function NR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const DR="__/auth/handler",xR="emulator/auth/handler",OR=encodeURIComponent("fac");async function Iv(s,e,n,a,l,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:io,eventId:l};if(e instanceof Vm){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",NA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ll){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),p=_?`#${OR}=${encodeURIComponent(_)}`:"";return`${jR(s)}?${kl(g).slice(1)}${p}`}function jR({config:s}){return s.emulator?Dm(s,xR):`https://${s.authDomain}/${DR}`}const Hf="webStorageSupport";class MR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=sR,this._overrideRedirectResult=tR}async _openPopup(e,n,a,l){as(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Iv(e,n,a,tm(),l);return CR(e,c,km())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await Iv(e,n,a,tm(),l);return Uw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await SR(e),a=new rR(e);return n.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hf,{type:Hf},l=>{const c=l?.[0]?.[Hf];c!==void 0&&n(!!c),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||aT()||jm()}}const VR=MR;var Cv="@firebase/auth",Nv="1.11.1";class kR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LR(s){Kr(new Ya("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(s)},p=new mw(a,l,c,_);return Tw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Kr(new Ya("auth-internal",e=>{const n=oh(e.getProvider("auth").getImmediate());return(a=>new kR(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(Cv,Nv,UR(s)),$s(Cv,Nv,"esm2020")}const PR=300,zR=q0("authIdTokenMaxAge")||PR;let Dv=null;const BR=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>zR)return;const l=n?.token;Dv!==l&&(Dv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qR(s=K0()){const e=Im(s,"auth");if(e.isInitialized())return e.getImmediate();const n=vw(s,{popupRedirectResolver:VR,persistence:[Qw,Mw,vT]}),a=q0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=BR(c.toString());Nw(n,f,()=>f(n.currentUser)),Cw(n,g=>f(g))}}const l=z0("auth");return l&&Ew(n,`http://${l}`),n}function HR(){return document.getElementsByTagName("head")?.[0]??document}gw({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ii("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",HR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LR("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,IT;(function(){var s;function e(D,S){function I(){}I.prototype=S.prototype,D.F=S.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(x,N,M){for(var A=Array(arguments.length-2),K=2;K<arguments.length;K++)A[K-2]=arguments[K];return S.prototype[N].apply(x,A)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,S,I){I||(I=0);const x=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)x[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)x[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=D.g[0],I=D.g[1],N=D.g[2];let M=D.g[3],A;A=S+(M^I&(N^M))+x[0]+3614090360&4294967295,S=I+(A<<7&4294967295|A>>>25),A=M+(N^S&(I^N))+x[1]+3905402710&4294967295,M=S+(A<<12&4294967295|A>>>20),A=N+(I^M&(S^I))+x[2]+606105819&4294967295,N=M+(A<<17&4294967295|A>>>15),A=I+(S^N&(M^S))+x[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=S+(M^I&(N^M))+x[4]+4118548399&4294967295,S=I+(A<<7&4294967295|A>>>25),A=M+(N^S&(I^N))+x[5]+1200080426&4294967295,M=S+(A<<12&4294967295|A>>>20),A=N+(I^M&(S^I))+x[6]+2821735955&4294967295,N=M+(A<<17&4294967295|A>>>15),A=I+(S^N&(M^S))+x[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=S+(M^I&(N^M))+x[8]+1770035416&4294967295,S=I+(A<<7&4294967295|A>>>25),A=M+(N^S&(I^N))+x[9]+2336552879&4294967295,M=S+(A<<12&4294967295|A>>>20),A=N+(I^M&(S^I))+x[10]+4294925233&4294967295,N=M+(A<<17&4294967295|A>>>15),A=I+(S^N&(M^S))+x[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=S+(M^I&(N^M))+x[12]+1804603682&4294967295,S=I+(A<<7&4294967295|A>>>25),A=M+(N^S&(I^N))+x[13]+4254626195&4294967295,M=S+(A<<12&4294967295|A>>>20),A=N+(I^M&(S^I))+x[14]+2792965006&4294967295,N=M+(A<<17&4294967295|A>>>15),A=I+(S^N&(M^S))+x[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=S+(N^M&(I^N))+x[1]+4129170786&4294967295,S=I+(A<<5&4294967295|A>>>27),A=M+(I^N&(S^I))+x[6]+3225465664&4294967295,M=S+(A<<9&4294967295|A>>>23),A=N+(S^I&(M^S))+x[11]+643717713&4294967295,N=M+(A<<14&4294967295|A>>>18),A=I+(M^S&(N^M))+x[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=S+(N^M&(I^N))+x[5]+3593408605&4294967295,S=I+(A<<5&4294967295|A>>>27),A=M+(I^N&(S^I))+x[10]+38016083&4294967295,M=S+(A<<9&4294967295|A>>>23),A=N+(S^I&(M^S))+x[15]+3634488961&4294967295,N=M+(A<<14&4294967295|A>>>18),A=I+(M^S&(N^M))+x[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=S+(N^M&(I^N))+x[9]+568446438&4294967295,S=I+(A<<5&4294967295|A>>>27),A=M+(I^N&(S^I))+x[14]+3275163606&4294967295,M=S+(A<<9&4294967295|A>>>23),A=N+(S^I&(M^S))+x[3]+4107603335&4294967295,N=M+(A<<14&4294967295|A>>>18),A=I+(M^S&(N^M))+x[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=S+(N^M&(I^N))+x[13]+2850285829&4294967295,S=I+(A<<5&4294967295|A>>>27),A=M+(I^N&(S^I))+x[2]+4243563512&4294967295,M=S+(A<<9&4294967295|A>>>23),A=N+(S^I&(M^S))+x[7]+1735328473&4294967295,N=M+(A<<14&4294967295|A>>>18),A=I+(M^S&(N^M))+x[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=S+(I^N^M)+x[5]+4294588738&4294967295,S=I+(A<<4&4294967295|A>>>28),A=M+(S^I^N)+x[8]+2272392833&4294967295,M=S+(A<<11&4294967295|A>>>21),A=N+(M^S^I)+x[11]+1839030562&4294967295,N=M+(A<<16&4294967295|A>>>16),A=I+(N^M^S)+x[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=S+(I^N^M)+x[1]+2763975236&4294967295,S=I+(A<<4&4294967295|A>>>28),A=M+(S^I^N)+x[4]+1272893353&4294967295,M=S+(A<<11&4294967295|A>>>21),A=N+(M^S^I)+x[7]+4139469664&4294967295,N=M+(A<<16&4294967295|A>>>16),A=I+(N^M^S)+x[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=S+(I^N^M)+x[13]+681279174&4294967295,S=I+(A<<4&4294967295|A>>>28),A=M+(S^I^N)+x[0]+3936430074&4294967295,M=S+(A<<11&4294967295|A>>>21),A=N+(M^S^I)+x[3]+3572445317&4294967295,N=M+(A<<16&4294967295|A>>>16),A=I+(N^M^S)+x[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=S+(I^N^M)+x[9]+3654602809&4294967295,S=I+(A<<4&4294967295|A>>>28),A=M+(S^I^N)+x[12]+3873151461&4294967295,M=S+(A<<11&4294967295|A>>>21),A=N+(M^S^I)+x[15]+530742520&4294967295,N=M+(A<<16&4294967295|A>>>16),A=I+(N^M^S)+x[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=S+(N^(I|~M))+x[0]+4096336452&4294967295,S=I+(A<<6&4294967295|A>>>26),A=M+(I^(S|~N))+x[7]+1126891415&4294967295,M=S+(A<<10&4294967295|A>>>22),A=N+(S^(M|~I))+x[14]+2878612391&4294967295,N=M+(A<<15&4294967295|A>>>17),A=I+(M^(N|~S))+x[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=S+(N^(I|~M))+x[12]+1700485571&4294967295,S=I+(A<<6&4294967295|A>>>26),A=M+(I^(S|~N))+x[3]+2399980690&4294967295,M=S+(A<<10&4294967295|A>>>22),A=N+(S^(M|~I))+x[10]+4293915773&4294967295,N=M+(A<<15&4294967295|A>>>17),A=I+(M^(N|~S))+x[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=S+(N^(I|~M))+x[8]+1873313359&4294967295,S=I+(A<<6&4294967295|A>>>26),A=M+(I^(S|~N))+x[15]+4264355552&4294967295,M=S+(A<<10&4294967295|A>>>22),A=N+(S^(M|~I))+x[6]+2734768916&4294967295,N=M+(A<<15&4294967295|A>>>17),A=I+(M^(N|~S))+x[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=S+(N^(I|~M))+x[4]+4149444226&4294967295,S=I+(A<<6&4294967295|A>>>26),A=M+(I^(S|~N))+x[11]+3174756917&4294967295,M=S+(A<<10&4294967295|A>>>22),A=N+(S^(M|~I))+x[2]+718787259&4294967295,N=M+(A<<15&4294967295|A>>>17),A=I+(M^(N|~S))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+M&4294967295}a.prototype.v=function(D,S){S===void 0&&(S=D.length);const I=S-this.blockSize,x=this.C;let N=this.h,M=0;for(;M<S;){if(N==0)for(;M<=I;)l(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<S;)if(x[N++]=D.charCodeAt(M++),N==this.blockSize){l(this,x),N=0;break}}else for(;M<S;)if(x[N++]=D[M++],N==this.blockSize){l(this,x),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)D[S++]=this.g[I]>>>x&255;return D};function c(D,S){var I=g;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=S(D)}function f(D,S){this.h=S;const I=[];let x=!0;for(let N=D.length-1;N>=0;N--){const M=D[N]|0;x&&M==S||(I[N]=M,x=!1)}this.g=I}var g={};function _(D){return-128<=D&&D<128?c(D,function(S){return new f([S|0],S<0?-1:0)}):new f([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return Y(p(-D));const S=[];let I=1;for(let x=0;D>=I;x++)S[x]=D/I|0,I*=4294967296;return new f(S,0)}function E(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return Y(E(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(S,8));let x=w;for(let M=0;M<D.length;M+=8){var N=Math.min(8,D.length-M);const A=parseInt(D.substring(M,M+N),S);N<8?(N=p(Math.pow(S,N)),x=x.j(N).add(p(A))):(x=x.j(I),x=x.add(p(A)))}return x}var w=_(0),C=_(1),j=_(16777216);s=f.prototype,s.m=function(){if(Z(this))return-Y(this).m();let D=0,S=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);D+=(x>=0?x:4294967296+x)*S,S*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(Z(this))return"-"+Y(this).toString(D);const S=p(Math.pow(D,6));var I=this;let x="";for(;;){const N=ce(I,S).g;I=oe(I,N.j(S));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=N,F(I))return M+x;for(;M.length<6;)M="0"+M;x=M+x}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function Z(D){return D.h==-1}s.l=function(D){return D=oe(this,D),Z(D)?-1:F(D)?0:1};function Y(D){const S=D.g.length,I=[];for(let x=0;x<S;x++)I[x]=~D.g[x];return new f(I,~D.h).add(C)}s.abs=function(){return Z(this)?Y(this):this},s.add=function(D){const S=Math.max(this.g.length,D.g.length),I=[];let x=0;for(let N=0;N<=S;N++){let M=x+(this.i(N)&65535)+(D.i(N)&65535),A=(M>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);x=A>>>16,M&=65535,A&=65535,I[N]=A<<16|M}return new f(I,I[I.length-1]&-2147483648?-1:0)};function oe(D,S){return D.add(Y(S))}s.j=function(D){if(F(this)||F(D))return w;if(Z(this))return Z(D)?Y(this).j(Y(D)):Y(Y(this).j(D));if(Z(D))return Y(this.j(Y(D)));if(this.l(j)<0&&D.l(j)<0)return p(this.m()*D.m());const S=this.g.length+D.g.length,I=[];for(var x=0;x<2*S;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<D.g.length;N++){const M=this.i(x)>>>16,A=this.i(x)&65535,K=D.i(N)>>>16,fe=D.i(N)&65535;I[2*x+2*N]+=A*fe,he(I,2*x+2*N),I[2*x+2*N+1]+=M*fe,he(I,2*x+2*N+1),I[2*x+2*N+1]+=A*K,he(I,2*x+2*N+1),I[2*x+2*N+2]+=M*K,he(I,2*x+2*N+2)}for(D=0;D<S;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=S;D<2*S;D++)I[D]=0;return new f(I,0)};function he(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function H(D,S){this.g=D,this.h=S}function ce(D,S){if(F(S))throw Error("division by zero");if(F(D))return new H(w,w);if(Z(D))return S=ce(Y(D),S),new H(Y(S.g),Y(S.h));if(Z(S))return S=ce(D,Y(S)),new H(Y(S.g),S.h);if(D.g.length>30){if(Z(D)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var I=C,x=S;x.l(D)<=0;)I=Te(I),x=Te(x);var N=ne(I,1),M=ne(x,1);for(x=ne(x,2),I=ne(I,2);!F(x);){var A=M.add(x);A.l(D)<=0&&(N=N.add(I),M=A),x=ne(x,1),I=ne(I,1)}return S=oe(D,N.j(S)),new H(N,S)}for(N=w;D.l(S)>=0;){for(I=Math.max(1,Math.floor(D.m()/S.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),M=p(I),A=M.j(S);Z(A)||A.l(D)>0;)I-=x,M=p(I),A=M.j(S);F(M)&&(M=C),N=N.add(M),D=oe(D,A)}return new H(N,D)}s.B=function(D){return ce(this,D).h},s.and=function(D){const S=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<S;x++)I[x]=this.i(x)&D.i(x);return new f(I,this.h&D.h)},s.or=function(D){const S=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<S;x++)I[x]=this.i(x)|D.i(x);return new f(I,this.h|D.h)},s.xor=function(D){const S=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<S;x++)I[x]=this.i(x)^D.i(x);return new f(I,this.h^D.h)};function Te(D){const S=D.g.length+1,I=[];for(let x=0;x<S;x++)I[x]=D.i(x)<<1|D.i(x-1)>>>31;return new f(I,D.h)}function ne(D,S){const I=S>>5;S%=32;const x=D.g.length-I,N=[];for(let M=0;M<x;M++)N[M]=S>0?D.i(M+I)>>>S|D.i(M+I+1)<<32-S:D.i(M+I);return new f(N,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,IT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Js=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CT,pl,NT,ju,sm,DT,xT,OT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function l(u,m){if(m)e:{var T=a;u=u.split(".");for(var R=0;R<u.length-1;R++){var L=u[R];if(!(L in T))break e;T=T[L]}u=u[u.length-1],R=T[u],m=m(R),m!=R&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var T=[],R;for(R in m)Object.prototype.hasOwnProperty.call(m,R)&&T.push([R,m[R]]);return T}});var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,T){return u.call.apply(u.bind,arguments)}function p(u,m,T){return p=_,p.apply(null,arguments)}function E(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function w(u,m){function T(){}T.prototype=m.prototype,u.Z=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(R,L,G){for(var ae=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ae[Ne-2]=arguments[Ne];return m.prototype[L].apply(R,ae)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const T=Array(m);for(let R=0;R<m;R++)T[R]=u[R];return T}return[]}function F(u,m){for(let R=1;R<arguments.length;R++){const L=arguments[R];var T=typeof L;if(T=T!="object"?T:L?Array.isArray(L)?"array":T:"null",T=="array"||T=="object"&&typeof L.length=="number"){T=u.length||0;const G=L.length||0;u.length=T+G;for(let ae=0;ae<G;ae++)u[T+ae]=L[ae]}else u.push(L)}}class Z{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){f.setTimeout(()=>{throw u},0)}function oe(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,T){const R=H.get();R.set(m,T),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new Z(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ne=!1,D=new he,S=()=>{const u=Promise.resolve(void 0);Te=()=>{u.then(I)}};function I(){for(var u;u=oe();){try{u.h.call(u.g)}catch(T){Y(T)}var m=H;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ne=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};f.addEventListener("test",T,m),f.removeEventListener("test",T,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function K(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(K,N),K.prototype.init=function(u,m){const T=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),P=0;function ie(u,m,T,R,L){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!R,this.ha=L,this.key=++P,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,T){for(const R in u)m.call(T,u[R],R,u)}function Ge(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function k(u){const m={};for(const T in u)m[T]=u[T];return m}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let T,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(T in R)u[T]=R[T];for(let G=0;G<W.length;G++)T=W[G],Object.prototype.hasOwnProperty.call(R,T)&&(u[T]=R[T])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,T,R,L){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const ae=Ce(u,m,R,L);return ae>-1?(m=u[ae],T||(m.fa=!1)):(m=new ie(m,this.src,G,!!R,L),m.fa=T,u.push(m)),m};function be(u,m){const T=m.type;if(T in u.g){var R=u.g[T],L=Array.prototype.indexOf.call(R,m,void 0),G;(G=L>=0)&&Array.prototype.splice.call(R,L,1),G&&(pe(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Ce(u,m,T,R){for(let L=0;L<u.length;++L){const G=u[L];if(!G.da&&G.listener==m&&G.capture==!!T&&G.ha==R)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),ut={};function Ke(u,m,T,R,L){if(Array.isArray(m)){for(let G=0;G<m.length;G++)Ke(u,m[G],T,R,L);return null}return T=ho(T),u&&u[fe]?u.J(m,T,g(R)?!!R.capture:!1,L):Mi(u,m,T,!1,R,L)}function Mi(u,m,T,R,L,G){if(!m)throw Error("Invalid event type");const ae=g(L)?!!L.capture:!!L;let Ne=ua(u);if(Ne||(u[Ve]=Ne=new ue(u)),T=Ne.add(m,T,R,ae,G),T.proxy)return T;if(R=se(),T.proxy=R,R.src=u,R.listener=T,u.addEventListener)M||(L=ae),L===void 0&&(L=!1),u.addEventListener(m.toString(),R,L);else if(u.attachEvent)u.attachEvent(Et(m.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function se(){function u(T){return m.call(u.src,u.listener,T)}const m=rn;return u}function In(u,m,T,R,L){if(Array.isArray(m))for(var G=0;G<m.length;G++)In(u,m[G],T,R,L);else R=g(R)?!!R.capture:!!R,T=ho(T),u&&u[fe]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],T=Ce(m,T,R,L),T>-1&&(pe(m[T]),Array.prototype.splice.call(m,T,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=ua(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,T,R,L)),(T=u>-1?m[u]:null)&&gt(T))}function gt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])be(m.i,u);else{var T=u.type,R=u.proxy;m.removeEventListener?m.removeEventListener(T,R,u.capture):m.detachEvent?m.detachEvent(Et(T),R):m.addListener&&m.removeListener&&m.removeListener(R),(T=ua(m))?(be(T,u),T.h==0&&(T.src=null,m[Ve]=null)):pe(u)}}}function Et(u){return u in ut?ut[u]:ut[u]="on"+u}function rn(u,m){if(u.da)u=!0;else{m=new K(m,this);const T=u.listener,R=u.ha||u.src;u.fa&&gt(u),u=T.call(R,m)}return u}function ua(u){return u=u[Ve],u instanceof ue?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function St(){x.call(this),this.i=new ue(this),this.M=this,this.G=null}w(St,x),St.prototype[fe]=!0,St.prototype.removeEventListener=function(u,m,T,R){In(this,u,m,T,R)};function Mt(u,m){var T,R=u.G;if(R)for(T=[];R;R=R.G)T.push(R);if(u=u.M,R=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(R,u),re(m,L)}L=!0;let G,ae;if(T)for(ae=T.length-1;ae>=0;ae--)G=m.g=T[ae],L=us(G,R,!0,m)&&L;if(G=m.g=u,L=us(G,R,!0,m)&&L,L=us(G,R,!1,m)&&L,T)for(ae=0;ae<T.length;ae++)G=m.g=T[ae],L=us(G,R,!1,m)&&L}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const T=u.g[m];for(let R=0;R<T.length;R++)pe(T[R]);delete u.g[m],u.h--}}this.G=null},St.prototype.J=function(u,m,T,R){return this.i.add(String(u),m,!1,T,R)},St.prototype.K=function(u,m,T,R){return this.i.add(String(u),m,!0,T,R)};function us(u,m,T,R){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let G=0;G<m.length;++G){const ae=m[G];if(ae&&!ae.da&&ae.capture==T){const Ne=ae.listener,yt=ae.ha||ae.src;ae.fa&&be(u.i,ae),L=Ne.call(yt,R)!==!1&&L}}return L&&!R.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function Kl(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends x{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(u){x.call(this),this.h=u,this.g={}}w(ha,x);var fo=[];function mo(u){Oe(u.g,function(m,T){this.g.hasOwnProperty(T)&&gt(m)},u),u.g={}}ha.prototype.N=function(){ha.Z.N.call(this),mo(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=f.JSON.stringify,jh=f.JSON.parse,Xl=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function $l(){}function Jl(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){N.call(this,"d")}w(qt,N);function Cn(){N.call(this,"c")}w(Cn,N);var pt={},Zl=null;function Wa(){return Zl=Zl||new St}pt.Ia="serverreachability";function Wl(u){N.call(this,pt.Ia,u)}w(Wl,N);function ai(u){const m=Wa();Mt(m,new Wl(m))}pt.STAT_EVENT="statevent";function da(u,m){N.call(this,pt.STAT_EVENT,u),this.stat=m}w(da,N);function bt(u){const m=Wa();Mt(m,new da(m,u))}pt.Ja="timingevent";function ri(u,m){N.call(this,pt.Ja,u),this.size=m}w(ri,N);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Mh(u,m,T,R,L,G){u.info(function(){if(u.g)if(G){var ae="",Ne=G.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var yt=Ne[Qe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const On=lt.split("_");ae=On.length>=2&&On[1]=="type"?ae+(lt+"="+yt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+m+`
`+T+`
`+ae})}function ec(u,m,T,R,L,G,ae){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+m+`
`+T+`
`+G+" "+ae})}function li(u,m,T,R){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,T)+(R?" "+R:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var T=G[u];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var L=R[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ae=1;ae<R.length;ae++)R[ae]=""}}}}return hs(G)}catch{return m}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function ga(){}w(ga,$l),ga.prototype.g=function(){return new XMLHttpRequest},po=new ga;function Vi(u){return encodeURIComponent(String(u))}function tc(u){var m=1;u=u.split(":");const T=[];for(;m>0&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function Gn(u,m,T,R){this.j=u,this.i=m,this.l=T,this.S=R||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function ci(u,m,T){u.M=1,u.A=pa(Rt(m)),u.u=T,u.R=!0,er(u,null)}function er(u,m){u.F=Date.now(),ui(u),u.B=Rt(u.A);var T=u.B,R=u.S;Array.isArray(R)||(R=[String(R)]),sr(T.i,"t",R),u.C=0,T=u.j.L,u.h=new Qn,u.g=pc(u.j,T?m:null,!u.u),u.P>0&&(u.O=new nn(p(u.Y,u,u.g),u.P)),m=u.V,T=u.g,R=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fo[0]=L.toString()),L=fo);for(let G=0;G<L.length;G++){const ae=Ke(T,L[G],R||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Xn(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ne!=4||yt==7||(yt==8||Qe<=0?ai(3):ai(2)),hi(this);var m=this.g.ca();this.X=m;var T=kh(this);if(this.o=m==200,ec(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var R,L=this.g;if((R=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(R)){var G=R;break t}}G=null}if(u=G)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,bt(12),yn(this),Nn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<T.length;)if(lt=ic(this,T),lt==Ut){Ne==4&&(this.m=4,bt(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==At){this.m=4,bt(15),li(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,lt,null),di(this,lt);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||T.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,T,"[Invalid Chunked Response]"),yn(this),Nn(this);else if(T.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),xo(ae),ae.P=!0,bt(11))}}else li(this.i,this.l,T,null),di(this,T);Ne==4&&yn(this),this.o&&!this.K&&(Ne==4?dc(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&T.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),yn(this),Nn(this)}}}catch{}finally{}};function kh(u){if(!nc(u))return u.g.la();const m=Ht(u.g);if(m==="")return"";let T="";const R=m.length,L=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Nn(u),"";u.h.i=new f.TextDecoder}for(let G=0;G<R;G++)u.h.h=!0,T+=u.h.i.decode(m[G],{stream:!(L&&G==R-1)});return m.length=0,u.h.g+=T,u.C=0,u.h.g}function nc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ic(u,m){var T=u.C,R=m.indexOf(`
`,T);return R==-1?Ut:(T=Number(m.substring(T,R)),isNaN(T)?At:(R+=1,R+T>m.length?Ut:(m=m.slice(R,R+T),u.C=R+T,m)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function ui(u){u.T=Date.now()+u.H,tr(u,u.H)}function tr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(p(u.aa,u),m)}function hi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fa(this.i,this.B),this.M!=2&&(ai(),bt(17)),yn(this),this.m=2,Nn(this)):tr(this,this.T-u)};function Nn(u){u.j.I==0||u.K||dc(u.j,u)}function yn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var T=u.j;if(T.I!=0&&(T.g==u||mi(T.h,u))){if(!u.L&&mi(T.h,u)&&T.I==3){try{var R=T.Ba.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)cr(T),vs(T);else break e;ba(T),bt(18)}}else T.xa=L[1],0<T.xa-T.K&&L[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=oi(p(T.Va,T),6e3));fi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ti(T,11)}else if((u.L||T.g==u)&&cr(T),!A(m))for(L=T.Ba.g.parse(m),m=0;m<L.length;m++){let Qe=L[m];const lt=Qe[0];if(!(lt<=T.K))if(T.K=lt,Qe=Qe[1],T.I==2)if(Qe[0]=="c"){T.M=Qe[1],T.ba=Qe[2];const On=Qe[3];On!=null&&(T.ka=On,T.j.info("VER="+T.ka));const Ei=Qe[4];Ei!=null&&(T.za=Ei,T.j.info("SVER="+T.za));const $n=Qe[5];$n!=null&&typeof $n=="number"&&$n>0&&(R=1.5*$n,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Jn=u.g;if(Jn){const Aa=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var G=R.h;G.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(vo(G,G.h),G.h=null))}if(R.G){const ur=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ur&&(R.wa=ur,$e(R.J,R.G,ur))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ae=u;if(R.na=gc(R,R.L?R.ba:null,R.W),ae.L){To(R.h,ae);var Ne=ae,yt=R.O;yt&&(Ne.H=yt),Ne.D&&(hi(Ne),ui(Ne)),R.g=ae}else uc(R);T.i.length>0&&vi(T)}else Qe[0]!="stop"&&Qe[0]!="close"||Ti(T,7);else T.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ti(T,7):No(T):Qe[0]!="noop"&&T.l&&T.l.qa(Qe),T.A=0)}}ai(4)}catch{}}var wt=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.G);return m}return j(u.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(u,m){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const R=u[T].indexOf("=");let L,G=null;R>=0?(L=u[T].substring(0,R),G=u[T].substring(R+1)):L=u[T],m(L,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,So(this,lc(u.i)),this.m=u.m):u&&(m=String(u).match(sc))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ds(this,m[4]),this.h=gi(m[5]||"",!0),So(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ya(m,ir,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ya(m,ir,!0),"@"),u.push(Vi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(ya(T,T.charAt(0)=="/"?bo:ac,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",ya(T,rc)),u.join("")},_n.prototype.resolve=function(u){const m=Rt(this);let T=!!u.j;T?Lt(m,u.j):T=!!u.o,T?m.o=u.o:T=!!u.g,T?m.g=u.g:T=u.u!=null;var R=u.h;if(T)ds(m,u.u);else if(T=!!u.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var L=m.h.lastIndexOf("/");L!=-1&&(R=m.h.slice(0,L+1)+R)}if(L=R,L==".."||L==".")R="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){R=L.lastIndexOf("/",0)==0,L=L.split("/");const G=[];for(let ae=0;ae<L.length;){const Ne=L[ae++];Ne=="."?R&&ae==L.length&&G.push(""):Ne==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),R&&ae==L.length&&G.push("")):(G.push(Ne),R=!0)}R=G.join("/")}else R=L}return T?m.h=R:T=u.i.toString()!=="",T?So(m,lc(u.i)):T=!!u.m,T&&(m.m=u.m),m};function Rt(u){return new _n(u)}function Lt(u,m,T){u.j=T?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,T){m instanceof ms?(u.i=m,ar(u.i,u.l)):(T||(m=ya(m,fs)),u.i=new ms(m,u.l))}function $e(u,m,T){u.i.set(m,T)}function pa(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,on),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ir=/[#\/\?@]/g,ac=/[#\?:]/g,bo=/[#\?]/g,fs=/[#\?@]/g,rc=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&nr(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}s=ms.prototype,s.add=function(u,m){ln(this),this.i=null,u=gs(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function oc(u,m){ln(u),m=gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return ln(u),m=gs(u,m),u.g.has(m)}s.forEach=function(u,m){ln(this),this.g.forEach(function(T,R){T.forEach(function(L){u.call(m,L,R,this)},this)},this)};function wo(u,m){ln(u);let T=[];if(typeof m=="string")Ao(u,m)&&(T=T.concat(u.g.get(gs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)T=T.concat(u[m]);return T}s.set=function(u,m){return ln(this),this.i=null,u=gs(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function sr(u,m,T){oc(u,m),T.length>0&&(u.i=null,u.g.set(gs(u,m),j(T)),u.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let R=0;R<m.length;R++){var T=m[R];const L=Vi(T);T=wo(this,T);for(let G=0;G<T.length;G++){let ae=L;T[G]!==""&&(ae+="="+Vi(T[G])),u.push(ae)}}return this.i=u.join("&")};function lc(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ar(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(T,R){const L=R.toLowerCase();R!=L&&(oc(this,R),sr(this,L,T))},u)),u.j=m}function Yn(u,m){const T=new Fn;if(f.Image){const R=new Image;R.onload=E(Dn,T,"TestLoadImage: loaded",!0,m,R),R.onerror=E(Dn,T,"TestLoadImage: error",!1,m,R),R.onabort=E(Dn,T,"TestLoadImage: abort",!1,m,R),R.ontimeout=E(Dn,T,"TestLoadImage: timeout",!1,m,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else m(!1)}function Ro(u,m){const T=new Fn,R=new AbortController,L=setTimeout(()=>{R.abort(),Dn(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:R.signal}).then(G=>{clearTimeout(L),G.ok?Dn(T,"TestPingServer: ok",!0,m):Dn(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(T,"TestPingServer: error",!1,m)})}function Dn(u,m,T,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(T)}catch{}}function ps(){this.g=new Xl}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(pi,$l),pi.prototype.g=function(){return new _a(this.i,this.h)};function _a(u,m){St.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(_a,St),s=_a.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function rr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):Kn(this),this.readyState==3&&rr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},s.Na=function(u){this.g&&(this.response=u,ys(this))},s.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Oe(u,function(T,R){m+=R,m+=":",m+=T,m+=`\r
`}),m}function va(u,m,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=xn(T),typeof u=="string"?T!=null&&Vi(T):$e(u,m,T))}function We(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(We,St);var yi=/^https?$/i,Io=["POST","PUT"];s=We.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=C(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Ta(this,G);return}if(u=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)T.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const G of R.keys())T.set(G,R.get(G));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||R||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of T)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Ta(this,G)}};function Ta(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),ki(u)}function Co(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},s.Xa=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var R;if(R=G===0){let ae=String(u.D).match(sc)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),R=!yi.test(ae?ae.toLowerCase():"")}T=R}if(T)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var L=Xn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Co(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,m||Mt(u,"ready");try{T.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function Ht(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(A(u[R]))continue;var T=tc(u[R]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=m[L]||[];m[L]=G,G.push(T)}Ge(m,function(R){return R.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function _s(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=_s.prototype,s.ka=8,s.I=1,s.connect=function(u,m,T,R){bt(0),this.W=u,this.H=m||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=gc(this,null,this.W),vi(this)};function No(u){if(or(u),u.I==3){var m=u.V++,T=Rt(u.J);if($e(T,"SID",u.M),$e(T,"RID",m),$e(T,"TYPE","terminate"),Sa(u,T),m=new Gn(u,u.j,m),m.M=2,m.A=pa(Rt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!T&&f.Image&&(new Image().src=m.A,T=!0),T||(m.g=pc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}mc(u)}function vs(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function or(u){vs(u),u.v&&(f.clearTimeout(u.v),u.v=null),cr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function vi(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Te||S(),ne||(Te(),ne=!0),D.add(m,u),u.D=0}}function lr(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(p(u.Ea,u,m),fc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Gn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=k(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(L.J=G,G=null),this.S)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,m>4096){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=cc(this,L,m),T=Rt(this.J),$e(T,"RID",u),$e(T,"CVER",22),this.G&&$e(T,"X-HTTP-Session-Id",this.G),Sa(this,T),G&&(this.R?m="headers="+Vi(xn(G))+"&"+m:this.u&&va(T,this.u,G)),vo(this.h,L),this.Ra&&$e(T,"TYPE","init"),this.S?($e(T,"$req",m),$e(T,"SID","null"),L.U=!0,ci(L,T,null)):ci(L,T,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||_o(this.h)||Do(this))};function Do(u,m){var T;m?T=m.l:T=u.V++;const R=Rt(u.J);$e(R,"SID",u.M),$e(R,"RID",T),$e(R,"AID",u.K),Sa(u,R),u.u&&u.o&&va(R,u.u,u.o),T=new Gn(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cc(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,T),ci(T,R,m)}function Sa(u,m){u.H&&Oe(u.H,function(T,R){$e(m,R,T)}),u.l&&Oe({},function(T,R){$e(m,R,T)})}function cc(u,m,T){T=Math.min(u.i.length,T);const R=u.l?p(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ne=-1;for(;;){const yt=["count="+T];Ne==-1?T>0?(Ne=L[0].g,yt.push("ofs="+Ne)):Ne=0:yt.push("ofs="+Ne);let Qe=!0;for(let lt=0;lt<T;lt++){var G=L[lt].g;const On=L[lt].map;if(G-=Ne,G<0)Ne=Math.max(0,L[lt].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var ae=On instanceof Map?On:Object.entries(On);for(const[Ei,$n]of ae){let Jn=$n;g($n)&&(Jn=hs($n)),yt.push(G+Ei+"="+encodeURIComponent(Jn))}}catch(Ei){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ei}}catch{R&&R(On)}}if(Qe){ae=yt.join("&");break e}}ae=void 0}return u=u.i.splice(0,T),m.G=u,ae}function uc(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Te||S(),ne||(Te(),ne=!0),D.add(m,u),u.A=0}}function ba(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(p(u.Da,u),fc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(p(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),vs(this),hc(this))};function xo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function hc(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Rt(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),Sa(u,m),u.u&&u.o&&va(m,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=pa(Rt(m)),T.u=null,T.R=!0,er(T,u)}s.Va=function(){this.C!=null&&(this.C=null,vs(this),ba(this),bt(19))};function cr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function dc(u,m){var T=null;if(u.g==m){cr(u),xo(u),u.g=null;var R=2}else if(mi(u.h,m))T=m.G,To(u.h,m),R=1;else return;if(u.I!=0){if(m.o)if(R==1){T=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;R=Wa(),Mt(R,new ri(R,T)),vi(u)}else uc(u);else if(L=m.m,L==3||L==0&&m.X>0||!(R==1&&lr(u,m)||R==2&&ba(u)))switch(T&&T.length>0&&(m=u.h,m.i=m.i.concat(T)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function fc(u,m){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var T=p(u.bb,u),R=u.Ua;const L=!R;R=new _n(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(R,"https"),pa(R),L?Yn(R.toString(),T):Ro(R.toString(),T)}else bt(2);u.I=0,u.l&&u.l.pa(m),mc(u),or(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function mc(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function gc(u,m,T){var R=T instanceof _n?Rt(T):new _n(T);if(R.g!="")m&&(R.g=m+"."+R.g),ds(R,R.u);else{var L=f.location;R=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const G=new _n(null);R&&Lt(G,R),m&&(G.g=m),L&&ds(G,L),T&&(G.h=T),R=G}return T=u.G,m=u.wa,T&&m&&$e(R,T,m),$e(R,"VER",u.ka),Sa(u,R),R}function pc(u,m,T){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new We(new pi({ab:T})):new We(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}s=yc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){St.call(this),this.g=new _s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}w(sn,St),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){No(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=hs(u),u=T);m.i.push(new wt(m.Ya++,u)),m.I==3&&vi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,sn.Z.N.call(this)};function _c(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const T in m){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(_c,qt);function vc(){Cn.call(this),this.status=1}w(vc,Cn);function Li(u){this.g=u}w(Li,yc),Li.prototype.ra=function(){Mt(this.g,"a")},Li.prototype.qa=function(u){Mt(this.g,new _c(u))},Li.prototype.pa=function(u){Mt(this.g,new vc)},Li.prototype.oa=function(){Mt(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,OT=function(){return new Ts},xT=function(){return Wa()},DT=pt,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,ju=ma,go.COMPLETE="complete",NT=go,Jl.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",St.prototype.listen=St.prototype.J,pl=Jl,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,CT=We}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const Ov="@firebase/firestore",jv="4.9.2";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let ao="12.3.0";const Xa=new wm("@firebase/firestore");function zr(){return Xa.logLevel}function de(s,...e){if(Xa.logLevel<=Le.DEBUG){const n=e.map(Lm);Xa.debug(`Firestore (${ao}): ${s}`,...n)}}function rs(s,...e){if(Xa.logLevel<=Le.ERROR){const n=e.map(Lm);Xa.error(`Firestore (${ao}): ${s}`,...n)}}function $r(s,...e){if(Xa.logLevel<=Le.WARN){const n=e.map(Lm);Xa.warn(`Firestore (${ao}): ${s}`,...n)}}function Lm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,jT(s,a,n)}function jT(s,e,n){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw rs(a),new Error(a)}function Xe(s,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||jT(e,l,a)}function Ie(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class MT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class GR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,n(_)):Promise.resolve();let c=new is;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new is,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new is)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new MT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class YR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new YR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $R(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=$R(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function am(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Ff(l)===Ff(c)?Pe(l,c):Ff(l)?1:-1}return Pe(s.length,e.length)}const JR=55296,ZR=57343;function Ff(s){const e=s.charCodeAt(0);return e>=JR&&e<=ZR}function Jr(s,e,n){return s.length===e.length&&s.every(((a,l)=>n(a,e[l])))}const Vv="__name__";class Ri{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=Ri.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const a=Ri.isNumericId(e),l=Ri.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class st extends Ri{construct(e,n,a){return new st(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const WR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ri{construct(e,n,a){return new Xt(e,n,a)}static isValidIdentifier(e){return WR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Xt([Vv])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(a+=g,l++):(c(),l++)}if(c(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}function VT(s,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function eI(s,e,n,a){if(e===!0&&a===!0)throw new le(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function kv(s){if(!ve.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Uv(s){if(ve.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function kT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function uh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function pn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(s);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function jt(s,e){const n={typeString:s};return e&&(n.value=e),n}function zl(s,e){if(!kT(s))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const f=s[a];if(l&&typeof f!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const Lv=-62135596800,Pv=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Pv);return new ot(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Lv)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zl(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:jt("string",ot._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl=-1;function tI(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new ot(n+1,0):new ot(n,a));return new Ws(l,ve.empty(),e)}function nI(s){return new Ws(s.readTime,s.key,Cl)}class Ws{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ws(we.min(),ve.empty(),Cl)}static max(){return new Ws(we.max(),ve.empty(),Cl)}}function iI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:Pe(s.largestBatchId,e.largestBatchId))}const sI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ro(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==sI)throw s;de("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,a)=>{n(e)}))}static reject(e){return new te(((n,a)=>{a(e)}))}static waitFor(e){return new te(((n,a)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&n()}),(_=>a(_)))})),f=!0,c===l&&n()}))}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next((l=>l?te.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,c)=>{a.push(n.call(this,l,c))})),this.waitFor(a)}static mapArray(e,n){return new te(((a,l)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;n(e[p]).next((E=>{f[p]=E,++g,g===c&&a(f)}),(E=>l(E)))}}))}static doWhile(e,n){return new te(((a,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):a()};c()}))}}function rI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(s){return s.name==="IndexedDbTransactionError"}class hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hh.ce=-1;const zm=-1;function dh(s){return s==null}function Yu(s){return s===0&&1/s==-1/0}function oI(s){return typeof s=="number"&&Number.isInteger(s)&&!Yu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const UT="";function lI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=zv(e)),e=cI(s.get(n),e);return zv(e)}function cI(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case UT:n+="";break;default:n+=c}}return n}function zv(s){return s+UT+""}function Bv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function aa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function LT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Kt.RED,this.left=l??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Kt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,l,c){return this}insert(e,n,a){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new kt(Xt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PT("Invalid base64 string: "+c):c}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const uI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const n=uI.exec(s);if(Xe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ta(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const zT="server_timestamp",BT="__type__",qT="__previous_value__",HT="__local_write_time__";function Bm(s){return(s?.mapValue?.fields||{})[BT]?.stringValue===zT}function fh(s){const e=s.mapValue.fields[qT];return Bm(e)?fh(e):e}function Nl(s){const e=ea(s.mapValue.fields[HT].timestampValue);return new ot(e.seconds,e.nanos)}class hI{constructor(e,n,a,l,c,f,g,_,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=E}}const Ku="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||Ku}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}const FT="__type__",dI="__max__",Ru={mapValue:{}},GT="__vector__",Xu="value";function na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bm(s)?4:mI(s)?9007199254740991:fI(s)?10:11:Se(28295,{value:s})}function ji(s,e){if(s===e)return!0;const n=na(s);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Nl(s).isEqual(Nl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=ea(l.timestampValue),g=ea(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ta(l.bytesValue).isEqual(ta(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Tt(l.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Tt(l.integerValue)===Tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Tt(l.doubleValue),g=Tt(c.doubleValue);return f===g?Yu(f)===Yu(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return Jr(s.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Bv(f)!==Bv(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!ji(f[_],g[_])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function xl(s,e){return(s.values||[]).find((n=>ji(n,e)))!==void 0}function Zr(s,e){if(s===e)return 0;const n=na(s),a=na(e);if(n!==a)return Pe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=Tt(c.integerValue||c.doubleValue),_=Tt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Hv(s.timestampValue,e.timestampValue);case 4:return Hv(Nl(s),Nl(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,f){const g=ta(c),_=ta(f);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),_=f.split("/");for(let p=0;p<g.length&&p<_.length;p++){const E=Pe(g[p],_[p]);if(E!==0)return E}return Pe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Pe(Tt(c.latitude),Tt(f.latitude));return g!==0?g:Pe(Tt(c.longitude),Tt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Fv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},_=f.fields||{},p=g[Xu]?.arrayValue,E=_[Xu]?.arrayValue,w=Pe(p?.values?.length||0,E?.values?.length||0);return w!==0?w:Fv(p,E)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Ru.mapValue&&f===Ru.mapValue)return 0;if(c===Ru.mapValue)return 1;if(f===Ru.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=f.fields||{},E=Object.keys(p);_.sort(),E.sort();for(let w=0;w<_.length&&w<E.length;++w){const C=am(_[w],E[w]);if(C!==0)return C;const j=Zr(g[_[w]],p[E[w]]);if(j!==0)return j}return Pe(_.length,E.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Hv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const n=ea(s),a=ea(e),l=Pe(n.seconds,a.seconds);return l!==0?l:Pe(n.nanos,a.nanos)}function Fv(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=Zr(n[l],a[l]);if(c)return c}return Pe(n.length,a.length)}function Wr(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=ea(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ta(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of a)c?c=!1:l+=",",l+=`${f}:${rm(n.fields[f])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Mu(s){switch(na(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(s);return e?16+Mu(e):16;case 5:return 2*s.stringValue.length;case 6:return ta(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Mu(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return aa(a.fields,((c,f)=>{l+=c.length+Mu(f)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function Gv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function om(s){return!!s&&"integerValue"in s}function qm(s){return!!s&&"arrayValue"in s}function Qv(s){return!!s&&"nullValue"in s}function Yv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vu(s){return!!s&&"mapValue"in s}function fI(s){return(s?.mapValue?.fields||{})[FT]?.stringValue===GT}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return aa(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Sl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(s.arrayValue.values[n]);return e}return{...s}}function mI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===dI}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Xt.emptyPath(),a={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,a,l),a={},l=[],n=g.popLast()}f?a[g.lastSegment()]=Sl(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];Vu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){aa(n,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new gn(Sl(this.value))}}function QT(s){const e=[];return aa(s.fields,((n,a)=>{const l=new Xt([n]);if(Vu(a)){const c=QT(a.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new Rn(e)}class en{constructor(e,n,a,l,c,f,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),gn.empty(),0)}static newFoundDocument(e,n,a,l){return new en(e,1,n,we.min(),a,l,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $u{constructor(e,n){this.position=e,this.inclusive=n}}function Kv(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],f=s.position[l];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(f.referenceValue),n.key):a=Zr(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Xv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ji(s.position[n],e.position[n]))return!1;return!0}class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function gI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class YT{}class Ot extends YT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new yI(e,n,a):n==="array-contains"?new TI(e,a):n==="in"?new EI(e,a):n==="not-in"?new SI(e,a):n==="array-contains-any"?new bI(e,a):new Ot(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new _I(e,a):new vI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zr(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(Zr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return KT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KT(s){return s.op==="and"}function XT(s){return pI(s)&&KT(s)}function pI(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function lm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+Wr(s.value);if(XT(s))return s.filters.map((e=>lm(e))).join(",");{const e=s.filters.map((n=>lm(n))).join(",");return`${s.op}(${e})`}}function $T(s,e){return s instanceof Ot?(function(a,l){return l instanceof Ot&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(s,e):s instanceof si?(function(a,l){return l instanceof si&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,f,g)=>c&&$T(f,l.filters[g])),!0):!1})(s,e):void Se(19439)}function JT(s){return s instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wr(n.value)}`})(s):s instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(JT).join(" ,")+"}"})(s):"Filter"}class yI extends Ot{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class _I extends Ot{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vI extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZT(s,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class TI extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&xl(n.arrayValue,this.value)}}class EI extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class SI extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class bI extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class AI{constructor(e,n=null,a=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function $v(s,e=null,n=[],a=[],l=null,c=null,f=null){return new AI(s,e,n,a,l,c,f)}function Hm(s){const e=Ie(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>lm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Wr(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Wr(a))).join(",")),e.Te=n}return e.Te}function Fm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!gI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!$T(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Xv(s.startAt,e.startAt)&&Xv(s.endAt,e.endAt)}function cm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class lo{constructor(e,n=null,a=[],l=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wI(s,e,n,a,l,c,f,g){return new lo(s,e,n,a,l,c,f,g)}function mh(s){return new lo(s)}function Jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function WT(s){return s.collectionGroup!==null}function bl(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kt(Xt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ol(c,a))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Ol(Xt.keyField(),a))}return e.Ie}function Ci(s){const e=Ie(s);return e.Ee||(e.Ee=RI(e,bl(s))),e.Ee}function RI(s,e){if(s.limitType==="F")return $v(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ol(l.field,c)}));const n=s.endAt?new $u(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new $u(s.startAt.position,s.startAt.inclusive):null;return $v(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function um(s,e){const n=s.filters.concat([e]);return new lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function hm(s,e,n){return new lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function gh(s,e){return Fm(Ci(s),Ci(e))&&s.limitType===e.limitType}function eE(s){return`${Hm(Ci(s))}|lt:${s.limitType}`}function Br(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>JT(l))).join(", ")}]`),dh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Wr(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Wr(l))).join(",")),`Target(${a})`})(Ci(s))}; limitType=${s.limitType})`}function ph(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(f,g,_){const p=Kv(f,g,_);return f.inclusive?p<=0:p<0})(a.startAt,bl(a),l)||a.endAt&&!(function(f,g,_){const p=Kv(f,g,_);return f.inclusive?p>=0:p>0})(a.endAt,bl(a),l))})(s,e)}function II(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tE(s){return(e,n)=>{let a=!1;for(const l of bl(s)){const c=CI(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function CI(s,e,n){const a=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,f,g){const _=f.data.field(c),p=g.data.field(c);return _!==null&&p!==null?Zr(_,p):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}const NI=new ht(ve.comparator);function os(){return NI}const nE=new ht(ve.comparator);function yl(...s){let e=nE;for(const n of s)e=e.insert(n.key,n);return e}function iE(s){let e=nE;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function qa(){return Al()}function sE(){return Al()}function Al(){return new Ja((s=>s.toString()),((s,e)=>s.isEqual(e)))}const DI=new ht(ve.comparator),xI=new kt(ve.comparator);function ze(...s){let e=xI;for(const n of s)e=e.add(n);return e}const OI=new kt(Pe);function jI(){return OI}function Gm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function aE(s){return{integerValue:""+s}}function MI(s,e){return oI(e)?aE(e):Gm(s,e)}class yh{constructor(){this._=void 0}}function VI(s,e,n){return s instanceof Ju?(function(l,c){const f={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Bm(c)&&(c=fh(c)),c&&(f.fields[qT]=c),{mapValue:f}})(n,e):s instanceof jl?oE(s,e):s instanceof Ml?lE(s,e):(function(l,c){const f=rE(l,c),g=Zv(f)+Zv(l.Ae);return om(f)&&om(l.Ae)?aE(g):Gm(l.serializer,g)})(s,e)}function kI(s,e,n){return s instanceof jl?oE(s,e):s instanceof Ml?lE(s,e):n}function rE(s,e){return s instanceof Zu?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Ju extends yh{}class jl extends yh{constructor(e){super(),this.elements=e}}function oE(s,e){const n=cE(e);for(const a of s.elements)n.some((l=>ji(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ml extends yh{constructor(e){super(),this.elements=e}}function lE(s,e){let n=cE(e);for(const a of s.elements)n=n.filter((l=>!ji(l,a)));return{arrayValue:{values:n}}}class Zu extends yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zv(s){return Tt(s.integerValue||s.doubleValue)}function cE(s){return qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UI(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Ml&&l instanceof Ml?Jr(a.elements,l.elements,ji):a instanceof Zu&&l instanceof Zu?ji(a.Ae,l.Ae):a instanceof Ju&&l instanceof Ju})(s.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ku(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class _h{}function uE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Qm(s.key,qn.none()):new Bl(s.key,s.data,qn.none());{const n=s.data,a=gn.empty();let l=new kt(Xt.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),l=l.add(c)}return new ra(s.key,a,new Rn(l.toArray()),qn.none())}}function PI(s,e,n){s instanceof Bl?(function(l,c,f){const g=l.value.clone(),_=e0(l.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):s instanceof ra?(function(l,c,f){if(!ku(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=e0(l.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(hE(l)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function wl(s,e,n,a){return s instanceof Bl?(function(c,f,g,_){if(!ku(c.precondition,f))return g;const p=c.value.clone(),E=t0(c.fieldTransforms,_,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(s,e,n,a):s instanceof ra?(function(c,f,g,_){if(!ku(c.precondition,f))return g;const p=t0(c.fieldTransforms,_,f),E=f.data;return E.setAll(hE(c)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,n,a):(function(c,f,g){return ku(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,n)}function zI(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=rE(a.transform,l||null);c!=null&&(n===null&&(n=gn.empty()),n.set(a.field,c))}return n||null}function Wv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Jr(a,l,((c,f)=>UI(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Bl extends _h{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ra extends _h{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function e0(s,e,n){const a=new Map;Xe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],f=c.transform,g=e.data.field(c.field);a.set(c.field,kI(f,g,n[l]))}return a}function t0(s,e,n){const a=new Map;for(const l of s){const c=l.transform,f=n.data.field(l.field);a.set(l.field,VI(c,f,e))}return a}class Qm extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qI{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&PI(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=wl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=wl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=sE();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const _=uE(f,g);_!==null&&a.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,((n,a)=>Wv(n,a)))&&Jr(this.baseMutations,e.baseMutations,((n,a)=>Wv(n,a)))}}class Ym{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return DI})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,a[f].version);return new Ym(e,n,a,l)}}class HI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FI{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,qe;function GI(s){switch(s){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function dE(s){if(s===void 0)return rs("GRPC error has no .code"),J.UNKNOWN;switch(s){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:s})}}(qe=xt||(xt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function QI(){return new TextEncoder}const YI=new Js([4294967295,4294967295],0);function n0(s){const e=QI().encode(s),n=new IT;return n.update(e),new Uint8Array(n.digest())}function i0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Js([n,a],0),new Js([l,c],0)]}class Km{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(Js.fromNumber(a)));return l.compare(YI)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n0(e),[a,l]=i0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,l,c);if(!this.we(f))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Km(c,l,n);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=n0(e),[a,l]=i0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,l,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new vh(we.min(),l,new ht(Pe),os(),ze())}}class ql{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new ql(a,n,ze(),ze(),ze())}}class Uu{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class fE{constructor(e,n){this.targetId=e,this.Ce=n}}class mE{constructor(e,n,a=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class s0{constructor(){this.ve=0,this.Fe=a0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),a=ze();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Se(38017,{changeType:c})}})),new ql(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=a0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KI{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=Iu(),this.He=Iu(),this.Ye=new ht(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(cm(c))if(a===0){const f=new ve(c.path);this.et(n,f,en.newNoDocument(f,we.min()))}else Xe(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(n);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=ta(a).toUint8Array()}catch(_){if(_ instanceof PT)return $r("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Km(f,l,c)}catch(_){return $r(_ instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&cm(g.target)){const _=new ve(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,en.newNoDocument(_,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let a=ze();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new vh(e,n,this.Ye,this.je,a);return this.je=os(),this.Je=Iu(),this.He=Iu(),this.Ye=new ht(Pe),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new s0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Iu(){return new ht(ve.comparator)}function a0(){return new ht(ve.comparator)}const XI={asc:"ASCENDING",desc:"DESCENDING"},$I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JI={and:"AND",or:"OR"};class ZI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dm(s,e){return s.useProto3Json||dh(e)?e:{value:e}}function Wu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function WI(s,e){return Wu(s,e.toTimestamp())}function Ni(s){return Xe(!!s,49232),we.fromTimestamp((function(n){const a=ea(n);return new ot(a.seconds,a.nanos)})(s))}function Xm(s,e){return fm(s,e).canonicalString()}function fm(s,e){const n=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function pE(s){const e=st.fromString(s);return Xe(EE(e),10190,{key:e.toString()}),e}function mm(s,e){return Xm(s.databaseId,e.path)}function Gf(s,e){const n=pE(e);if(n.get(1)!==s.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(_E(n))}function yE(s,e){return Xm(s.databaseId,e)}function eC(s){const e=pE(s);return e.length===4?st.emptyPath():_E(e)}function gm(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _E(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function r0(s,e,n){return{name:mm(s,e),fields:n.value.mapValue.fields}}function tC(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(p){const E=p.code===void 0?J.UNKNOWN:dE(p.code);return new le(E,p.message||"")})(f);n=new mE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gf(s,a.document.name),c=Ni(a.document.updateTime),f=a.document.createTime?Ni(a.document.createTime):we.min(),g=new gn({mapValue:{fields:a.document.fields}}),_=en.newFoundDocument(l,c,f,g),p=a.targetIds||[],E=a.removedTargetIds||[];n=new Uu(p,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Gf(s,a.document),c=a.readTime?Ni(a.readTime):we.min(),f=en.newNoDocument(l,c),g=a.removedTargetIds||[];n=new Uu([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Gf(s,a.document),c=a.removedTargetIds||[];n=new Uu([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,f=new FI(l,c),g=a.targetId;n=new fE(g,f)}}return n}function nC(s,e){let n;if(e instanceof Bl)n={update:r0(s,e.key,e.value)};else if(e instanceof Qm)n={delete:mm(s,e.key)};else if(e instanceof ra)n={update:r0(s,e.key,e.data),updateMask:hC(e.fieldMask)};else{if(!(e instanceof BI))return Se(16599,{Vt:e.type});n={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const g=f.transform;if(g instanceof Ju)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zu)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function iC(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((n=>(function(l,c){let f=l.updateTime?Ni(l.updateTime):Ni(c);return f.isEqual(we.min())&&(f=Ni(c)),new LI(f,l.transformResults||[])})(n,e)))):[]}function sC(s,e){return{documents:[yE(s,e.path)]}}function aC(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=yE(s,l);const c=(function(p){if(p.length!==0)return TE(si.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(p){if(p.length!==0)return p.map((E=>(function(C){return{field:qr(C.field),direction:lC(C.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=dm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function rC(s){let e=eC(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Xe(a===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(w){const C=vE(w);return C instanceof si&&XT(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((C=>(function(F){return new Ol(Hr(F.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let C;return C=typeof w=="object"?w.value:w,dh(C)?null:C})(n.limit));let _=null;n.startAt&&(_=(function(w){const C=!!w.before,j=w.values||[];return new $u(j,C)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const C=!w.before,j=w.values||[];return new $u(j,C)})(n.endAt)),wI(e,l,f,c,g,"F",_,p)}function oC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Hr(n.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Hr(n.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Hr(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Hr(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ot.create(Hr(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((a=>vE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function lC(s){return XI[s]}function cC(s){return $I[s]}function uC(s){return JI[s]}function qr(s){return{fieldPath:s.canonicalString()}}function Hr(s){return Xt.fromServerFormat(s.fieldPath)}function TE(s){return s instanceof Ot?(function(n){if(n.op==="=="){if(Yv(n.value))return{unaryFilter:{field:qr(n.field),op:"IS_NAN"}};if(Qv(n.value))return{unaryFilter:{field:qr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yv(n.value))return{unaryFilter:{field:qr(n.field),op:"IS_NOT_NAN"}};if(Qv(n.value))return{unaryFilter:{field:qr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(n.field),op:cC(n.op),value:n.value}}})(s):s instanceof si?(function(n){const a=n.getFilters().map((l=>TE(l)));return a.length===1?a[0]:{compositeFilter:{op:uC(n.op),filters:a}}})(s):Se(54877,{filter:s})}function hC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function EE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ys{constructor(e,n,a,l,c=we.min(),f=we.min(),g=$t.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dC{constructor(e){this.yt=e}}function fC(s){const e=rC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(e,e.limit,"L"):e}class mC{constructor(){this.Cn=new gC}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ws.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class gC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new kt(st.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}const o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(SE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const l0="LruGarbageCollector",pC=1048576;function c0([s,e],[n,a]){const l=Pe(s,n);return l===0?Pe(e,a):l}class yC{constructor(e){this.Ir=e,this.buffer=new kt(c0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();c0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _C{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(l0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?de(l0,"Ignoring IndexedDB error during garbage collection: ",n):await ro(n)}await this.Vr(3e5)}))}}class vC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(hh.ce);const a=new yC(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(o0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,c,f,g,_,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,n)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(p=Date.now(),zr()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(p-_)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function TC(s,e){return new vC(s,e)}class EC{constructor(){this.changes=new Ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bC{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&wl(a.mutation,l,Rn.empty(),ot.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ze()){const l=qa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((c=>{let f=yl();return c.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ze())))}populateOverlays(e,n,a){const l=[];return a.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,a,l){let c=os();const f=Al(),g=(function(){return Al()})();return n.forEach(((_,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof ra)?c=c.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),wl(E.mutation,p,E.mutation.getFieldMask(),ot.now())):f.set(p.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>g.set(p,new SC(E,f.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const a=Al();let l=new ht(((f,g)=>f-g)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((_=>{const p=n.get(_);if(p===null)return;let E=a.get(_)||Rn.empty();E=g.applyToLocalView(p,E),a.set(_,E);const w=(l.get(g.batchId)||ze()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,E=_.value,w=sE();E.forEach((C=>{if(!c.has(C)){const j=uE(n.get(C),a.get(C));j!==null&&w.set(C,j),c=c.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):te.resolve(qa());let g=Cl,_=c;return f.next((p=>te.forEach(p,((E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{_=_.insert(E,C)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,ze()))).next((E=>({batchId:g,changes:iE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let f=yl();return this.indexManager.getCollectionParents(e,c).next((g=>te.forEach(g,(_=>{const p=(function(w,C){return new lo(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,a,l).next((E=>{E.forEach(((w,C)=>{f=f.insert(w,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l)))).next((f=>{c.forEach(((_,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))}));let g=yl();return f.forEach(((_,p)=>{const E=c.get(_);E!==void 0&&wl(E.mutation,p,Rn.empty(),ot.now()),ph(n,p)&&(g=g.insert(_,p))})),g}))}}class AC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:fC(l.bundledQuery),readTime:Ni(l.readTime)}})(n)),te.resolve()}}class wC{constructor(){this.overlays=new ht(ve.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=qa();return te.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const l=qa(),c=n.length+1,f=new ve(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ht(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let E=c.get(p.largestBatchId);E===null&&(E=qa(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=qa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=l)););return te.resolve(g)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new HI(n,a));let c=this.qr.get(n);c===void 0&&(c=ze(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}class RC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class $m{constructor(){this.Qr=new kt(zt.$r),this.Ur=new kt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new zt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ve(new st([])),a=new zt(n,e),l=new zt(n,e+1),c=[];return this.Ur.forEachInRange([a,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),a=new zt(n,e),l=new zt(n,e+1);let c=ze();return this.Ur.forEachInRange([a,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new zt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class IC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qI(c,n,a,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new zt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),c=l<0?0:l;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new zt(n,0),l=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(f=>{const g=this.Xr(f.Yr);c.push(g)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new kt(Pe);return n.forEach((l=>{const c=new zt(l,0),f=new zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{a=a.add(g.Yr)}))})),te.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const f=new zt(new ve(c),0);let g=new kt(Pe);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),f),te.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return te.forEach(n.mutations,(l=>{const c=new zt(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new zt(n,0),l=this.Zr.firstAfterOrEqual(a);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CC{constructor(e){this.ri=e,this.docs=(function(){return new ht(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let a=os();return n.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():en.newInvalidDocument(l))})),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=os();const f=n.path,g=new ve(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:E}}=_.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||iI(nI(E),a)<=0||(l.has(E.key)||ph(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Se(9500)}ii(e,n){return te.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new NC(this)}getSize(e){return te.resolve(this.size)}}class NC extends EC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class DC{constructor(e){this.persistence=e,this.si=new Ja((n=>Hm(n)),Fm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),te.waitFor(c).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),te.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class bE{constructor(e,n){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new RC,this.referenceDelegate=e(this),this.Pi=new DC(this),this.indexManager=new mC,this.remoteDocumentCache=(function(l){return new CC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new dC(n),this.Ii=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new IC(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const l=new xC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class xC extends aI{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(a=>{const l=ve.fromPath(a);return this.gi(e,l).next((c=>{c||n.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.pi=new Ja((a=>lI(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=TC(this,n)}static mi(e,n){return new eh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?te.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(a++,c.removeEntry(f,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mu(e.data.value)),n}br(e,n,a){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return te.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zm{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=ze(),l=ze();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(e,n.fromCache,a,l)}}class OC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:rI(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,l,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new OC;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(zr()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Br(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(zr()<=Le.DEBUG&&de("QueryEngine","Query:",Br(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(zr()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Br(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):te.resolve())}ys(e,n){if(Jv(n))return te.resolve(null);let a=Ci(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=hm(n,null,"F"),a=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=ze(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const p=this.Ds(n,g);return this.Cs(n,p,f,_.readTime)?this.ys(e,hm(n,null,"F")):this.vs(e,p,n,_)}))))})))))}ws(e,n,a,l){return Jv(n)||l.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,a).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,a,l)?te.resolve(null):(zr()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Br(n)),this.vs(e,f,n,tI(l,Cl)).next((g=>g)))}))}Ds(e,n){let a=new kt(tE(e));return n.forEach(((l,c)=>{ph(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,a){return zr()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Br(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Wm="LocalStore",MC=3e8;class VC{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ht(Pe),this.xs=new Ja((c=>Hm(c)),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function kC(s,e,n,a){return new VC(s,e,n,a)}async function AE(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],g=[];let _=ze();for(const p of l){f.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(a,_).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:g})))}))}))}function UC(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,E){const w=p.batch,C=w.keys();let j=te.resolve();return C.forEach((F=>{j=j.next((()=>E.getEntry(_,F))).next((Z=>{const Y=p.docVersions.get(F);Xe(Y!==null,48541),Z.version.compareTo(Y)<0&&(w.applyToRemoteDocument(Z,p),Z.isValidDocument()&&(Z.setReadTime(p.commitVersion),E.addEntry(Z)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=ze();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function wE(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function LC(s,e){const n=Ie(s),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((E,w)=>{const C=l.get(w);if(!C)return;g.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,w))));let j=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),l=l.insert(w,j),(function(Z,Y,oe){return Z.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=MC?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(C,j,E)&&g.push(n.Pi.updateTargetData(c,j))}));let _=os(),p=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(PC(c,f,e.documentUpdates).next((E=>{_=E.ks,p=E.qs}))),!a.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return te.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(n.Ms=l,c)))}function PC(s,e,n){let a=ze(),l=ze();return n.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let f=os();return n.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):de(Wm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:f,qs:l}}))}function zC(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=zm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function BC(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((c=>c?(l=c,te.resolve(l)):n.Pi.allocateTargetId(a).next((f=>(l=new Ys(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function pm(s,e,n){const a=Ie(s),l=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!oo(f))throw f;de(Wm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function u0(s,e,n){const a=Ie(s);let l=we.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,p,E){const w=Ie(_),C=w.xs.get(E);return C!==void 0?te.resolve(w.Ms.get(C)):w.Pi.getTargetData(p,E)})(a,f,Ci(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?l:we.min(),n?c:ze()))).next((g=>(qC(a,II(e),g),{documents:g,Qs:c})))))}function qC(s,e,n){let a=s.Os.get(e)||we.min();n.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class h0{constructor(){this.activeTargetIds=jI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HC{constructor(){this.Mo=new h0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FC{Oo(e){}shutdown(){}}const d0="ConnectivityMonitor";class f0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(d0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(d0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cu=null;function ym(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}const Qf="RestConnection",GC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Ku?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,c){const f=ym(),g=this.zo(e,n.toUriEncodedString());de(Qf,`Sending RPC '${e}' ${f}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:p}=new URL(g),E=no(p);return this.Jo(e,g,_,a,E).then((w=>(de(Qf,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw $r(Qf,`RPC '${e}' ${f} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,n,a,l,c,f){return this.Go(e,n,a,l,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const a=GC[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class YC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class KC extends QC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,c){const f=ym();return new Promise(((g,_)=>{const p=new CT;p.setWithCredentials(!0),p.listenOnce(NT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ju.NO_ERROR:const w=p.getResponseJson();de(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),g(w);break;case ju.TIMEOUT:de(Zt,`RPC '${e}' ${f} timed out`),_(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const C=p.getStatus();if(de(Zt,`RPC '${e}' ${f} failed with status:`,C,"response text:",p.getResponseText()),C>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const Z=(function(oe){const he=oe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(he)>=0?he:J.UNKNOWN})(F.status);_(new le(Z,F.message))}else _(new le(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new le(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(l);de(Zt,`RPC '${e}' ${f} sending request:`,l),p.send(n,"POST",E,a,15)}))}T_(e,n,a){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OT(),g=xT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,a),_.encodeInitMessageHeaders=!0;const E=c.join("");de(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,_);const w=f.createWebChannel(E,_);this.I_(w);let C=!1,j=!1;const F=new YC({Yo:Y=>{j?de(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(C||(de(Zt,`Opening RPC '${e}' stream ${l} transport.`),w.open(),C=!0),de(Zt,`RPC '${e}' stream ${l} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),Z=(Y,oe,he)=>{Y.listen(oe,(H=>{try{he(H)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return Z(w,pl.EventType.OPEN,(()=>{j||(de(Zt,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),Z(w,pl.EventType.CLOSE,(()=>{j||(j=!0,de(Zt,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(w))})),Z(w,pl.EventType.ERROR,(Y=>{j||(j=!0,$r(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),F.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),Z(w,pl.EventType.MESSAGE,(Y=>{if(!j){const oe=Y.data[0];Xe(!!oe,16349);const he=oe,H=he?.error||he[0]?.error;if(H){de(Zt,`RPC '${e}' stream ${l} received error:`,H);const ce=H.status;let Te=(function(S){const I=xt[S];if(I!==void 0)return dE(I)})(ce),ne=H.message;Te===void 0&&(Te=J.INTERNAL,ne="Unknown error status: "+ce+" with message "+H.message),j=!0,F.a_(new le(Te,ne)),w.close()}else de(Zt,`RPC '${e}' stream ${l} received:`,oe),F.u_(oe)}})),Z(g,DT.STAT_EVENT,(Y=>{Y.stat===sm.PROXY?de(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):Y.stat===sm.NOPROXY&&de(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Yf(){return typeof document<"u"?document:null}function Th(s){return new ZI(s,!0)}class RE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const m0="PersistentStream";class IE{constructor(e,n,a,l,c,f,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new le(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(m0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(m0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XC extends IE{constructor(e,n,a,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Ni(f.readTime):we.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=gm(this.serializer),n.addTarget=(function(c,f){let g;const _=f.target;if(g=cm(_)?{documents:sC(c,_)}:{query:aC(c,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=gE(c,f.resumeToken);const p=dm(c,f.expectedCount);p!==null&&(g.expectedCount=p)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=Wu(c,f.snapshotVersion.toTimestamp());const p=dm(c,f.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=oC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=gm(this.serializer),n.removeTarget=e,this.q_(n)}}class $C extends IE{constructor(e,n,a,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iC(e.writeResults,e.commitTime),a=Ni(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=gm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>nC(this.serializer,a)))};this.q_(n)}}class JC{}class ZC extends JC{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,fm(n,a),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(J.UNKNOWN,c.toString())}))}Ho(e,n,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,fm(n,a),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class eN{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{Za(this)&&(de($a,"Restarting streams for network reachability change."),await(async function(_){const p=Ie(_);p.Ea.add(4),await Hl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Eh(p)})(this))}))})),this.Ra=new WC(a,l)}}async function Eh(s){if(Za(s))for(const e of s.da)await e(!0)}async function Hl(s){for(const e of s.da)await e(!1)}function CE(s,e){const n=Ie(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ig(n)?ng(n):co(n).O_()&&tg(n,e))}function eg(s,e){const n=Ie(s),a=co(n);n.Ia.delete(e),a.O_()&&NE(n,e),n.Ia.size===0&&(a.O_()?a.L_():Za(n)&&n.Ra.set("Unknown"))}function tg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(s).Y_(e)}function NE(s,e){s.Va.Ue(e),co(s).Z_(e)}function ng(s){s.Va=new KI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),co(s).start(),s.Ra.ua()}function ig(s){return Za(s)&&!co(s).x_()&&s.Ia.size>0}function Za(s){return Ie(s).Ea.size===0}function DE(s){s.Va=void 0}async function tN(s){s.Ra.set("Online")}async function nN(s){s.Ia.forEach(((e,n)=>{tg(s,e)}))}async function iN(s,e){DE(s),ig(s)?(s.Ra.ha(e),ng(s)):s.Ra.set("Unknown")}async function sN(s,e,n){if(s.Ra.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){de($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await th(s,a)}else if(e instanceof Uu?s.Va.Ze(e):e instanceof fE?s.Va.st(e):s.Va.tt(e),!n.isEqual(we.min()))try{const a=await wE(s.localStore);n.compareTo(a)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,p)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),NE(c,_);const w=new Ys(E.target,_,p,E.sequenceNumber);tg(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(a){de($a,"Failed to raise snapshot:",a),await th(s,a)}}async function th(s,e,n){if(!oo(e))throw e;s.Ea.add(1),await Hl(s),s.Ra.set("Offline"),n||(n=()=>wE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de($a,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Eh(s)}))}function xE(s,e){return e().catch((n=>th(s,n,e)))}async function Sh(s){const e=Ie(s),n=ia(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;aN(e);)try{const l=await zC(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,rN(e,l)}catch(l){await th(e,l)}OE(e)&&jE(e)}function aN(s){return Za(s)&&s.Ta.length<10}function rN(s,e){s.Ta.push(e);const n=ia(s);n.O_()&&n.X_&&n.ea(e.mutations)}function OE(s){return Za(s)&&!ia(s).x_()&&s.Ta.length>0}function jE(s){ia(s).start()}async function oN(s){ia(s).ra()}async function lN(s){const e=ia(s);for(const n of s.Ta)e.ea(n.mutations)}async function cN(s,e,n){const a=s.Ta.shift(),l=Ym.from(a,e,n);await xE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Sh(s)}async function uN(s,e){e&&ia(s).X_&&await(async function(a,l){if((function(f){return GI(f)&&f!==J.ABORTED})(l.code)){const c=a.Ta.shift();ia(a).B_(),await xE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(s,e),OE(s)&&jE(s)}async function g0(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),de($a,"RemoteStore received new credentials");const a=Za(n);n.Ea.add(3),await Hl(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Eh(n)}async function hN(s,e){const n=Ie(s);e?(n.Ea.delete(2),await Eh(n)):e||(n.Ea.add(2),await Hl(n),n.Ra.set("Unknown"))}function co(s){return s.ma||(s.ma=(function(n,a,l){const c=Ie(n);return c.sa(),new XC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:tN.bind(null,s),t_:nN.bind(null,s),r_:iN.bind(null,s),H_:sN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ig(s)?ng(s):s.Ra.set("Unknown")):(await s.ma.stop(),DE(s))}))),s.ma}function ia(s){return s.fa||(s.fa=(function(n,a,l){const c=Ie(n);return c.sa(),new $C(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:oN.bind(null,s),r_:uN.bind(null,s),ta:lN.bind(null,s),na:cN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Sh(s)):(await s.fa.stop(),s.Ta.length>0&&(de($a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class sg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const f=Date.now()+a,g=new sg(e,n,f,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(s,e){if(rs("AsyncQueue",`${e}: ${s}`),oo(s))return new le(J.UNAVAILABLE,`${e}: ${s}`);throw s}class Yr{static emptySet(e){return new Yr(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=yl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Yr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class p0{constructor(){this.ga=new ht(ve.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class to{constructor(e,n,a,l,c,f,g,_,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,l,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new to(e,n,Yr.emptySet(n),f,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class dN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fN{constructor(){this.queries=y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ie(n),c=l.queries;l.queries=y0(),c.forEach(((f,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function y0(){return new Ja((s=>eE(s)),gh)}async function rg(s,e){const n=Ie(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new dN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=ag(f,`Initialization of query '${Br(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&lg(n)}async function og(s,e){const n=Ie(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function mN(s,e){const n=Ie(s);let a=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(l)&&(a=!0);f.wa=l}}a&&lg(n)}function gN(s,e,n){const a=Ie(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);a.queries.delete(e)}function lg(s){s.Ca.forEach((e=>{e.next()}))}var _m,_0;(_0=_m||(_m={})).Ma="default",_0.Cache="cache";class cg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new to(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class ME{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class pN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=tE(e),this.tu=new Yr(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new p0,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,w)=>{const C=l.get(E),j=ph(this.query,w)?w:null,F=!!C&&this.mutatedKeys.has(C.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Y=!1;C&&j?C.data.isEqual(j.data)?F!==Z&&(a.track({type:3,doc:j}),Y=!0):this.su(C,j)||(a.track({type:2,doc:j}),Y=!0,(_&&this.eu(j,_)>0||p&&this.eu(j,p)<0)&&(g=!0)):!C&&j?(a.track({type:0,doc:j}),Y=!0):C&&!j&&(a.track({type:1,doc:C}),Y=!0,(_||p)&&(g=!0)),Y&&(j?(f=f.add(j),c=Z?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(j,F){const Z=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:Y})}};return Z(j)-Z(F)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const g=n&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,f.length!==0||p?{snapshot:new to(this.query,e.tu,c,f,e.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new VE(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new ME(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class yN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class _N{constructor(e){this.key=e,this.hu=!1}}class vN{constructor(e,n,a,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ja((g=>eE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ve.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TN(s,e,n=!0){const a=BE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kE(a,e,n,!0),l}async function EN(s,e){const n=BE(s);await kE(n,e,!0,!1)}async function kE(s,e,n,a){const l=await BC(s.localStore,Ci(e)),c=l.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await SN(s,e,c,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&CE(s.remoteStore,l),g}async function SN(s,e,n,a,l){s.pu=(w,C,j)=>(async function(Z,Y,oe,he){let H=Y.view.ru(oe);H.Cs&&(H=await u0(Z.localStore,Y.query,!1).then((({documents:D})=>Y.view.ru(D,H))));const ce=he&&he.targetChanges.get(Y.targetId),Te=he&&he.targetMismatches.get(Y.targetId)!=null,ne=Y.view.applyChanges(H,Z.isPrimaryClient,ce,Te);return T0(Z,Y.targetId,ne.au),ne.snapshot})(s,w,C,j);const c=await u0(s.localStore,e,!0),f=new pN(e,c.Qs),g=f.ru(c.documents),_=ql.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),p=f.applyChanges(g,s.isPrimaryClient,_);T0(s,n,p.au);const E=new yN(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function bN(s,e,n){const a=Ie(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((f=>!gh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&eg(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(ro)):(vm(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function AN(s,e){const n=Ie(s),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),eg(n.remoteStore,a.targetId))}async function wN(s,e,n){const a=ON(s);try{const l=await(function(f,g){const _=Ie(f),p=ot.now(),E=g.reduce(((j,F)=>j.add(F.key)),ze());let w,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=os(),Z=ze();return _.Ns.getEntries(j,E).next((Y=>{F=Y,F.forEach(((oe,he)=>{he.isValidDocument()||(Z=Z.add(oe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(j,F))).next((Y=>{w=Y;const oe=[];for(const he of g){const H=zI(he,w.get(he.key).overlayedDocument);H!=null&&oe.push(new ra(he.key,H,QT(H.value.mapValue),qn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,p,oe,g)})).next((Y=>{C=Y;const oe=Y.applyToLocalDocumentSet(w,Z);return _.documentOverlayCache.saveOverlays(j,Y.batchId,oe)}))})).then((()=>({batchId:C.batchId,changes:iE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(f,g,_){let p=f.Vu[f.currentUser.toKey()];p||(p=new ht(Pe)),p=p.insert(g,_),f.Vu[f.currentUser.toKey()]=p})(a,l.batchId,n),await Fl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");n.reject(c)}}async function UE(s,e){const n=Ie(s);try{const a=await LC(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Xe(f.hu,14607):l.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await Fl(n,a,e)}catch(a){await ro(a)}}function v0(s,e,n){const a=Ie(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const _=Ie(f);_.onlineState=g;let p=!1;_.queries.forEach(((E,w)=>{for(const C of w.Sa)C.va(g)&&(p=!0)})),p&&lg(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RN(s,e,n){const a=Ie(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),c=l&&l.key;if(c){let f=new ht(ve.comparator);f=f.insert(c,en.newNoDocument(c,we.min()));const g=ze().add(c),_=new vh(we.min(),new Map,new ht(Pe),f,g);await UE(a,_),a.du=a.du.remove(c),a.Au.delete(e),hg(a)}else await pm(a.localStore,e,!1).then((()=>vm(a,e,n))).catch(ro)}async function IN(s,e){const n=Ie(s),a=e.batch.batchId;try{const l=await UC(n.localStore,e);PE(n,a,null),LE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(n,l)}catch(l){await ro(l)}}async function CN(s,e,n){const a=Ie(s);try{const l=await(function(f,g){const _=Ie(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return _.mutationQueue.lookupMutationBatch(p,g).next((w=>(Xe(w!==null,37113),E=w.keys(),_.mutationQueue.removeMutationBatch(p,w)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>_.localDocuments.getDocuments(p,E)))}))})(a.localStore,e);PE(a,e,n),LE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Fl(a,l)}catch(l){await ro(l)}}function LE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function PE(s,e,n){const a=Ie(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function vm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||zE(s,a)}))}function zE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(eg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),hg(s))}function T0(s,e,n){for(const a of n)a instanceof ME?(s.Ru.addReference(a.key,e),NN(s,a)):a instanceof VE?(de(ug,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||zE(s,a.key)):Se(19791,{wu:a})}function NN(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(de(ug,"New document in limbo: "+n),s.Eu.add(a),hg(s))}function hg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(st.fromString(e)),a=s.fu.next();s.Au.set(a,new _N(n)),s.du=s.du.insert(n,a),CE(s.remoteStore,new Ys(Ci(mh(n.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Fl(s,e,n){const a=Ie(s),l=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{f.push(a.pu(_,e,n).then((p=>{if((p||n)&&a.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(p){l.push(p);const E=Zm.As(_.targetId,p);c.push(E)}})))})),await Promise.all(f),a.Pu.H_(l),await(async function(_,p){const E=Ie(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(p,(C=>te.forEach(C.Es,(j=>E.persistence.referenceDelegate.addReference(w,C.targetId,j))).next((()=>te.forEach(C.ds,(j=>E.persistence.referenceDelegate.removeReference(w,C.targetId,j)))))))))}catch(w){if(!oo(w))throw w;de(Wm,"Failed to update sequence numbers: "+w)}for(const w of p){const C=w.targetId;if(!w.fromCache){const j=E.Ms.get(C),F=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(C,Z)}}})(a.localStore,c))}async function DN(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){de(ug,"User change. New user:",e.toKey());const a=await AE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new le(J.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fl(n,a.Ls)}}function xN(s,e){const n=Ie(s),a=n.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let l=ze();const c=n.Iu.get(e);if(!c)return l;for(const f of c){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function BE(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RN.bind(null,e),e.Pu.H_=mN.bind(null,e.eventManager),e.Pu.yu=gN.bind(null,e.eventManager),e}function ON(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kC(this.persistence,new jC,e.initialUser,this.serializer)}Cu(e){return new bE(Jm.mi,this.serializer)}Du(e){return new HC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class jN extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _C(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new bE((a=>eh.mi(a,n)),this.serializer)}}class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>v0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await hN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fN})()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),a=(function(c){return new KC(c)})(e.databaseInfo);return(function(c,f,g,_){return new ZC(c,f,g,_)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,c,f,g){return new eN(a,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>v0(this.syncEngine,n,0)),(function(){return f0.v()?new f0:new FC})())}createSyncEngine(e,n){return(function(l,c,f,g,_,p,E){const w=new vN(l,c,f,g,_,p);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ie(n);de($a,"RemoteStore shutting down."),a.Ea.add(5),await Hl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class MN{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{de(sa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(de(sa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=ag(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kf(s,e){s.asyncQueue.verifyOperationInProgress(),de(sa,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await AE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function E0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await VN(s);de(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>g0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>g0(e.remoteStore,l))),s._onlineComponents=e}async function VN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(sa,"Using user provided OfflineComponentProvider");try{await Kf(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;$r("Error using user provided cache. Falling back to memory cache: "+n),await Kf(s,new nh)}}else de(sa,"Using default OfflineComponentProvider"),await Kf(s,new jN(void 0));return s._offlineComponents}async function qE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(sa,"Using user provided OnlineComponentProvider"),await E0(s,s._uninitializedComponentsProvider._online)):(de(sa,"Using default OnlineComponentProvider"),await E0(s,new Tm))),s._onlineComponents}function kN(s){return qE(s).then((e=>e.syncEngine))}async function ih(s){const e=await qE(s),n=e.eventManager;return n.onListen=TN.bind(null,e.syncEngine),n.onUnlisten=bN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,e.syncEngine),n}function UN(s,e,n={}){const a=new is;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,_,p){const E=new dg({next:C=>{E.Nu(),f.enqueueAndForget((()=>og(c,w)));const j=C.docs.has(g);!j&&C.fromCache?p.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&_&&_.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),w=new cg(mh(g.path),E,{includeMetadataChanges:!0,qa:!0});return rg(c,w)})(await ih(s),s.asyncQueue,e,n,a))),a.promise}function LN(s,e,n={}){const a=new is;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,_,p){const E=new dg({next:C=>{E.Nu(),f.enqueueAndForget((()=>og(c,w))),C.fromCache&&_.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),w=new cg(g,E,{includeMetadataChanges:!0,qa:!0});return rg(c,w)})(await ih(s),s.asyncQueue,e,n,a))),a.promise}function HE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const S0=new Map;const FE="firestore.googleapis.com",b0=!0;class A0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=b0}else this.host=e.host,this.ssl=e.ssl??b0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pC)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new FR;switch(a.type){case"firstParty":return new KR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=S0.get(n);a&&(de("ComponentProvider","Removing Datastore"),S0.delete(n),a.terminate())})(this),Promise.resolve()}}function PN(s,e,n,a={}){s=pn(s,bh);const l=no(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(H0(`https://${g}`),F0("Firestore",!0)),c.host!==FE&&c.host!==g&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Qa(_,f)&&(s._setSettings(_),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=Wt.MOCK_USER;else{p=mA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(w)}s._authCredentials=new GR(new MT(p,E))}}class oa{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class mt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(zl(n,mt._jsonSchema))return new mt(e,a||null,new ve(st.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),referencePath:jt("string")};class Zs extends oa{constructor(e,n,a){super(e,n,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ve(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Gl(s,e,...n){if(s=Bt(s),VT("collection","path",e),s instanceof bh){const a=st.fromString(e,...n);return Uv(a),new Zs(s,null,a)}{if(!(s instanceof mt||s instanceof Zs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return Uv(a),new Zs(s.firestore,null,a)}}function la(s,e,...n){if(s=Bt(s),arguments.length===1&&(e=Pm.newId()),VT("doc","path",e),s instanceof bh){const a=st.fromString(e,...n);return kv(a),new mt(s,null,new ve(a))}{if(!(s instanceof mt||s instanceof Zs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return kv(a),new mt(s.firestore,s instanceof Zs?s.converter:null,new ve(a))}}const w0="AsyncQueue";class R0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RE(this,"async_queue_retry"),this._c=()=>{const a=Yf();a&&de(w0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oo(e))throw e;de(w0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",I0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=sg.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:I0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function I0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function C0(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ls extends bh{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new R0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R0(e),this._firestoreClient=void 0,await e}}}function zN(s,e){const n=typeof s=="object"?s:K0(),a=typeof s=="string"?s:Ku,l=Im(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=dA("firestore");c&&PN(l,...c)}return l}function Ah(s){if(s._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BN(s),s._firestoreClient}function BN(s){const e=s._freezeSettings(),n=(function(l,c,f,g){return new hI(l,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,HE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new MN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn($t.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zl(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:jt("string",Bn._jsonSchemaVersion),bytes:jt("string")};class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._methodName=e}}class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(zl(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:jt("string",Di._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zl(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:jt("string",xi._jsonSchemaVersion),vectorValues:jt("object")};const qN=/^__.*__$/;class HN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bl(e,this.data,n,this.fieldTransforms)}}class GE{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class mg{constructor(e,n,a,l,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QE(this.Ac)&&qN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Th(e)}Cc(e,n,a,l=!1){return new mg({Ac:e,methodName:n,Dc:a,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(s){const e=s._freezeSettings(),n=Th(s._databaseId);return new FN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function YE(s,e,n,a,l,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);gg("Data must be an object, but it was:",f,a);const g=KE(a,f);let _,p;if(c.merge)_=new Rn(f.fieldMask),p=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const C=Em(e,w,n);if(!f.contains(C))throw new le(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);$E(E,C)||E.push(C)}_=new Rn(E),p=f.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,p=f.fieldTransforms;return new HN(new gn(g),_,p)}class Ih extends fg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function GN(s,e,n,a){const l=s.Cc(1,e,n);gg("Data must be an object, but it was:",l,a);const c=[],f=gn.empty();aa(a,((_,p)=>{const E=pg(e,_,n);p=Bt(p);const w=l.yc(E);if(p instanceof Ih)c.push(E);else{const C=Ql(p,w);C!=null&&(c.push(E),f.set(E,C))}}));const g=new Rn(c);return new GE(f,g,l.fieldTransforms)}function QN(s,e,n,a,l,c){const f=s.Cc(1,e,n),g=[Em(e,a,n)],_=[l];if(c.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(Em(e,c[C])),_.push(c[C+1]);const p=[],E=gn.empty();for(let C=g.length-1;C>=0;--C)if(!$E(p,g[C])){const j=g[C];let F=_[C];F=Bt(F);const Z=f.yc(j);if(F instanceof Ih)p.push(j);else{const Y=Ql(F,Z);Y!=null&&(p.push(j),E.set(j,Y))}}const w=new Rn(p);return new GE(E,w,f.fieldTransforms)}function YN(s,e,n,a=!1){return Ql(n,s.Cc(a?4:3,e))}function Ql(s,e){if(XE(s=Bt(s)))return gg("Unsupported field value:",e,s),KE(s,e);if(s instanceof fg)return(function(a,l){if(!QE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let f=0;for(const g of a){let _=Ql(g,l.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Bt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ot.fromDate(a);return{timestampValue:Wu(l.serializer,c)}}if(a instanceof ot){const c=new ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wu(l.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:gE(l.serializer,a._byteString)};if(a instanceof mt){const c=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof xi)return(function(f,g){return{mapValue:{fields:{[FT]:{stringValue:GT},[Xu]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gm(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${uh(a)}`)})(s,e)}function KE(s,e){const n={};return LT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(s,((a,l)=>{const c=Ql(l,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function XE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Di||s instanceof Bn||s instanceof mt||s instanceof fg||s instanceof xi)}function gg(s,e,n){if(!XE(n)||!kT(n)){const a=uh(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Em(s,e,n){if((e=Bt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return pg(s,e);throw sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const KN=new RegExp("[~\\*/\\[\\]]");function pg(s,e,n){if(e.search(KN)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function sh(s,e,n,a,l){const c=a&&!a.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${a}`),f&&(_+=` in document ${l}`),_+=")"),new le(J.INVALID_ARGUMENT,g+s+_)}function $E(s,e){return s.some((n=>n.isEqual(e)))}class JE{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ch("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XN extends JE{data(){return super.data()}}function Ch(s,e){return typeof e=="string"?pg(s,e):e instanceof wh?e._internalPath:e._delegate._internalPath}function ZE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class WE extends yg{}function _g(s,e,...n){let a=[];e instanceof yg&&a.push(e),a=a.concat(n),(function(c){const f=c.filter((_=>_ instanceof vg)).length,g=c.filter((_=>_ instanceof Nh)).length;if(f>1||f>0&&g>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Nh extends WE{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Nh(e,n,a)}_apply(e){const n=this._parse(e);return eS(e._query,n),new oa(e.firestore,e.converter,um(e._query,n))}_parse(e){const n=Rh(e.firestore);return(function(c,f,g,_,p,E,w){let C;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){D0(w,E);const F=[];for(const Z of w)F.push(N0(_,c,Z));C={arrayValue:{values:F}}}else C=N0(_,c,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||D0(w,E),C=YN(g,f,w,E==="in"||E==="not-in");return Ot.create(p,E,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $N(s,e,n){const a=e,l=Ch("where",s);return Nh._create(l,a,n)}class vg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const _ of g)eS(f,_),f=um(f,_)})(e._query,n),new oa(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends WE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tg(e,n)}_apply(e){const n=(function(l,c,f){if(l.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(c,f)})(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,(function(l,c){const f=l.explicitOrderBy.concat([c]);return new lo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Eg(s,e="asc"){const n=e,a=Ch("orderBy",s);return Tg._create(a,n)}function N0(s,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(st.fromString(n));if(!ve.isDocumentKey(a))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Gv(s,new ve(a))}if(n instanceof mt)return Gv(s,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function D0(s,e){if(!Array.isArray(s)||s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eS(s,e){const n=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JN{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return aa(e,((l,c)=>{a[l]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[Xu].arrayValue?.values?.map((a=>Tt(a.doubleValue)));return new xi(n)}convertGeoPoint(e){return new Di(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const n=ea(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=st.fromString(e);Xe(EE(a),9688,{name:e});const l=new Dl(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return l.isEqual(n)||rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function tS(s,e,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,a}class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends JE{constructor(e,n,a,l,c,f){super(e,n,a,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Ch("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:jt("string",Fa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Lu extends Fa{data(e={}){return super.data(e)}}class Ga{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Lu(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const _=new Lu(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Lu(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return g.type!==0&&(p=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:ZN(g.type),doc:_,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function WN(s){s=pn(s,mt);const e=pn(s.firestore,ls);return UN(Ah(e),s._key).then((n=>rS(e,s,n)))}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:jt("string",Ga._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Sg extends JN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function nS(s){s=pn(s,oa);const e=pn(s.firestore,ls),n=Ah(e),a=new Sg(e);return ZE(s._query),LN(n,s._query).then((l=>new Ga(e,a,s,l)))}function iS(s,e,n){s=pn(s,mt);const a=pn(s.firestore,ls),l=tS(s.converter,e,n);return Dh(a,[YE(Rh(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,qn.none())])}function sS(s,e,n,...a){s=pn(s,mt);const l=pn(s.firestore,ls),c=Rh(l);let f;return f=typeof(e=Bt(e))=="string"||e instanceof wh?QN(c,"updateDoc",s._key,e,n,a):GN(c,"updateDoc",s._key,e),Dh(l,[f.toMutation(s._key,qn.exists(!0))])}function bg(s){return Dh(pn(s.firestore,ls),[new Qm(s._key,qn.none())])}function aS(s,e){const n=pn(s.firestore,ls),a=la(s),l=tS(s.converter,e);return Dh(n,[YE(Rh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,qn.exists(!1))]).then((()=>a))}function e2(s,...e){s=Bt(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||C0(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C0(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,f,g;if(s instanceof mt)f=pn(s.firestore,ls),g=mh(s._key.path),c={next:_=>{e[a]&&e[a](rS(f,s,_))},error:e[a+1],complete:e[a+2]};else{const _=pn(s,oa);f=pn(_.firestore,ls),g=_._query;const p=new Sg(f);c={next:E=>{e[a]&&e[a](new Ga(f,p,_,E))},error:e[a+1],complete:e[a+2]},ZE(s._query)}return(function(p,E,w,C){const j=new dg(C),F=new cg(E,j,w);return p.asyncQueue.enqueueAndForget((async()=>rg(await ih(p),F))),()=>{j.Nu(),p.asyncQueue.enqueueAndForget((async()=>og(await ih(p),F)))}})(Ah(f),g,l,c)}function Dh(s,e){return(function(a,l){const c=new is;return a.asyncQueue.enqueueAndForget((async()=>wN(await kN(a),l,c))),c.promise})(Ah(s),e)}function rS(s,e,n){const a=n.docs.get(e._key),l=new Sg(s);return new Fa(s,l,e._key,a,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){ao=l})(io),Kr(new Ya("firestore",((a,{instanceIdentifier:l,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new ls(new QR(a.getProvider("auth-internal")),new XR(f,a.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(p.options.projectId,E)})(f,l),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(Ov,jv,e),$s(Ov,jv,"esm2020")})();const t2={apiKey:"AIzaSyA4Dg6dUSUljW3lRZGMndbzSnsbcwkEuv8",authDomain:"studyapp-28e08.firebaseapp.com",projectId:"studyapp-28e08",storageBucket:"studyapp-28e08.firebasestorage.app",messagingSenderId:"929036775806",appId:"1:929036775806:web:50c21242a761566e31c32f"},oS=Y0(t2),Xf=qR(oS),n2=new es,ca=zN(oS);function x0({onAuthChange:s}){const[e,n]=ge.useState(null),[a,l]=ge.useState(!0);ge.useEffect(()=>{const g=Dw(Xf,_=>{n(_),l(!1),s&&s(_)});return()=>g()},[s]);const c=async()=>{try{await Jw(Xf,n2)}catch(g){console.error("Error signing in with Google:",g),alert(": "+g.message)}},f=async()=>{try{await xw(Xf)}catch(g){console.error("Error signing out:",g),alert(": "+g.message)}};return a?y.jsx("div",{className:"auth-container",children:y.jsx("div",{className:"auth-loading",children:"..."})}):e?y.jsxs("div",{className:"auth-user-info",children:[y.jsxs("div",{className:"user-profile",children:[e.photoURL&&y.jsx("img",{src:e.photoURL,alt:"Profile",className:"user-avatar"}),y.jsx("span",{className:"user-name",children:e.displayName||e.email})]}),y.jsx("button",{onClick:f,className:"signout-btn",children:""})]}):y.jsx("div",{className:"auth-container",children:y.jsxs("div",{className:"auth-card",children:[y.jsx("h2",{children:" SAPIX "}),y.jsxs("p",{className:"auth-description",children:["Google",y.jsx("br",{}),""]}),y.jsxs("button",{onClick:c,className:"google-signin-btn",children:[y.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[y.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),y.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),y.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),y.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})]}),"Google"]})]})})}function i2({tasks:s,onToggleTask:e,onDeleteTask:n,onEditTask:a}){const[l,c]=ge.useState("today");function f(C){const j=C.getFullYear(),F=String(C.getMonth()+1).padStart(2,"0"),Z=String(C.getDate()).padStart(2,"0");return`${j}-${F}-${Z}`}function g(){const C=f(new Date);return s.filter(j=>j.dueDate===C)}const _={:"",:"",:"",:""},p={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},E=g(),w=C=>{c(l===C?null:C)};return y.jsx("div",{className:"today-week-view",children:y.jsxs("div",{className:"priority-section today-section",children:[y.jsxs("div",{className:"section-header",onClick:()=>w("today"),children:[y.jsxs("h2",{children:[" ",y.jsxs("span",{className:"task-count",children:[E.filter(C=>!C.completed).length," / ",E.length]})]}),y.jsx("span",{className:"toggle-icon",children:l==="today"?"":""})]}),l==="today"&&y.jsx("div",{className:"task-grid",children:E.length===0?y.jsx("div",{className:"no-tasks-message",children:""}):E.map(C=>{const j=p[C.subject]||"#64748b";return y.jsxs("div",{className:`priority-task ${C.completed?"completed":""}`,style:{borderColor:j,backgroundColor:`${j}15`,boxShadow:`0 2px 8px ${j}25`},children:[y.jsx("input",{type:"checkbox",checked:C.completed,onChange:()=>e(C.id),className:"task-checkbox"}),y.jsx("span",{className:"subject-emoji",children:_[C.subject]}),y.jsx("span",{className:"subject-badge",style:{color:j},children:C.subject}),y.jsx("span",{className:"task-title",children:C.title}),C.priority&&y.jsx("span",{className:"task-priority-badge",children:C.priority}),y.jsxs("div",{className:"task-actions",children:[a&&y.jsx("button",{className:"edit-btn",onClick:()=>a(C),title:"",children:""}),y.jsx("button",{className:"delete-btn",onClick:()=>n(C.id),title:"",children:""})]})]},C.id)})})]})})}const s2="modulepreload",a2=function(s){return"/New_Repository/"+s},O0={},r2=function(e,n,a){let l=Promise.resolve();if(n&&n.length>0){let p=function(E){return Promise.all(E.map(w=>Promise.resolve(w).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var f=p;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=g?.nonce||g?.getAttribute("nonce");l=p(n.map(E=>{if(E=a2(E),E in O0)return;O0[E]=!0;const w=E.endsWith(".css"),C=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${C}`))return;const j=document.createElement("link");if(j.rel=w?"stylesheet":s2,w||(j.as="script"),j.crossOrigin="",j.href=E,_&&j.setAttribute("nonce",_),document.head.appendChild(j),w)return new Promise((F,Z)=>{j.addEventListener("load",F),j.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(g){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=g,window.dispatchEvent(_),!_.defaultPrevented)throw g}return l.then(g=>{for(const _ of g||[])_.status==="rejected"&&c(_.reason);return e().catch(c)})},ah={:{"3":[{id:"math3_01",name:"",category:""},{id:"math3_02",name:"",category:""},{id:"math3_03",name:"",category:""},{id:"math3_04",name:"",category:""},{id:"math3_05",name:"",category:""},{id:"math3_06",name:"",category:""},{id:"math3_07",name:"",category:""},{id:"math3_08",name:"",category:""},{id:"math3_09",name:"",category:""},{id:"math3_10",name:"",category:""},{id:"math3_11",name:"",category:""},{id:"math3_12",name:"",category:""}],"4":[{id:"math4_01",name:"",category:""},{id:"math4_02",name:"",category:""},{id:"math4_03",name:"",category:""},{id:"math4_04",name:"",category:""},{id:"math4_05",name:"",category:""},{id:"math4_06",name:"",category:""},{id:"math4_07",name:"",category:""},{id:"math4_08",name:"",category:""},{id:"math4_09",name:"",category:""},{id:"math4_10",name:"",category:""},{id:"math4_11",name:"",category:""},{id:"math4_12",name:"",category:""},{id:"math4_13",name:"",category:""},{id:"math4_14",name:"",category:""},{id:"math4_15",name:"",category:""}],"5":[{id:"math5_01",name:"",category:""},{id:"math5_02",name:"",category:""},{id:"math5_03",name:"",category:""},{id:"math5_04",name:"",category:""},{id:"math5_05",name:"",category:""},{id:"math5_06",name:"",category:""},{id:"math5_07",name:"",category:""},{id:"math5_08",name:"",category:""},{id:"math5_09",name:"",category:""},{id:"math5_10",name:"",category:""},{id:"math5_11",name:"",category:""},{id:"math5_12",name:"",category:""},{id:"math5_13",name:"",category:""},{id:"math5_14",name:"",category:""},{id:"math5_15",name:"N",category:""},{id:"math5_16",name:"",category:""},{id:"math5_17",name:"",category:""},{id:"math5_18",name:"",category:""}],"6":[{id:"math6_01",name:"",category:""},{id:"math6_02",name:"",category:""},{id:"math6_03",name:"",category:""},{id:"math6_04",name:"",category:""},{id:"math6_05",name:"",category:""},{id:"math6_06",name:"",category:""},{id:"math6_07",name:"",category:""},{id:"math6_08",name:"",category:""},{id:"math6_09",name:"",category:""},{id:"math6_10",name:"",category:""},{id:"math6_11",name:"",category:""},{id:"math6_12",name:"",category:""}]},:{"3":[{id:"lang3_01",name:"3",category:""},{id:"lang3_02",name:"",category:""},{id:"lang3_03",name:"",category:""},{id:"lang3_04",name:"",category:""},{id:"lang3_05",name:"",category:""},{id:"lang3_06",name:"",category:""},{id:"lang3_07",name:"",category:""},{id:"lang3_08",name:"",category:""}],"4":[{id:"lang4_01",name:"4",category:""},{id:"lang4_02",name:"",category:""},{id:"lang4_03",name:"",category:""},{id:"lang4_04",name:"",category:""},{id:"lang4_05",name:"",category:""},{id:"lang4_06",name:"",category:""},{id:"lang4_07",name:"",category:""},{id:"lang4_08",name:"",category:""},{id:"lang4_09",name:"",category:""},{id:"lang4_10",name:"",category:""}],"5":[{id:"lang5_01",name:"5",category:""},{id:"lang5_02",name:"",category:""},{id:"lang5_03",name:"",category:""},{id:"lang5_04",name:"",category:""},{id:"lang5_05",name:"",category:""},{id:"lang5_06",name:"",category:""},{id:"lang5_07",name:"",category:""},{id:"lang5_08",name:"",category:""},{id:"lang5_09",name:"",category:""},{id:"lang5_10",name:"",category:""},{id:"lang5_11",name:"",category:""}],"6":[{id:"lang6_01",name:"6",category:""},{id:"lang6_02",name:"",category:""},{id:"lang6_03",name:"",category:""},{id:"lang6_04",name:"",category:""},{id:"lang6_05",name:"",category:""},{id:"lang6_06",name:"",category:""},{id:"lang6_07",name:"",category:""},{id:"lang6_08",name:"",category:""},{id:"lang6_09",name:"",category:""},{id:"lang6_10",name:"",category:""}]},:{"3":[{id:"sci3_01",name:"",category:""},{id:"sci3_02",name:"",category:""},{id:"sci3_03",name:"",category:""},{id:"sci3_04",name:"",category:""},{id:"sci3_05",name:"",category:""},{id:"sci3_06",name:"",category:""},{id:"sci3_07",name:"",category:""},{id:"sci3_08",name:"",category:""}],"4":[{id:"sci4_01",name:"",category:""},{id:"sci4_02",name:"",category:""},{id:"sci4_03",name:"",category:""},{id:"sci4_04",name:"",category:""},{id:"sci4_05",name:"",category:""},{id:"sci4_06",name:"",category:""},{id:"sci4_07",name:"",category:""},{id:"sci4_08",name:"",category:""},{id:"sci4_09",name:"",category:""},{id:"sci4_10",name:"",category:""},{id:"sci4_11",name:"",category:""}],"5":[{id:"sci5_01",name:"",category:""},{id:"sci5_02",name:"",category:""},{id:"sci5_03",name:"",category:""},{id:"sci5_04",name:"",category:""},{id:"sci5_05",name:"",category:""},{id:"sci5_06",name:"",category:""},{id:"sci5_07",name:"",category:""},{id:"sci5_08",name:"",category:""},{id:"sci5_09",name:"",category:""},{id:"sci5_10",name:"",category:""},{id:"sci5_11",name:"",category:""},{id:"sci5_12",name:"",category:""}],"6":[{id:"sci6_01",name:"",category:""},{id:"sci6_02",name:"",category:""},{id:"sci6_03",name:"",category:""},{id:"sci6_04",name:"",category:""},{id:"sci6_05",name:"",category:""},{id:"sci6_06",name:"",category:""},{id:"sci6_07",name:"",category:""},{id:"sci6_08",name:"",category:""},{id:"sci6_09",name:"",category:""},{id:"sci6_10",name:"",category:""}]},:{"3":[{id:"soc3_01",name:"",category:""},{id:"soc3_02",name:"",category:""},{id:"soc3_03",name:"",category:""},{id:"soc3_04",name:"",category:""},{id:"soc3_05",name:"",category:""},{id:"soc3_06",name:"",category:""}],"4":[{id:"soc4_01",name:"",category:""},{id:"soc4_02",name:"",category:""},{id:"soc4_03",name:"",category:""},{id:"soc4_04",name:"",category:""},{id:"soc4_05",name:"",category:""},{id:"soc4_06",name:"",category:""},{id:"soc4_07",name:"",category:""},{id:"soc4_08",name:"",category:""},{id:"soc4_09",name:"",category:""}],"5":[{id:"soc5_01",name:"",category:""},{id:"soc5_02",name:"",category:""},{id:"soc5_03",name:"",category:""},{id:"soc5_04",name:"",category:""},{id:"soc5_05",name:"",category:""},{id:"soc5_06",name:"",category:""},{id:"soc5_07",name:"",category:""},{id:"soc5_08",name:"",category:""},{id:"soc5_09",name:"",category:""},{id:"soc5_10",name:"",category:""},{id:"soc5_11",name:"",category:""},{id:"soc5_12",name:"",category:""},{id:"soc5_13",name:"",category:""},{id:"soc5_14",name:"",category:""}],"6":[{id:"soc6_01",name:"",category:""},{id:"soc6_02",name:"",category:""},{id:"soc6_03",name:"",category:""},{id:"soc6_04",name:"",category:""},{id:"soc6_05",name:"",category:""},{id:"soc6_06",name:"",category:""},{id:"soc6_07",name:"",category:""},{id:"soc6_08",name:"",category:""},{id:"soc6_09",name:"",category:""}]}},Ag=["","","",""],xh=["3","4","5","6"];function j0({onAddTask:s,onUpdateTask:e,editingTask:n,onCancelEdit:a,customUnits:l=[],onAddCustomUnit:c}){const[f,g]=ge.useState(""),[_,p]=ge.useState(""),[E,w]=ge.useState("4"),[C,j]=ge.useState(""),[F,Z]=ge.useState("daily"),[Y,oe]=ge.useState("B"),[he,H]=ge.useState(""),[ce,Te]=ge.useState(!1),[ne,D]=ge.useState(""),[S,I]=ge.useState(""),[x,N]=ge.useState(null),[M,A]=ge.useState(""),[K,fe]=ge.useState(""),[P,ie]=ge.useState("1"),[pe,Oe]=ge.useState([]);ge.useEffect(()=>{n&&(g(n.title||""),p(n.subject||""),w(n.grade||"4"),j(n.unitId||""),Z(n.taskType||"daily"),oe(n.priority||"B"),H(n.dueDate||""),A(n.schoolName||""),fe(n.year||""),ie(n.round||"1"),Oe(n.relatedUnits||[]))},[n]);const Ge=se=>{if(se.preventDefault(),f.trim()){const In=k(C),gt={title:f.trim(),subject:_,grade:E,unitId:C,unit:In,taskType:F,priority:Y,dueDate:he||null};F==="pastpaper"&&(gt.schoolName=M.trim(),gt.year=K.trim(),gt.round=P,gt.relatedUnits=pe),console.log(" /:",gt),n?e(n.id,gt):s(gt),g(""),j(""),N(null),A(""),fe(""),ie("1"),Oe([]),n&&a&&a()}},k=se=>{if(console.log(" getUnitName:",{unitId:se,subject:_,grade:E}),!se)return"";if(x&&x.id===se)return console.log(" :",x.name),x.name;const gt=(ah[_]?.[E]||[]).find(rn=>rn.id===se);if(gt)return console.log(" :",gt.name),gt.name;console.log(" :",{customUnits:l,unitId:se});const Et=l.find(rn=>rn.id===se);return Et?(console.log(" :",Et.name),Et.name):(console.log(" "),"")},W=async()=>{if(!ne.trim()){alert("");return}if(!c){alert("");return}const{generateCustomUnitId:se}=await r2(async()=>{const{generateCustomUnitId:rn}=await Promise.resolve().then(()=>V2);return{generateCustomUnitId:rn}},void 0),gt={id:se(_,E,ne),subject:_,grade:E,name:ne.trim(),category:S};console.log(" :",gt);const Et=await c(gt);if(console.log(" :",Et),Et.success){const rn=ne.trim();N({id:Et.data.id,name:rn}),D(""),I(""),Te(!1),j(Et.data.id),alert(` ${rn}`)}else alert(` : ${Et.error||""}`)},re=()=>{g(""),j(""),a&&a()},ue=se=>{pe.includes(se)?Oe(pe.filter(In=>In!==se)):Oe([...pe,se])},be=[{value:"daily",label:"",emoji:""},{value:"basic",label:"",emoji:""},{value:"test",label:"",emoji:""},{value:"pastpaper",label:"",emoji:""},{value:"weakness",label:"",emoji:""}],Ce=[{value:"A",label:"A ()",color:"#ef4444"},{value:"B",label:"B ()",color:"#f59e0b"},{value:"C",label:"C ()",color:"#3b82f6"}],Ve=["","","",""],ut=ah[_]?.[E]||[],Ke=l.filter(se=>se.subject===_&&se.grade===E),Mi=[...ut,...Ke];return ge.useEffect(()=>{console.log(" :"),console.log("  :",l),console.log("  :",_),console.log("  :",E),console.log("  :",Ke)},[l,_,E,Ke]),y.jsxs("form",{className:"task-form sapix-form",onSubmit:Ge,children:[y.jsx("h2",{children:n?" ":" "}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group third",children:[y.jsx("label",{htmlFor:"subject",children:""}),y.jsx("select",{id:"subject",value:_,onChange:se=>{p(se.target.value),j("")},children:Ve.map(se=>y.jsx("option",{value:se,children:se},se))})]}),y.jsxs("div",{className:"form-group third",children:[y.jsx("label",{htmlFor:"grade",children:""}),y.jsx("select",{id:"grade",value:E,onChange:se=>{w(se.target.value),j("")},children:xh.map(se=>y.jsx("option",{value:se,children:se},se))})]}),y.jsxs("div",{className:"form-group third",children:[y.jsx("label",{htmlFor:"unit",children:""}),y.jsxs("div",{className:"unit-select-container",children:[y.jsxs("select",{id:"unit",value:C,onChange:se=>j(se.target.value),children:[y.jsx("option",{value:"",children:""}),ut.length>0&&y.jsx("optgroup",{label:"",children:ut.map(se=>y.jsxs("option",{value:se.id,children:[se.name," (",se.category,")"]},se.id))}),Ke.length>0&&y.jsx("optgroup",{label:"",children:Ke.map(se=>y.jsxs("option",{value:se.id,children:[se.name," (",se.category,")"]},se.id))})]}),y.jsx("button",{type:"button",className:"add-custom-unit-btn",onClick:()=>Te(!ce),title:"",children:""})]})]})]}),ce&&y.jsxs("div",{className:"custom-unit-form",children:[y.jsx("h3",{children:" "}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group half",children:[y.jsx("label",{htmlFor:"customUnitName",children:""}),y.jsx("input",{type:"text",id:"customUnitName",value:ne,onChange:se=>D(se.target.value),placeholder:": 20231"})]}),y.jsxs("div",{className:"form-group half",children:[y.jsx("label",{htmlFor:"customUnitCategory",children:""}),y.jsxs("select",{id:"customUnitCategory",value:S,onChange:se=>I(se.target.value),children:[y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""})]})]})]}),y.jsxs("div",{className:"custom-unit-actions",children:[y.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Te(!1),D(""),I("")},children:""}),y.jsx("button",{type:"button",className:"btn-primary",onClick:W,children:""})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"title",children:""}),y.jsx("input",{type:"text",id:"title",value:f,onChange:se=>g(se.target.value),placeholder:":  No.23 p.12-15",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("div",{className:"task-type-buttons",children:be.map(se=>y.jsxs("button",{type:"button",className:`type-btn ${F===se.value?"active":""}`,onClick:()=>Z(se.value),children:[se.emoji," ",se.label]},se.value))})]}),F==="pastpaper"&&y.jsxs("div",{className:"pastpaper-fields",children:[y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group third",children:[y.jsx("label",{htmlFor:"schoolName",children:""}),y.jsx("input",{type:"text",id:"schoolName",value:M,onChange:se=>A(se.target.value),placeholder:": "})]}),y.jsxs("div",{className:"form-group third",children:[y.jsx("label",{htmlFor:"year",children:""}),y.jsx("input",{type:"text",id:"year",value:K,onChange:se=>fe(se.target.value),placeholder:": 2023"})]}),y.jsxs("div",{className:"form-group third",children:[y.jsx("label",{htmlFor:"round",children:""}),y.jsxs("select",{id:"round",value:P,onChange:se=>ie(se.target.value),children:[y.jsx("option",{value:"1",children:"1"}),y.jsx("option",{value:"2",children:"2"}),y.jsx("option",{value:"3",children:"3"}),y.jsx("option",{value:"4",children:"4"})]})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:""}),y.jsx("div",{className:"related-units-checkboxes",children:Mi.map(se=>y.jsxs("label",{className:"unit-checkbox-label",children:[y.jsx("input",{type:"checkbox",checked:pe.includes(se.id),onChange:()=>ue(se.id)}),y.jsx("span",{children:se.name})]},se.id))})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group half",children:[y.jsx("label",{children:""}),y.jsx("div",{className:"priority-buttons",children:Ce.map(se=>y.jsx("button",{type:"button",className:`priority-btn ${Y===se.value?"active":""}`,style:{borderColor:Y===se.value?se.color:"#e0e0e0",backgroundColor:Y===se.value?se.color:"white",color:Y===se.value?"white":"#333"},onClick:()=>oe(se.value),children:se.label},se.value))})]}),y.jsxs("div",{className:"form-group half",children:[y.jsx("label",{htmlFor:"dueDate",children:" "}),y.jsx("input",{type:"date",id:"dueDate",value:he,onChange:se=>H(se.target.value)})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"submit-btn sapix-btn",children:n?" ":" "}),n&&y.jsx("button",{type:"button",className:"cancel-btn",onClick:re,children:" "})]})]})}function o2({task:s,onToggle:e,onDelete:n,onEdit:a}){const l={:"",:"",:"",:"",:"",:"",:"",:""},f={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"}[s.subject]||"#007AFF";return y.jsxs("div",{className:`task-item ${s.completed?"completed":""}`,style:{borderColor:f,backgroundColor:`${f}15`,boxShadow:`0 2px 8px ${f}25`},children:[y.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>e(s.id),className:"task-checkbox"}),y.jsx("span",{className:"subject-emoji",children:l[s.subject]}),y.jsx("span",{className:"subject-badge",style:{color:f},children:s.subject}),y.jsx("span",{className:"task-title",children:s.title}),y.jsxs("div",{className:"task-actions",children:[a&&y.jsx("button",{className:"edit-btn",onClick:()=>a(s),"aria-label":"",children:""}),y.jsx("button",{className:"delete-btn",onClick:()=>n(s.id),"aria-label":"",children:""})]})]})}function l2({tasks:s,onToggleTask:e,onDeleteTask:n,onBulkDeleteTasks:a,onEditTask:l}){const[c,f]=ge.useState(""),[g,_]=ge.useState("dueDate"),[p,E]=ge.useState([]),[w,C]=ge.useState(!1),[j,F]=ge.useState(""),Z=[{name:"",emoji:"",color:"#64748b"},{name:"",emoji:"",color:"#10b981"},{name:"",emoji:"",color:"#ef4444"},{name:"",emoji:"",color:"#3b82f6"},{name:"",emoji:"",color:"#f59e0b"}],Y=ge.useMemo(()=>{let ne=[...s];if(j!==""&&(ne=ne.filter(D=>D.subject===j)),c.trim()){const D=c.toLowerCase();ne=ne.filter(S=>S.title.toLowerCase().includes(D)||S.subject?.toLowerCase().includes(D)||S.unit?.toLowerCase().includes(D))}return ne.sort((D,S)=>{switch(g){case"dueDate":return new Date(D.dueDate)-new Date(S.dueDate);case"subject":return(D.subject||"").localeCompare(S.subject||"");case"priority":{const I={A:0,B:1,C:2};return(I[D.priority]||3)-(I[S.priority]||3)}case"created":return new Date(S.createdAt)-new Date(D.createdAt);default:return 0}}),ne},[s,c,g,j]),oe=ge.useMemo(()=>{const ne=s.length,D=s.filter(M=>M.completed).length,S=ne-D,I=ne>0?Math.round(D/ne*100):0,x={};s.forEach(M=>{const A=M.subject||"";x[A]||(x[A]={total:0,completed:0}),x[A].total++,M.completed&&x[A].completed++});const N={};return s.forEach(M=>{const A=M.priority||"";N[A]||(N[A]={total:0,completed:0}),N[A].total++,M.completed&&N[A].completed++}),{total:ne,completed:D,pending:S,completionRate:I,bySubject:x,byPriority:N}},[s]),he=()=>{p.length===Y.length?E([]):E(Y.map(ne=>ne.id))},H=ne=>{p.includes(ne)?E(p.filter(D=>D!==ne)):E([...p,ne])},ce=()=>{window.confirm(`${p.length}`)&&(p.forEach(ne=>{const D=s.find(S=>S.id===ne);D&&!D.completed&&e(ne)}),E([]),C(!1))},Te=()=>{window.confirm(`${p.length}`)&&(a?a(p):p.forEach(ne=>{n(ne)}),E([]),C(!1))};return s.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("p",{children:" "}),y.jsx("p",{children:""})]}):y.jsxs("div",{className:"enhanced-task-list",children:[y.jsxs("div",{className:"task-statistics",children:[y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsx("div",{className:"stat-value",children:oe.total})]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsx("div",{className:"stat-value",children:oe.completed})]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsx("div",{className:"stat-value",children:oe.pending})]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsxs("div",{className:"stat-value",children:[oe.completionRate,"%"]})]})]}),y.jsx("div",{className:"subject-filter",children:Z.map(ne=>y.jsxs("button",{className:`subject-filter-btn ${j===ne.name?"active":""}`,onClick:()=>F(ne.name),children:[y.jsx("span",{className:"subject-filter-emoji",children:ne.emoji}),y.jsx("span",{children:ne.name})]},ne.name))}),y.jsxs("div",{className:"task-controls",children:[y.jsxs("div",{className:"search-box",children:[y.jsx("span",{className:"search-icon",children:""}),y.jsx("input",{type:"text",placeholder:"...",value:c,onChange:ne=>f(ne.target.value),className:"search-input"}),c&&y.jsx("button",{className:"clear-search",onClick:()=>f(""),title:"",children:""})]}),y.jsxs("div",{className:"sort-box",children:[y.jsx("label",{children:":"}),y.jsxs("select",{value:g,onChange:ne=>_(ne.target.value),className:"sort-select",children:[y.jsx("option",{value:"dueDate",children:""}),y.jsx("option",{value:"subject",children:""}),y.jsx("option",{value:"priority",children:""}),y.jsx("option",{value:"created",children:""})]})]}),y.jsx("button",{className:`bulk-mode-btn ${w?"active":""}`,onClick:()=>{C(!w),E([])},children:w?" ":" "})]}),w&&y.jsxs("div",{className:"bulk-actions-bar",children:[y.jsxs("div",{className:"bulk-select",children:[y.jsx("input",{type:"checkbox",checked:p.length===Y.length&&Y.length>0,onChange:he,id:"select-all"}),y.jsxs("label",{htmlFor:"select-all",children:[" (",p.length,"/",Y.length,")"]})]}),p.length>0&&y.jsxs("div",{className:"bulk-buttons",children:[y.jsxs("button",{className:"bulk-complete-btn",onClick:ce,children:["  (",p.length,")"]}),y.jsxs("button",{className:"bulk-delete-btn",onClick:Te,children:["  (",p.length,")"]})]})]}),c&&y.jsxs("div",{className:"search-results-info",children:[' "',c,'" : ',Y.length,""]}),y.jsx("div",{className:"task-list",children:Y.length===0?y.jsxs("div",{className:"no-results",children:[y.jsx("p",{children:" "}),y.jsx("button",{onClick:()=>f(""),className:"reset-search-btn",children:""})]}):Y.map(ne=>y.jsxs("div",{className:`task-item-wrapper ${w?"bulk-mode":""}`,children:[w&&y.jsx("input",{type:"checkbox",checked:p.includes(ne.id),onChange:()=>H(ne.id),className:"task-checkbox"}),y.jsx(o2,{task:ne,onToggle:e,onDelete:n,onEdit:l})]},ne.id))})]})}function c2({tasks:s,onToggleTask:e,onDeleteTask:n,onEditTask:a}){const l=()=>{if(s.length>0){const N=s.filter(M=>M.dueDate);if(N.length>0)return new Date(N[0].dueDate)}return new Date},[c,f]=ge.useState(w(l())),[g,_]=ge.useState("week"),[p,E]=ge.useState(l());function w(N){const M=new Date(N),A=M.getDay(),K=M.getDate()-A;return new Date(M.setDate(K))}function C(N){const M=N.getFullYear(),A=String(N.getMonth()+1).padStart(2,"0"),K=String(N.getDate()).padStart(2,"0");return`${M}-${A}-${K}`}function j(N,M){const A=new Date(N);return A.setDate(A.getDate()+M),A}function F(){f(j(c,-7))}function Z(){f(j(c,7))}function Y(){const N=new Date(p);N.setMonth(N.getMonth()-1),E(N)}function oe(){const N=new Date(p);N.setMonth(N.getMonth()+1),E(N)}function he(){const N=new Date;f(w(N)),E(N)}function H(){E(new Date(c)),_("month")}function ce(){f(w(p)),_("week")}const Te=["","","","","","",""],ne=Array.from({length:7},(N,M)=>j(c,M));function D(){const N=p.getFullYear(),M=p.getMonth(),A=new Date(N,M,1),K=new Date(A);K.setDate(K.getDate()-K.getDay());const fe=[];let P=new Date(K);for(;fe.length<42;)fe.push(new Date(P)),P.setDate(P.getDate()+1);return fe}function S(N){const M=C(N),A=s.filter(K=>K.dueDate===M);return(M==="2026-02-03"||M==="2026-02-04")&&(console.log(" Debug for date:",M),console.log("Total tasks:",s.length),console.log("Tasks with dueDate:",s.filter(K=>K.dueDate).length),console.log("Sample task dueDates:",s.slice(0,5).map(K=>K.dueDate)),console.log("Filtered tasks:",A.length)),A}const I={:"",:"",:"",:""},x=C(new Date);return y.jsxs("div",{className:"weekly-calendar",children:[y.jsxs("div",{className:"calendar-header",children:[y.jsx("button",{onClick:g==="week"?F:Y,className:"nav-btn",children:""}),y.jsx("div",{className:"calendar-title",children:g==="week"?y.jsxs(y.Fragment,{children:[y.jsxs("h2",{children:[" ",ne[0].getMonth()+1," "]}),y.jsxs("div",{className:"calendar-controls",children:[y.jsx("button",{onClick:he,className:"today-btn",children:" "}),y.jsx("button",{onClick:H,className:"view-mode-btn",children:""})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("h2",{children:[" ",p.getFullYear()," ",p.getMonth()+1,""]}),y.jsxs("div",{className:"calendar-controls",children:[y.jsx("button",{onClick:he,className:"today-btn",children:" "}),y.jsx("button",{onClick:ce,className:"view-mode-btn",children:""})]})]})}),y.jsx("button",{onClick:g==="week"?Z:oe,className:"nav-btn",children:""})]}),g==="week"?y.jsx("div",{className:"calendar-grid weekly-grid",children:ne.map((N,M)=>{const A=C(N),K=S(N),fe=A===x;return y.jsxs("div",{className:`calendar-day ${fe?"today":""}`,children:[y.jsxs("div",{className:"day-header",children:[y.jsx("div",{className:"day-name",children:Te[M]}),y.jsxs("div",{className:"day-date",children:[N.getMonth()+1,"/",N.getDate()]})]}),y.jsx("div",{className:"day-tasks",children:K.length===0?y.jsx("div",{className:"no-tasks",children:""}):K.map(P=>y.jsxs("div",{className:`calendar-task ${P.completed?"completed":""}`,children:[y.jsxs("div",{className:"task-header",children:[y.jsx("input",{type:"checkbox",checked:P.completed,onChange:()=>e(P.id),className:"task-checkbox-small"}),y.jsx("span",{className:"task-emoji",children:I[P.subject]})]}),y.jsx("div",{className:"task-title-small clickable",onClick:()=>a&&a(P),title:"",children:P.title}),y.jsx("button",{className:"delete-btn-small",onClick:()=>n(P.id),children:""})]},P.id))})]},M)})}):y.jsxs("div",{className:"calendar-grid monthly-grid",children:[y.jsx("div",{className:"month-weekdays",children:Te.map((N,M)=>y.jsx("div",{className:"weekday-header",children:N},M))}),y.jsx("div",{className:"month-days",children:D().map((N,M)=>{const A=C(N),K=S(N),fe=A===x,P=N.getMonth()===p.getMonth();return y.jsxs("div",{className:`month-day ${fe?"today":""} ${P?"":"other-month"}`,children:[y.jsx("div",{className:"month-day-date",children:N.getDate()}),y.jsx("div",{className:"month-day-tasks",children:K.length>0&&y.jsxs("div",{className:"task-indicators",children:[K.slice(0,3).map(ie=>y.jsx("div",{className:`task-dot ${ie.completed?"completed":""} clickable`,title:`${ie.title} ()`,onClick:()=>a&&a(ie),children:I[ie.subject]},ie.id)),K.length>3&&y.jsxs("div",{className:"more-tasks",children:["+",K.length-3]})]})})]},M)})})]}),y.jsxs("div",{className:"unscheduled-tasks",children:[y.jsx("h3",{children:" "}),y.jsxs("div",{className:"unscheduled-list",children:[s.filter(N=>!N.dueDate).map(N=>y.jsxs("div",{className:`unscheduled-task ${N.completed?"completed":""}`,children:[y.jsx("input",{type:"checkbox",checked:N.completed,onChange:()=>e(N.id),className:"task-checkbox-small"}),y.jsx("span",{className:"task-emoji",children:I[N.subject]}),y.jsx("span",{className:"task-title-small clickable",onClick:()=>a&&a(N),title:"",children:N.title}),y.jsx("button",{className:"delete-btn-small",onClick:()=>n(N.id),children:""})]},N.id)),s.filter(N=>!N.dueDate).length===0&&y.jsx("div",{className:"no-tasks",children:""})]})]})]})}const lS="sapix_study_sessions";function cS(){const s=localStorage.getItem(lS);return s?JSON.parse(s):[]}function u2(s){localStorage.setItem(lS,JSON.stringify(s))}function h2(s){const e=cS(),n={id:`session_${Date.now()}`,date:new Date().toISOString().split("T")[0],duration:0,masteryLevel:3,notes:"",testScore:null,needsReview:"medium",...s};return e.push(n),u2(e),n}function wg(s){return cS().filter(n=>n.unitId===s).sort((n,a)=>new Date(a.date)-new Date(n.date))}function d2(s){const e=wg(s);if(e.length===0)return{studyCount:0,totalDuration:0,averageMastery:0,lastStudyDate:null,needsReview:!1};const n=e.reduce((g,_)=>g+(_.duration||0),0),a=e.reduce((g,_)=>g+_.masteryLevel,0)/e.length,l=e[0].date,c=Math.floor((new Date-new Date(l))/(1e3*60*60*24)),f=c>7||a<3;return{studyCount:e.length,totalDuration:n,averageMastery:Math.round(a*10)/10,lastStudyDate:l,daysSinceLastStudy:c,needsReview:f}}function f2(s,e,n){const a=n.filter(g=>wg(g.id).length>0),l=n.length,c=a.length,f=l>0?Math.round(c/l*100):0;return{totalUnits:l,studiedCount:c,unstudiedCount:l-c,percentage:f}}function m2({tasks:s,onEditTask:e,customUnits:n=[]}){const[a,l]=ge.useState("4"),[c,f]=ge.useState(""),[g,_]=ge.useState(null),[p,E]=ge.useState(!1),[w,C]=ge.useState({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),j={:"",:"",:"",:""},F={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},Z=ah[c]?.[a]||[],Y=n.filter(S=>S.subject===c&&S.grade===a),oe=[...Z,...Y],he=f2(c,a,oe),H=S=>{h2({unitId:S,...w}),E(!1),C({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),l(a)},ce=S=>{g===S?(_(null),E(!1)):(_(S),E(!1))},Te=S=>"".repeat(S)+"".repeat(5-S),ne=S=>{if(!s)return[];const I=s.filter(x=>x.unitId===S);return I.length>0&&console.log(`Unit ${S} has ${I.length} related tasks:`,I.map(x=>x.title)),I},D=S=>S===0?"":S===1?"":S<7?`${S}`:S<30?`${Math.floor(S/7)}`:`${Math.floor(S/30)}`;return y.jsxs("div",{className:"unit-dashboard",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsxs("div",{className:"grade-selector",children:[y.jsx("label",{children:":"}),xh.map(S=>y.jsx("button",{className:`grade-btn ${a===S?"active":""}`,onClick:()=>l(S),children:S},S))]}),y.jsx("div",{className:"subject-selector",children:Ag.map(S=>y.jsxs("button",{className:`subject-btn ${c===S?"active":""}`,onClick:()=>f(S),style:{borderColor:c===S?F[S]:"#e2e8f0",background:c===S?`${F[S]}15`:"white"},children:[y.jsx("span",{className:"subject-emoji",children:j[S]}),y.jsx("span",{children:S})]},S))})]}),y.jsxs("div",{className:"progress-summary",children:[y.jsxs("div",{className:"summary-card",children:[y.jsx("div",{className:"summary-label",children:""}),y.jsx("div",{className:"summary-value",children:he.totalUnits})]}),y.jsxs("div",{className:"summary-card",children:[y.jsx("div",{className:"summary-label",children:""}),y.jsx("div",{className:"summary-value",style:{color:F[c]},children:he.studiedCount})]}),y.jsxs("div",{className:"summary-card",children:[y.jsx("div",{className:"summary-label",children:""}),y.jsx("div",{className:"summary-value",children:he.unstudiedCount})]}),y.jsxs("div",{className:"summary-card",children:[y.jsx("div",{className:"summary-label",children:""}),y.jsxs("div",{className:"summary-value",children:[he.percentage,"%"]})]})]}),y.jsx("div",{className:"units-grid",children:oe.map(S=>{const I=d2(S.id),x=wg(S.id),N=g===S.id,M=`${F[c]}26`,A=ne(S.id);return y.jsxs("div",{className:`unit-card ${I.needsReview?"needs-review":""} ${I.studyCount===0?"unstudied":""} ${N?"expanded":""}`,style:{backgroundColor:M},children:[y.jsxs("div",{className:"unit-header clickable",onClick:()=>ce(S.id),children:[y.jsxs("div",{className:"unit-title",children:[y.jsx("span",{className:"unit-name",children:S.name}),y.jsx("span",{className:"unit-category",children:S.category})]}),y.jsxs("div",{className:"unit-header-right",children:[I.studyCount>0&&y.jsxs("div",{className:"unit-badge",children:[I.studyCount,""]}),y.jsx("span",{className:"expand-icon",children:N?"":""})]})]}),!N&&y.jsx("div",{className:"unit-compact",children:I.studyCount>0?y.jsxs("div",{className:"compact-info",children:[y.jsx("span",{className:"compact-mastery",children:Te(Math.round(I.averageMastery))}),y.jsx("span",{className:"compact-last-study",children:D(I.daysSinceLastStudy)}),I.needsReview&&y.jsx("span",{className:"compact-alert",children:""})]}):y.jsx("div",{className:"unit-unstudied",children:" "})}),N&&y.jsxs("div",{className:"unit-details",children:[I.studyCount>0&&y.jsxs("div",{className:"unit-stats",children:[y.jsxs("div",{className:"stat-row",children:[y.jsx("span",{className:"stat-label",children:":"}),y.jsx("span",{className:"stat-value mastery",children:Te(Math.round(I.averageMastery))})]}),y.jsxs("div",{className:"stat-row",children:[y.jsx("span",{className:"stat-label",children:":"}),y.jsx("span",{className:"stat-value",children:D(I.daysSinceLastStudy)})]}),y.jsxs("div",{className:"stat-row",children:[y.jsx("span",{className:"stat-label",children:":"}),y.jsxs("span",{className:"stat-value",children:[I.totalDuration,""]})]}),I.needsReview&&y.jsx("div",{className:"review-alert",children:" "})]}),y.jsx("button",{className:"add-session-btn",onClick:K=>{K.stopPropagation(),E(!p)},children:p?" ":"+ "}),p&&y.jsxs("div",{className:"session-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:":"}),y.jsx("input",{type:"number",value:w.duration,onChange:K=>C({...w,duration:parseInt(K.target.value)}),min:"0",step:"5"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:":"}),y.jsx("div",{className:"mastery-buttons",children:[1,2,3,4,5].map(K=>y.jsx("button",{className:`mastery-btn ${w.masteryLevel===K?"active":""}`,onClick:()=>C({...w,masteryLevel:K}),children:Te(K)},K))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:":"}),y.jsx("textarea",{value:w.notes,onChange:K=>C({...w,notes:K.target.value}),placeholder:"...",rows:"3"})]}),y.jsx("button",{className:"save-session-btn",onClick:()=>H(S.id),children:" "})]}),x.length>0&&y.jsxs("div",{className:"session-history",children:[y.jsx("div",{className:"history-header",children:":"}),x.map(K=>y.jsxs("div",{className:"session-item",children:[y.jsx("span",{className:"session-date",children:K.date}),y.jsx("span",{className:"session-mastery",children:Te(K.masteryLevel)}),y.jsxs("span",{className:"session-duration",children:[K.duration,""]})]},K.id))]}),A.length>0&&y.jsxs("div",{className:"related-tasks",children:[y.jsxs("div",{className:"related-header",children:["  (",A.length,")"]}),A.map(K=>y.jsxs("div",{className:"related-task-item",children:[y.jsxs("div",{className:"related-task-info",children:[y.jsx("span",{className:`task-status ${K.completed?"completed":""}`,children:K.completed?"":""}),y.jsx("span",{className:"related-task-title",children:K.title})]}),e&&y.jsx("button",{className:"edit-task-btn",onClick:fe=>{fe.stopPropagation(),console.log("Edit button clicked for task:",K.title,K),e(K)},title:"",children:""})]},K.id))]})]})]},S.id)})})]})}function g2({data:s,subjects:e,type:n="line"}){const[a,l]=ge.useState(["",...e]),c={:"#6366f1",:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},f=H=>{a.includes(H)?a.length>1&&l(a.filter(ce=>ce!==H)):l([...a,H])},g=H=>s.map(ce=>H===""?ce.overall.percentage:ce.subjects[H]?.percentage||null),_=100,p=0,E=200,w={top:20,right:20,bottom:40,left:50},C=E-w.top-w.bottom,j=600,F=H=>H==null?null:w.top+C*(1-(H-p)/(_-p)),Z=H=>w.left+j/(s.length-1)*H,Y=H=>{if(!H||H.length===0)return"";let ce="",Te=-1;return H.forEach((ne,D)=>{if(ne!==null){const S=Z(D),I=F(ne);Te===-1?ce+=`M ${S} ${I}`:ce+=` L ${S} ${I}`,Te=D}}),ce},oe=()=>{const H=Math.ceil(s.length/6);return s.map((ce,Te)=>Te%H===0||Te===s.length-1?{x:Z(Te),label:he(ce.date)}:null).filter(Boolean)},he=H=>{if(!H)return"";const ce=new Date(H);return`${ce.getMonth()+1}/${ce.getDate()}`};return y.jsxs("div",{className:"progress-chart",children:[y.jsx("div",{className:"chart-legend",children:["",...e].map(H=>y.jsxs("button",{className:`legend-item ${a.includes(H)?"active":""}`,onClick:()=>f(H),style:{borderColor:c[H],background:a.includes(H)?`${c[H]}20`:"transparent"},children:[y.jsx("span",{className:"legend-color",style:{background:c[H]}}),y.jsx("span",{className:"legend-label",children:H})]},H))}),y.jsxs("div",{className:"chart-container",children:[y.jsxs("svg",{viewBox:`0 0 ${j+w.left+w.right} ${E}`,className:"chart-svg",children:[[0,25,50,75,100].map(H=>y.jsxs("g",{children:[y.jsx("line",{x1:w.left,y1:F(H),x2:w.left+j,y2:F(H),stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:H===0||H===100?"0":"4 4"}),y.jsxs("text",{x:w.left-10,y:F(H),textAnchor:"end",alignmentBaseline:"middle",className:"axis-label",children:[H,"%"]})]},H)),oe().map((H,ce)=>y.jsx("text",{x:H.x,y:E-10,textAnchor:"middle",className:"axis-label",children:H.label},ce)),a.map(H=>{const ce=g(H),Te=Y(ce);return y.jsxs("g",{children:[y.jsx("path",{d:Te,fill:"none",stroke:c[H],strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),ce.map((ne,D)=>ne===null?null:y.jsx("circle",{cx:Z(D),cy:F(ne),r:"4",fill:c[H],stroke:"white",strokeWidth:"2"},D))]},H)})]}),s.length===0&&y.jsxs("div",{className:"no-data-message",children:[y.jsx("p",{children:" "}),y.jsx("p",{className:"hint",children:""})]})]})]})}const uS="progressHistory",p2=90,y2=()=>new Date().toISOString().split("T")[0],_2=s=>{if(!s||s.length===0)return;const e=y2(),n=Rg(),a=["","","",""],l={};let c=0;a.forEach(w=>{const C=s.filter(Y=>Y.subject===w),j=C.filter(Y=>Y.completed).length,F=C.length,Z=F>0?Math.round(j/F*100):0;l[w]={completed:j,total:F,percentage:Z}}),c=E2().reduce((w,C)=>w+(C.duration||0),0);const g=s.filter(w=>w.completed).length,_=s.length,p=_>0?Math.round(g/_*100):0,E={date:e,timestamp:new Date().toISOString(),subjects:l,overall:{completed:g,total:_,percentage:p},studyTime:c,taskCount:_};return n[e]=E,v2(n),localStorage.setItem(uS,JSON.stringify(n)),E},Rg=()=>{const s=localStorage.getItem(uS);if(!s)return{};try{return JSON.parse(s)}catch(e){return console.error("Failed to parse progress history:",e),{}}},v2=s=>{const e=new Date,n=new Date(e);n.setDate(n.getDate()-p2);const a=n.toISOString().split("T")[0];Object.keys(s).forEach(l=>{l<a&&delete s[l]})},Sm=(s=30)=>{const e=Rg(),n=new Date,a=[];for(let l=s-1;l>=0;l--){const c=new Date(n);c.setDate(c.getDate()-l);const f=c.toISOString().split("T")[0];e[f]?a.push(e[f]):a.push({date:f,subjects:{},overall:{percentage:null},studyTime:0})}return a},T2=(s=12)=>{const e=Rg(),n=[],a=new Date;for(let l=s-1;l>=0;l--){const c=new Date(a);c.setDate(c.getDate()-l*7);const f=new Date(c);f.setDate(f.getDate()-6);const g=f.toISOString().split("T")[0],_=c.toISOString().split("T")[0],p={weekStart:g,weekEnd:_,totalStudyTime:0,subjects:{:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0}},overall:{percentage:null}};let E=0;const w={:0,:0,:0,:0};let C=0;for(let j=0;j<7;j++){const F=new Date(f);F.setDate(F.getDate()+j);const Z=F.toISOString().split("T")[0];e[Z]&&(E++,p.totalStudyTime+=e[Z].studyTime||0,Object.keys(e[Z].subjects).forEach(Y=>{w[Y]+=e[Z].subjects[Y].percentage||0}),C+=e[Z].overall.percentage||0)}E>0&&(Object.keys(w).forEach(j=>{p.subjects[j].percentage=Math.round(w[j]/E)}),p.overall.percentage=Math.round(C/E)),n.push(p)}return n},E2=s=>[],S2=(s=30)=>{const n=Sm(s).filter(j=>j.overall.percentage!==null);if(n.length===0)return{averageProgress:0,totalStudyTime:0,averageDailyStudyTime:0,improvement:0,bestSubject:null,weakestSubject:null};const a=Math.round(n.reduce((j,F)=>j+F.overall.percentage,0)/n.length),l=n.reduce((j,F)=>j+F.studyTime,0),c=Math.round(l/n.length);let f=0;if(n.length>=7){const j=n.slice(0,7),F=n.slice(-7),Z=j.reduce((oe,he)=>oe+he.overall.percentage,0)/j.length,Y=F.reduce((oe,he)=>oe+he.overall.percentage,0)/F.length;f=Math.round(Y-Z)}const g=["","","",""],_={};g.forEach(j=>{const F=n.filter(Z=>Z.subjects[j]&&Z.subjects[j].percentage!==null).map(Z=>Z.subjects[j].percentage);F.length>0&&(_[j]=Math.round(F.reduce((Z,Y)=>Z+Y,0)/F.length))});let p=null,E=null,w=-1,C=101;return Object.entries(_).forEach(([j,F])=>{F>w&&(w=F,p=j),F<C&&(C=F,E=j)}),{averageProgress:a,totalStudyTime:l,averageDailyStudyTime:c,improvement:f,bestSubject:p,weakestSubject:E,subjectAverages:_}};function b2({tasks:s}){const[e,n]=ge.useState("30days"),[a,l]=ge.useState([]),[c,f]=ge.useState(null),g=["","","",""],_=ge.useCallback(()=>{let E,w;e==="30days"?(E=Sm(30),w=30):e==="90days"?(E=Sm(90),w=90):e==="12weeks"&&(E=T2(12),w=84),l(E),f(S2(w))},[e]);ge.useEffect(()=>{s&&s.length>0&&_2(s),_()},[s,e,_]);const p={:"",:"",:"",:""};return y.jsxs("div",{className:"analytics",children:[y.jsxs("div",{className:"analytics-header",children:[y.jsx("h2",{children:" "}),y.jsxs("div",{className:"period-selector",children:[y.jsx("button",{className:e==="30days"?"active":"",onClick:()=>n("30days"),children:"30"}),y.jsx("button",{className:e==="90days"?"active":"",onClick:()=>n("90days"),children:"90"}),y.jsx("button",{className:e==="12weeks"?"active":"",onClick:()=>n("12weeks"),children:"12"})]})]}),c&&y.jsxs("div",{className:"statistics-summary",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsxs("div",{className:"stat-value",children:[c.averageProgress,"%"]})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsxs("div",{className:"stat-value",children:[Math.round(c.totalStudyTime/60),"h ",c.totalStudyTime%60,"m"]})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("div",{className:"stat-label",children:"1"}),y.jsxs("div",{className:"stat-value",children:[c.averageDailyStudyTime,""]})]})]}),y.jsxs("div",{className:`stat-card ${c.improvement>=0?"positive":"negative"}`,children:[y.jsx("div",{className:"stat-icon",children:c.improvement>=0?"":""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("div",{className:"stat-label",children:""}),y.jsxs("div",{className:"stat-value",children:[c.improvement>0?"+":"",c.improvement,"%"]})]})]})]}),y.jsxs("div",{className:"chart-section",children:[y.jsx("h3",{children:" "}),y.jsx(g2,{data:a,subjects:g})]}),c&&c.subjectAverages&&y.jsxs("div",{className:"subject-analysis",children:[y.jsx("h3",{children:" "}),y.jsx("div",{className:"subject-grid",children:g.map(E=>{const w=c.subjectAverages[E]||0,C=E===c.bestSubject,j=E===c.weakestSubject;return y.jsxs("div",{className:`subject-card ${C?"best":""} ${j?"weakest":""}`,children:[y.jsxs("div",{className:"subject-card-header",children:[y.jsx("span",{className:"subject-emoji",children:p[E]}),y.jsx("span",{className:"subject-name",children:E}),C&&y.jsx("span",{className:"badge best-badge",children:""}),j&&y.jsx("span",{className:"badge weak-badge",children:""})]}),y.jsxs("div",{className:"subject-average",children:[y.jsxs("div",{className:"average-value",children:[w,"%"]}),y.jsx("div",{className:"average-label",children:""})]})]},E)})})]}),c&&y.jsxs("div",{className:"advice-section",children:[y.jsx("h3",{children:" "}),y.jsxs("div",{className:"advice-cards",children:[c.weakestSubject&&y.jsxs("div",{className:"advice-card",children:[y.jsx("div",{className:"advice-icon",children:""}),y.jsxs("div",{className:"advice-content",children:[y.jsxs("strong",{children:[p[c.weakestSubject]," ",c.weakestSubject,""]}),y.jsxs("p",{children:[": ",c.subjectAverages[c.weakestSubject],"%"]}),y.jsx("p",{children:""})]})]}),c.averageDailyStudyTime<60&&y.jsxs("div",{className:"advice-card",children:[y.jsx("div",{className:"advice-icon",children:""}),y.jsxs("div",{className:"advice-content",children:[y.jsx("strong",{children:""}),y.jsxs("p",{children:["1: ",c.averageDailyStudyTime,""]}),y.jsx("p",{children:": 60SAPIX"})]})]}),c.improvement>10&&y.jsxs("div",{className:"advice-card positive",children:[y.jsx("div",{className:"advice-icon",children:""}),y.jsxs("div",{className:"advice-content",children:[y.jsx("strong",{children:""}),y.jsxs("p",{children:["",c.improvement,"%"]}),y.jsx("p",{children:""})]})]}),c.improvement<-10&&y.jsxs("div",{className:"advice-card warning",children:[y.jsx("div",{className:"advice-icon",children:""}),y.jsxs("div",{className:"advice-content",children:[y.jsx("strong",{children:""}),y.jsx("p",{children:""}),y.jsx("p",{children:""})]})]})]})]})]})}function A2({customUnits:s,onUpdateUnit:e,onDeleteUnit:n}){const[a,l]=ge.useState("4"),[c,f]=ge.useState(""),[g,_]=ge.useState(null),[p,E]=ge.useState({name:"",category:""}),w={:"",:"",:"",:""},C={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},j=ah[c]?.[a]||[],F=s.filter(H=>H.subject===c&&H.grade===a),Z=H=>{_(H),E({name:H.name,category:H.category})},Y=()=>{_(null),E({name:"",category:""})},oe=async()=>{if(!p.name.trim()){alert("");return}const H=await e(g.firestoreId,{name:p.name.trim(),category:p.category});H.success?(alert(" "),_(null),E({name:"",category:""})):alert(" : "+H.error)},he=async H=>{if(!window.confirm(`${H.name}

`))return;const ce=await n(H.firestoreId);ce.success?alert(" "):alert(" : "+ce.error)};return y.jsxs("div",{className:"unit-manager",children:[y.jsxs("div",{className:"manager-header",children:[y.jsx("h2",{children:" "}),y.jsx("p",{className:"manager-description",children:""})]}),y.jsxs("div",{className:"manager-filters",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:":"}),y.jsx("div",{className:"grade-buttons",children:xh.map(H=>y.jsx("button",{className:`filter-btn ${a===H?"active":""}`,onClick:()=>l(H),children:H},H))})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:":"}),y.jsx("div",{className:"subject-buttons",children:Ag.map(H=>y.jsxs("button",{className:`filter-btn subject ${c===H?"active":""}`,onClick:()=>f(H),style:{borderColor:c===H?C[H]:"#e2e8f0",background:c===H?`${C[H]}15`:"white"},children:[y.jsx("span",{className:"subject-emoji",children:w[H]}),y.jsx("span",{children:H})]},H))})]})]}),y.jsxs("div",{className:"units-section",children:[y.jsxs("h3",{className:"section-title",children:["  ",y.jsxs("span",{className:"unit-count",children:["(",j.length,")"]})]}),j.length===0?y.jsx("div",{className:"no-units",children:""}):y.jsx("div",{className:"units-list",children:j.map(H=>y.jsxs("div",{className:"unit-item default",children:[y.jsxs("div",{className:"unit-info",children:[y.jsx("span",{className:"unit-name",children:H.name}),y.jsx("span",{className:"unit-category",children:H.category})]}),y.jsx("div",{className:"unit-actions",children:y.jsx("span",{className:"default-badge",children:""})})]},H.id))})]}),y.jsxs("div",{className:"units-section",children:[y.jsxs("h3",{className:"section-title",children:["  ",y.jsxs("span",{className:"unit-count",children:["(",F.length,")"]})]}),F.length===0?y.jsxs("div",{className:"no-units",children:["",y.jsx("br",{}),y.jsx("small",{children:""})]}):y.jsx("div",{className:"units-list",children:F.map(H=>y.jsx("div",{className:"unit-item custom",children:g&&g.id===H.id?y.jsxs("div",{className:"unit-edit-form",children:[y.jsxs("div",{className:"edit-fields",children:[y.jsx("input",{type:"text",value:p.name,onChange:ce=>E({...p,name:ce.target.value}),placeholder:"",className:"edit-input"}),y.jsxs("select",{value:p.category,onChange:ce=>E({...p,category:ce.target.value}),className:"edit-select",children:[y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"",children:""})]})]}),y.jsxs("div",{className:"edit-actions",children:[y.jsx("button",{className:"save-btn",onClick:oe,children:" "}),y.jsx("button",{className:"cancel-btn",onClick:Y,children:" "})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"unit-info",children:[y.jsx("span",{className:"unit-name",children:H.name}),y.jsx("span",{className:"unit-category",children:H.category})]}),y.jsxs("div",{className:"unit-actions",children:[y.jsx("button",{className:"edit-btn",onClick:()=>Z(H),title:"",children:""}),y.jsx("button",{className:"delete-btn",onClick:()=>he(H),title:"",children:""})]})]})},H.id))})]})]})}async function w2(s,e,n){try{const a=Gl(ca,"users",s,"pastPaperSessions"),l={taskId:e,studiedAt:n.studiedAt||new Date().toISOString(),attemptNumber:n.attemptNumber||1,score:n.score||null,totalScore:n.totalScore||null,timeSpent:n.timeSpent||null,notes:n.notes||"",createdAt:new Date().toISOString()};return{success:!0,data:{firestoreId:(await aS(a,l)).id,...l}}}catch(a){return console.error("Error adding past paper session:",a),{success:!1,error:a.message}}}async function hS(s,e){try{const n=Gl(ca,"users",s,"pastPaperSessions"),a=_g(n,$N("taskId","==",e),Eg("studiedAt","asc")),l=await nS(a),c=[];return l.forEach(f=>{c.push({firestoreId:f.id,...f.data()})}),{success:!0,data:c}}catch(n){return console.error("Error getting sessions:",n),{success:!1,error:n.message,data:[]}}}async function R2(s,e){try{const n=await hS(s,e);return n.success&&n.data.length>0?Math.max(...n.data.map(l=>l.attemptNumber||1))+1:1}catch(n){return console.error("Error getting next attempt number:",n),1}}function I2({tasks:s,user:e,customUnits:n=[]}){const[a,l]=ge.useState("school"),[c,f]=ge.useState(""),[g,_]=ge.useState("4"),[p,E]=ge.useState({}),[w,C]=ge.useState(null),[j,F]=ge.useState({studiedAt:new Date().toISOString().split("T")[0],score:"",totalScore:"",timeSpent:"",notes:""}),Z={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},Y=s.filter(S=>S.taskType==="pastpaper"&&S.subject===c&&S.grade===g);ge.useEffect(()=>{if(!e)return;(async()=>{const I={};for(const x of Y){const N=await hS(e.uid,x.id);N.success&&(I[x.id]=N.data)}E(I)})()},[e,Y.length,c,g]);const oe=()=>{const S={};return Y.forEach(I=>{const x=I.schoolName||"";S[x]||(S[x]=[]),S[x].push(I)}),S},he=()=>{const S={};return Y.forEach(I=>{I.relatedUnits&&I.relatedUnits.length>0?I.relatedUnits.forEach(x=>{S[x]||(S[x]=[]),S[x].push(I)}):(S.||(S.=[]),S..push(I))}),S},H=S=>{const I=n.find(x=>x.id===S);return I?I.name:S},ce=S=>{C(S),F({studiedAt:new Date().toISOString().split("T")[0],score:"",totalScore:"",timeSpent:"",notes:""})},Te=async S=>{if(!e){alert(" ");return}const I=await R2(e.uid,S),x=await w2(e.uid,S,{...j,attemptNumber:I,score:j.score?parseInt(j.score):null,totalScore:j.totalScore?parseInt(j.totalScore):null,timeSpent:j.timeSpent?parseInt(j.timeSpent):null});x.success?(E({...p,[S]:[...p[S]||[],x.data]}),C(null),alert(" ")):alert(" : "+x.error)},ne=S=>S.score!==null&&S.totalScore&&S.totalScore>0?Math.round(S.score/S.totalScore*100):null,D=a==="school"?oe():he();return y.jsxs("div",{className:"pastpaper-view",children:[y.jsxs("div",{className:"view-header",children:[y.jsx("h2",{children:" "}),y.jsx("p",{className:"view-description",children:""})]}),y.jsxs("div",{className:"view-filters",children:[y.jsx("div",{className:"filter-row",children:y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:":"}),y.jsxs("div",{className:"mode-buttons",children:[y.jsx("button",{className:`mode-btn ${a==="school"?"active":""}`,onClick:()=>l("school"),children:" "}),y.jsx("button",{className:`mode-btn ${a==="unit"?"active":""}`,onClick:()=>l("unit"),children:" "})]})]})}),y.jsxs("div",{className:"filter-row",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:":"}),y.jsx("div",{className:"grade-buttons",children:xh.map(S=>y.jsx("button",{className:`filter-btn ${g===S?"active":""}`,onClick:()=>_(S),children:S},S))})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:":"}),y.jsx("div",{className:"subject-buttons",children:Ag.map(S=>y.jsx("button",{className:`filter-btn subject ${c===S?"active":""}`,onClick:()=>f(S),style:{borderColor:c===S?Z[S]:"#e2e8f0",background:c===S?`${Z[S]}15`:"white"},children:S},S))})]})]})]}),y.jsx("div",{className:"pastpaper-content",children:Object.keys(D).length===0?y.jsxs("div",{className:"no-data",children:[" ",y.jsx("br",{}),y.jsx("small",{children:" "})]}):Object.entries(D).map(([S,I])=>y.jsxs("div",{className:"pastpaper-group",children:[y.jsxs("h3",{className:"group-title",children:[a==="school"?` ${S}`:` ${H(S)}`,y.jsxs("span",{className:"task-count",children:["(",I.length,")"]})]}),y.jsx("div",{className:"task-cards",children:I.map(x=>{const N=p[x.id]||[],M=N[N.length-1];return y.jsxs("div",{className:"pastpaper-card",children:[y.jsxs("div",{className:"card-header",children:[y.jsxs("div",{className:"task-title",children:[y.jsx("span",{className:"task-name",children:x.title}),y.jsxs("span",{className:"task-details",children:[x.schoolName," ",x.year," ",x.round]})]}),y.jsxs("div",{className:"attempt-count",children:[N.length,""]})]}),M&&y.jsxs("div",{className:"last-session",children:[y.jsx("span",{className:"session-label",children:":"}),y.jsx("span",{className:"session-date",children:new Date(M.studiedAt).toLocaleDateString("ja-JP")}),ne(M)!==null&&y.jsxs("span",{className:"session-score",children:[ne(M),"%"]})]}),N.length>0&&y.jsx("div",{className:"sessions-list",children:N.map(A=>y.jsxs("div",{className:"session-item",children:[y.jsxs("span",{className:"session-attempt",children:[A.attemptNumber,""]}),y.jsx("span",{className:"session-date",children:new Date(A.studiedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})}),A.score!==null&&A.totalScore&&y.jsxs("span",{className:"session-score",children:[A.score,"/",A.totalScore," (",ne(A),"%)"]}),A.timeSpent&&y.jsxs("span",{className:"session-time",children:[A.timeSpent,""]})]},A.firestoreId))}),w===x.id?y.jsxs("div",{className:"session-form",children:[y.jsx("h4",{children:" "}),y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:":"}),y.jsx("input",{type:"date",value:j.studiedAt,onChange:A=>F({...j,studiedAt:A.target.value})})]}),y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:":"}),y.jsxs("div",{className:"score-inputs",children:[y.jsx("input",{type:"number",placeholder:"",value:j.score,onChange:A=>F({...j,score:A.target.value})}),y.jsx("span",{children:"/"}),y.jsx("input",{type:"number",placeholder:"",value:j.totalScore,onChange:A=>F({...j,totalScore:A.target.value})})]})]}),y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:":"}),y.jsx("input",{type:"number",placeholder:"",value:j.timeSpent,onChange:A=>F({...j,timeSpent:A.target.value})})]}),y.jsxs("div",{className:"form-field full",children:[y.jsx("label",{children:":"}),y.jsx("textarea",{placeholder:"...",value:j.notes,onChange:A=>F({...j,notes:A.target.value}),rows:"3"})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{className:"btn-secondary",onClick:()=>C(null),children:""}),y.jsx("button",{className:"btn-primary",onClick:()=>Te(x.id),children:" "})]})]}):y.jsx("button",{className:"add-session-btn",onClick:()=>ce(x.id),children:"+ "})]},x.id)})})]},S))})]})}const C2=()=>{const s=[];let e=Date.now();const n=(a,l)=>`2026-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`;return s.push({id:e++,title:"2 ",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,6),completed:!1},{id:e++,title:"2 100",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"basic",priority:"A",dueDate:n(1,7),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,8),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_02",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,20),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:e++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_05",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1}),s.push({id:e++,title:"",subject:"",grade:"3",unitId:"math3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"test",priority:"A",dueDate:n(3,11),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(3,18),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_12",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:e++,title:"3",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},M0=()=>{const s=[];let e=Date.now();const n=(a,l)=>`2026-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`;return s.push({id:e++,title:"3 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"B",dueDate:n(1,6),completed:!1},{id:e++,title:"3 200",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"B",dueDate:n(1,7),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"math4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(1,8),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:e++,title:"4 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:e++,title:" 4",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"soc4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"sci4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:e++,title:" 1",subject:"",grade:"4",unitId:"math4_14",unit:"",taskType:"basic",priority:"A",dueDate:n(1,20),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"lang4_03",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"lang4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"soc4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" 2/4",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(2,4),completed:!1},{id:e++,title:"4 No.1",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"A",dueDate:n(2,5),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,6),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"B",dueDate:n(2,7),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"math4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"sci4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"soc4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" 2/11",subject:"",grade:"4",unitId:"math4_15",unit:"",taskType:"basic",priority:"A",dueDate:n(2,11),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(2,12),completed:!1},{id:e++,title:" No.3 ",subject:"",grade:"4",unitId:"math4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:e++,title:" No.4 ",subject:"",grade:"4",unitId:"math4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,26),completed:!1}),s.push({id:e++,title:" No.5 ",subject:"",grade:"4",unitId:"math4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,11),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,13),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,18),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,20),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(3,25),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_09",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:e++,title:"3",subject:"",grade:"4",unitId:"math4_13",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},N2=(s="4")=>{switch(s){case"3":return C2();case"4":return M0();default:return M0()}},Yl=s=>Gl(ca,"users",s,"tasks"),dS=s=>la(ca,"users",s),bm=async(s,e)=>{try{const n=la(Yl(s),e.id.toString());return await iS(n,e),{success:!0}}catch(n){return console.error("Error adding task:",n),{success:!1,error:n}}},V0=async(s,e,n)=>{try{const a=la(Yl(s),e.toString());return await sS(a,n),{success:!0}}catch(a){return console.error("Error updating task:",a),{success:!1,error:a}}},D2=async(s,e)=>{try{const n=la(Yl(s),e.toString());return await bg(n),{success:!0}}catch(n){return console.error("Error deleting task:",n),{success:!1,error:n}}},k0=async(s,e)=>{try{const n=e.map(a=>bg(la(Yl(s),a.toString())));return await Promise.all(n),{success:!0}}catch(n){return console.error("Error bulk deleting tasks:",n),{success:!1,error:n}}},x2=(s,e)=>{const n=_g(Yl(s),Eg("createdAt","desc"));return e2(n,a=>{const l=[];a.forEach(c=>{l.push({...c.data(),id:c.id})}),e(l)},a=>{console.error("Error fetching tasks:",a),e([])})},fS=async(s,e)=>{try{const n=dS(s);return await iS(n,{targetSchools:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error saving target schools:",n),{success:!1,error:n}}},O2=async s=>{try{const e=dS(s),n=await WN(e);return n.exists()?{success:!0,data:n.data().targetSchools||[]}:{success:!0,data:[]}}catch(e){return console.error("Error getting target schools:",e),{success:!1,error:e,data:[]}}},j2=async s=>{try{const e=localStorage.getItem("sapixTasks");if(e){const l=JSON.parse(e).map(c=>bm(s,c));await Promise.all(l)}const n=localStorage.getItem("targetSchools");if(n){const a=JSON.parse(n);await fS(s,a)}return{success:!0}}catch(e){return console.error("Error migrating data:",e),{success:!1,error:e}}};async function mS(s,e){try{const n=Gl(ca,"users",s,"customUnits"),a={...e,createdAt:new Date().toISOString()};return{success:!0,data:{id:(await aS(n,a)).id,...a}}}catch(n){return console.error("Error adding custom unit:",n),{success:!1,error:n.message}}}async function gS(s){try{const e=Gl(ca,"users",s,"customUnits"),n=_g(e,Eg("createdAt","desc")),a=await nS(n),l=[];return a.forEach(c=>{l.push({firestoreId:c.id,...c.data()})}),{success:!0,data:l}}catch(e){return console.error("Error getting custom units:",e),{success:!1,error:e.message,data:[]}}}async function pS(s,e,n){try{const a=la(ca,"users",s,"customUnits",e);return await sS(a,{...n,updatedAt:new Date().toISOString()}),{success:!0}}catch(a){return console.error("Error updating custom unit:",a),{success:!1,error:a.message}}}async function yS(s,e){try{const n=la(ca,"users",s,"customUnits",e);return await bg(n),{success:!0}}catch(n){return console.error("Error deleting custom unit:",n),{success:!1,error:n.message}}}function M2(s,e,n){const a=Date.now(),l={:"math",:"lang",:"sci",:"soc"}[s]||"custom",c=e.replace("","");return`custom_${l}${c}_${a}`}const V2=Object.freeze(Object.defineProperty({__proto__:null,addCustomUnit:mS,deleteCustomUnit:yS,generateCustomUnitId:M2,getCustomUnits:gS,updateCustomUnit:pS},Symbol.toStringTag,{value:"Module"}));function k2(){const[s,e]=ge.useState(null),[n,a]=ge.useState([]),[l,c]=ge.useState("calendar"),[f,g]=ge.useState("calendar"),[_,p]=ge.useState(null),[E,w]=ge.useState([]),[C,j]=ge.useState([]),F=ge.useRef(null),[Z,Y]=ge.useState(!1);ge.useEffect(()=>{if(!s){const K=localStorage.getItem("sapixTasks");K&&a(JSON.parse(K));const fe=localStorage.getItem("targetSchools");fe&&w(JSON.parse(fe));return}Z||(localStorage.getItem("sapixTasks")||localStorage.getItem("targetSchools")?j2(s.uid).then(()=>{console.log(" LocalStorageFirestore"),Y(!0)}):Y(!0)),O2(s.uid).then(K=>{K.success&&K.data.length>0&&w(K.data)}),gS(s.uid).then(K=>{console.log(" App.jsx - Firestore:",K),K.success?(console.log(" App.jsx - :",K.data),j(K.data)):console.log(" App.jsx - :",K.error)});const A=x2(s.uid,K=>{a(K)});return()=>A()},[s,Z]),ge.useEffect(()=>{s?fS(s.uid,E):localStorage.setItem("targetSchools",JSON.stringify(E))},[E,s]);const oe=async A=>{const K={id:Date.now(),...A,completed:!1,createdAt:new Date().toISOString()};if(s)await bm(s.uid,K);else{const fe=[...n,K];a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe))}p(null)},he=async(A,K)=>{if(s)await V0(s.uid,A,K);else{const fe=n.map(P=>P.id===A?{...P,...K}:P);a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe))}p(null),c(f)},H=async A=>{const K=n.find(fe=>fe.id===A);if(K)if(s)await V0(s.uid,A,{completed:!K.completed});else{const fe=n.map(P=>P.id===A?{...P,completed:!P.completed}:P);a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe))}},ce=async A=>{if(s)await D2(s.uid,A);else{const K=n.filter(fe=>fe.id!==A);a(K),localStorage.setItem("sapixTasks",JSON.stringify(K))}},Te=async A=>{if(s)await k0(s.uid,A);else{const K=n.filter(fe=>!A.includes(fe.id));a(K),localStorage.setItem("sapixTasks",JSON.stringify(K))}},ne=A=>{console.log(" Editing task:",A.title),g(l),c("edit"),p(A)},D=()=>{p(null),c(f)},S=async()=>{const A=window.prompt(`

3 = 13
4 = 13

`,"4");if(!A)return;let K="4";if(A==="3")K="3";else if(A==="4")K="4";else{alert(" 34");return}const fe=N2(K);if(s){const P=n.map(pe=>pe.id);P.length>0&&await k0(s.uid,P);const ie=fe.map(pe=>bm(s.uid,pe));await Promise.all(ie)}else a(fe),localStorage.setItem("sapixTasks",JSON.stringify(fe));alert(` ${K}${fe.length}`)},I=async A=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",A),console.log(" App.jsx - customUnits:",C);const K=await mS(s.uid,A);if(console.log(" App.jsx - Firestore:",K),K.success){const fe=[K.data,...C];return console.log(" App.jsx - customUnits:",fe),j(fe),{success:!0,data:K.data}}else return alert(" : "+K.error),{success:!1,error:K.error}},x=async(A,K)=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",A,K);const fe=await pS(s.uid,A,K);if(console.log(" App.jsx - Firestore:",fe),fe.success){const P=C.map(ie=>ie.firestoreId===A?{...ie,...K}:ie);return console.log(" App.jsx - customUnits:",P),j(P),{success:!0}}else return alert(" : "+fe.error),{success:!1,error:fe.error}},N=async A=>{if(!s)return alert(" "),{success:!1};console.log(" App.jsx - :",A);const K=await yS(s.uid,A);if(console.log(" App.jsx - Firestore:",K),K.success){const fe=C.filter(P=>P.firestoreId!==A);return console.log(" App.jsx - customUnits:",fe),j(fe),{success:!0}}else return alert(" : "+K.error),{success:!1,error:K.error}},M=A=>{e(A)};return s?y.jsxs("div",{className:"app sapix-theme",children:[y.jsx("header",{className:"app-header",children:y.jsxs("div",{className:"header-content",children:[y.jsx("h1",{children:" SAPIX  "}),y.jsx(x0,{onAuthChange:M})]})}),y.jsxs("div",{className:"container",children:[l==="edit"?y.jsxs("div",{className:"edit-view",children:[y.jsxs("div",{className:"edit-header",children:[y.jsx("h2",{children:" "}),y.jsx("button",{onClick:D,className:"back-btn",children:" "})]}),y.jsx(j0,{onAddTask:oe,onUpdateTask:he,editingTask:_,onCancelEdit:D,customUnits:C,onAddCustomUnit:I})]}):y.jsxs(y.Fragment,{children:[y.jsx(i2,{tasks:n,onToggleTask:H,onDeleteTask:ce,onEditTask:ne}),n.length===0&&y.jsxs("div",{className:"sample-schedule-prompt",children:[y.jsx("p",{children:" "}),y.jsx("button",{onClick:S,className:"load-sample-btn",children:" SAPIX3 / 4"})]}),y.jsxs("div",{className:"view-switcher",children:[y.jsx("button",{className:l==="subject"?"active":"",onClick:()=>c("subject"),children:" "}),y.jsx("button",{className:l==="analytics"?"active":"",onClick:()=>c("analytics"),children:" "}),y.jsx("button",{className:l==="calendar"?"active":"",onClick:()=>c("calendar"),children:" "}),y.jsx("button",{className:l==="tasks"?"active":"",onClick:()=>c("tasks"),children:" "}),y.jsx("button",{className:l==="unitManager"?"active":"",onClick:()=>c("unitManager"),children:" "}),y.jsx("button",{className:l==="pastpaper"?"active":"",onClick:()=>c("pastpaper"),children:" "})]}),l==="subject"?y.jsx(m2,{tasks:n,onEditTask:ne,customUnits:C}):l==="analytics"?y.jsx(b2,{tasks:n}):l==="calendar"?y.jsx(c2,{tasks:n,onToggleTask:H,onDeleteTask:ce,onEditTask:ne}):l==="tasks"?y.jsx(l2,{tasks:n,onToggleTask:H,onDeleteTask:ce,onBulkDeleteTasks:Te,onEditTask:ne}):l==="unitManager"?y.jsx(A2,{customUnits:C,onUpdateUnit:x,onDeleteUnit:N}):l==="pastpaper"?y.jsx(I2,{tasks:n,user:s,customUnits:C}):null]}),l!=="edit"&&l!=="unitManager"&&l!=="pastpaper"&&y.jsx("div",{ref:F,children:y.jsx(j0,{onAddTask:oe,onUpdateTask:he,editingTask:_,onCancelEdit:D,customUnits:C,onAddCustomUnit:I})})]})]}):y.jsx(x0,{onAuthChange:M})}iA.createRoot(document.getElementById("root")).render(y.jsx(ge.StrictMode,{children:y.jsx(k2,{})}));
