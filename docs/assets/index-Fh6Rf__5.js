(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var qf={exports:{}},So={};var rv;function lA(){if(rv)return So;rv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:c}}return So.Fragment=e,So.jsx=n,So.jsxs=n,So}var lv;function oA(){return lv||(lv=1,qf.exports=lA()),qf.exports}var m=oA(),Hf={exports:{}},De={};var ov;function cA(){if(ov)return De;ov=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,X={};function z(V,ee,ce){this.props=V,this.context=ee,this.refs=X,this.updater=ce||H}z.prototype.isReactComponent={},z.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=z.prototype;function $(V,ee,ce){this.props=V,this.context=ee,this.refs=X,this.updater=ce||H}var ae=$.prototype=new ie;ae.constructor=$,J(ae,z.prototype),ae.isPureReactComponent=!0;var pe=Array.isArray;function O(){}var w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(V,ee,ce){var me=ce.ref;return{$$typeof:s,type:V,key:ee,ref:me!==void 0?me:null,props:ce}}function D(V,ee){return C(V.type,ee,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function U(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return ee[ce]})}var I=/\/+/g;function le(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):ee.toString(36)}function Se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,ee,ce,me,Ne){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var G=!1;if(V===null)G=!0;else switch(Re){case"bigint":case"string":case"number":G=!0;break;case"object":switch(V.$$typeof){case s:case e:G=!0;break;case E:return G=V._init,Q(G(V._payload),ee,ce,me,Ne)}}if(G)return Ne=Ne(V),G=me===""?"."+le(V,0):me,pe(Ne)?(ce="",G!=null&&(ce=G.replace(I,"$&/")+"/"),Q(Ne,ee,ce,"",function(Ze){return Ze})):Ne!=null&&(x(Ne)&&(Ne=D(Ne,ce+(Ne.key==null||V&&V.key===Ne.key?"":(""+Ne.key).replace(I,"$&/")+"/")+G)),ee.push(Ne)),1;G=0;var he=me===""?".":me+":";if(pe(V))for(var ye=0;ye<V.length;ye++)me=V[ye],Re=he+le(me,ye),G+=Q(me,ee,ce,Re,Ne);else if(ye=k(V),typeof ye=="function")for(V=ye.call(V),ye=0;!(me=V.next()).done;)me=me.value,Re=he+le(me,ye++),G+=Q(me,ee,ce,Re,Ne);else if(Re==="object"){if(typeof V.then=="function")return Q(Se(V),ee,ce,me,Ne);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return G}function re(V,ee,ce){if(V==null)return V;var me=[],Ne=0;return Q(V,me,"","",function(Re){return ee.call(ce,Re,Ne++)}),me}function ve(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ke=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:re,forEach:function(V,ee,ce){re(V,function(){ee.apply(this,arguments)},ce)},count:function(V){var ee=0;return re(V,function(){ee++}),ee},toArray:function(V){return re(V,function(ee){return ee})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return De.Activity=b,De.Children=Qe,De.Component=z,De.Fragment=n,De.Profiler=o,De.PureComponent=$,De.StrictMode=a,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,De.__COMPILER_RUNTIME={__proto__:null,c:function(V){return w.H.useMemoCache(V)}},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(V,ee,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=J({},V.props),Ne=V.key;if(ee!=null)for(Re in ee.key!==void 0&&(Ne=""+ee.key),ee)!N.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(me[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)me.children=ce;else if(1<Re){for(var G=Array(Re),he=0;he<Re;he++)G[he]=arguments[he+2];me.children=G}return C(V.type,Ne,me)},De.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},De.createElement=function(V,ee,ce){var me,Ne={},Re=null;if(ee!=null)for(me in ee.key!==void 0&&(Re=""+ee.key),ee)N.call(ee,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ne[me]=ee[me]);var G=arguments.length-2;if(G===1)Ne.children=ce;else if(1<G){for(var he=Array(G),ye=0;ye<G;ye++)he[ye]=arguments[ye+2];Ne.children=he}if(V&&V.defaultProps)for(me in G=V.defaultProps,G)Ne[me]===void 0&&(Ne[me]=G[me]);return C(V,Re,Ne)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:y,render:V}},De.isValidElement=x,De.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ve}},De.memo=function(V,ee){return{$$typeof:g,type:V,compare:ee===void 0?null:ee}},De.startTransition=function(V){var ee=w.T,ce={};w.T=ce;try{var me=V(),Ne=w.S;Ne!==null&&Ne(ce,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(O,ke)}catch(Re){ke(Re)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),w.T=ee}},De.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},De.use=function(V){return w.H.use(V)},De.useActionState=function(V,ee,ce){return w.H.useActionState(V,ee,ce)},De.useCallback=function(V,ee){return w.H.useCallback(V,ee)},De.useContext=function(V){return w.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,ee){return w.H.useDeferredValue(V,ee)},De.useEffect=function(V,ee){return w.H.useEffect(V,ee)},De.useEffectEvent=function(V){return w.H.useEffectEvent(V)},De.useId=function(){return w.H.useId()},De.useImperativeHandle=function(V,ee,ce){return w.H.useImperativeHandle(V,ee,ce)},De.useInsertionEffect=function(V,ee){return w.H.useInsertionEffect(V,ee)},De.useLayoutEffect=function(V,ee){return w.H.useLayoutEffect(V,ee)},De.useMemo=function(V,ee){return w.H.useMemo(V,ee)},De.useOptimistic=function(V,ee){return w.H.useOptimistic(V,ee)},De.useReducer=function(V,ee,ce){return w.H.useReducer(V,ee,ce)},De.useRef=function(V){return w.H.useRef(V)},De.useState=function(V){return w.H.useState(V)},De.useSyncExternalStore=function(V,ee,ce){return w.H.useSyncExternalStore(V,ee,ce)},De.useTransition=function(){return w.H.useTransition()},De.version="19.2.0",De}var cv;function Um(){return cv||(cv=1,Hf.exports=cA()),Hf.exports}var ue=Um(),Ff={exports:{}},bo={},Gf={exports:{}},Qf={};var uv;function uA(){return uv||(uv=1,(function(s){function e(Q,re){var ve=Q.length;Q.push(re);e:for(;0<ve;){var ke=ve-1>>>1,Qe=Q[ke];if(0<o(Qe,re))Q[ke]=re,Q[ve]=Qe,ve=ke;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var re=Q[0],ve=Q.pop();if(ve!==re){Q[0]=ve;e:for(var ke=0,Qe=Q.length,V=Qe>>>1;ke<V;){var ee=2*(ke+1)-1,ce=Q[ee],me=ee+1,Ne=Q[me];if(0>o(ce,ve))me<Qe&&0>o(Ne,ce)?(Q[ke]=Ne,Q[me]=ve,ke=me):(Q[ke]=ce,Q[ee]=ve,ke=ee);else if(me<Qe&&0>o(Ne,ve))Q[ke]=Ne,Q[me]=ve,ke=me;else break e}}return re}function o(Q,re){var ve=Q.sortIndex-re.sortIndex;return ve!==0?ve:Q.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();s.unstable_now=function(){return f.now()-y}}var _=[],g=[],E=1,b=null,R=3,k=!1,H=!1,J=!1,X=!1,z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ae(Q){for(var re=n(g);re!==null;){if(re.callback===null)a(g);else if(re.startTime<=Q)a(g),re.sortIndex=re.expirationTime,e(_,re);else break;re=n(g)}}function pe(Q){if(J=!1,ae(Q),!H)if(n(_)!==null)H=!0,O||(O=!0,U());else{var re=n(g);re!==null&&Se(pe,re.startTime-Q)}}var O=!1,w=-1,N=5,C=-1;function D(){return X?!0:!(s.unstable_now()-C<N)}function x(){if(X=!1,O){var Q=s.unstable_now();C=Q;var re=!0;try{e:{H=!1,J&&(J=!1,ie(w),w=-1),k=!0;var ve=R;try{t:{for(ae(Q),b=n(_);b!==null&&!(b.expirationTime>Q&&D());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,R=b.priorityLevel;var Qe=ke(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof Qe=="function"){b.callback=Qe,ae(Q),re=!0;break t}b===n(_)&&a(_),ae(Q)}else a(_);b=n(_)}if(b!==null)re=!0;else{var V=n(g);V!==null&&Se(pe,V.startTime-Q),re=!1}}break e}finally{b=null,R=ve,k=!1}re=void 0}}finally{re?U():O=!1}}}var U;if(typeof $=="function")U=function(){$(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,le=I.port2;I.port1.onmessage=x,U=function(){le.postMessage(null)}}else U=function(){z(x,0)};function Se(Q,re){w=z(function(){Q(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var ve=R;R=re;try{return Q()}finally{R=ve}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ve=R;R=Q;try{return re()}finally{R=ve}},s.unstable_scheduleCallback=function(Q,re,ve){var ke=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ke+ve:ke):ve=ke,Q){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ve+Qe,Q={id:E++,callback:re,priorityLevel:Q,startTime:ve,expirationTime:Qe,sortIndex:-1},ve>ke?(Q.sortIndex=ve,e(g,Q),n(_)===null&&Q===n(g)&&(J?(ie(w),w=-1):J=!0,Se(pe,ve-ke))):(Q.sortIndex=Qe,e(_,Q),H||k||(H=!0,O||(O=!0,U()))),Q},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(Q){var re=R;return function(){var ve=R;R=re;try{return Q.apply(this,arguments)}finally{R=ve}}}})(Qf)),Qf}var hv;function hA(){return hv||(hv=1,Gf.exports=uA()),Gf.exports}var Yf={exports:{}},en={};var dv;function dA(){if(dv)return en;dv=1;var s=Um();function e(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:_,containerInfo:g,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(_,g,null,E)},en.flushSync=function(_){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=g,a.p=E,a.d.f()}},en.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(_,g))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var E=g.as,b=y(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:k}):E==="script"&&a.d.X(_,{crossOrigin:b,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=y(g.as,g.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(_)},en.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=y(E,g.crossOrigin);a.d.L(_,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(_,g){if(typeof _=="string")if(g){var E=y(g.as,g.crossOrigin);a.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,g){return _(g)},en.useFormState=function(_,g,E){return f.H.useFormState(_,g,E)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.2.0",en}var fv;function fA(){if(fv)return Yf.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yf.exports=dA(),Yf.exports}var mv;function mA(){if(mv)return bo;mv=1;var s=hA(),e=Um(),n=fA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,l=i;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),t;if(d===l)return _(h),i;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===r){v=!0,r=h,l=d;break}if(S===l){v=!0,l=h,r=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===r){v=!0,r=d,l=h;break}if(S===l){v=!0,l=d,r=h;break}S=S.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case z:return"Profiler";case X:return"StrictMode";case pe:return"Suspense";case O:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case $:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return i=t.displayName||null,i!==null?i:le(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return le(t(i))}catch{}}return null}var Se=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ke=[],Qe=-1;function V(t){return{current:t}}function ee(t){0>Qe||(t.current=ke[Qe],ke[Qe]=null,Qe--)}function ce(t,i){Qe++,ke[Qe]=t.current,t.current=i}var me=V(null),Ne=V(null),Re=V(null),G=V(null);function he(t,i){switch(ce(Re,i),ce(Ne,t),ce(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=R_(i),t=x_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(me),ce(me,t)}function ye(){ee(me),ee(Ne),ee(Re)}function Ze(t){t.memoizedState!==null&&ce(G,t);var i=me.current,r=x_(i,t.type);i!==r&&(ce(Ne,t),ce(me,r))}function de(t){Ne.current===t&&(ee(me),ee(Ne)),G.current===t&&(ee(G),_o._currentValue=ve)}var ge,dt;function At(t){if(ge===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);ge=i&&i[1]||"",dt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+t+dt}var un=!1;function ma(t,i){if(!t||un)return"";un=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var F=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){F=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){F=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var j=v.split(`
`),q=S.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===q.length)for(l=j.length-1,h=q.length-1;1<=l&&0<=h&&j[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==q[h]){var Z=`
`+j[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{un=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?At(r):""}function _l(t,i){switch(t.tag){case 26:case 27:case 5:return At(t.type);case 16:return At("Lazy");case 13:return t.child!==i&&i!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return ma(t.type,!1);case 11:return ma(t.type.render,!1);case 1:return ma(t.type,!0);case 31:return At("Activity");default:return""}}function vl(t){try{var i="",r=null;do i+=_l(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Ut=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,Hh=s.unstable_shouldYield,nc=s.unstable_requestPaint,ln=s.unstable_now,ga=s.unstable_getCurrentPriorityLevel,Tl=s.unstable_ImmediatePriority,El=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,Fh=s.unstable_LowPriority,ic=s.unstable_IdlePriority,sc=s.log,ac=s.unstable_setDisableYieldValue,Kn=null,Gt=null;function jn(t){if(typeof sc=="function"&&ac(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Kn,t)}catch{}}var vt=Math.clz32?Math.clz32:lc,rc=Math.log,ar=Math.LN2;function lc(t){return t>>>=0,t===0?32:31-(rc(t)/ar|0)|0}var hi=256,pa=262144,Nt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=di(l):(v&=S,v!==0?h=di(v):r||(r=S&~t,r!==0&&(h=di(r))))):(S=l&~d,S!==0?h=di(S):v!==0?h=di(v):r||(r=l&~t,r!==0&&(h=di(r)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,r=i&-i,d>=r||d===32&&(r&4194048)!==0)?i:h}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oc(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function mi(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function ya(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qh(t,i,r,l,h,d){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,j=t.expirationTimes,q=t.hiddenUpdates;for(r=v&~r;0<r;){var Z=31-vt(r),ne=1<<Z;S[Z]=0,j[Z]=-1;var F=q[Z];if(F!==null)for(q[Z]=null,Z=0;Z<F.length;Z++){var K=F[Z];K!==null&&(K.lane&=-536870913)}r&=~ne}l!==0&&_a(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function _a(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-vt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Sl(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-vt(r),h=1<<l;h&i|t[l]&i&&(t[l]|=i),r&=~h}}function bl(t,i){var r=i&-i;return r=(r&42)!==0?1:va(r),(r&(t.suspendedLanes|i))!==0?0:r}function va(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function $n(t,i){var r=re.p;try{return re.p=t,i()}finally{re.p=r}}var Jn=Math.random().toString(36).slice(2),It="__reactFiber$"+Jn,zt="__reactProps$"+Jn,gi="__reactContainer$"+Jn,rr="__reactEvents$"+Jn,Yh="__reactListeners$"+Jn,uc="__reactHandles$"+Jn,hc="__reactResources$"+Jn,pi="__reactMarker$"+Jn;function lr(t){delete t[It],delete t[zt],delete t[rr],delete t[Yh],delete t[uc]}function yi(t){var i=t[It];if(i)return i;for(var r=t.parentNode;r;){if(i=r[gi]||r[It]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=U_(t);t!==null;){if(r=t[It])return r;t=U_(t)}return i}t=r,r=t.parentNode}return null}function On(t){if(t=t[It]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function _i(t){var i=t[hc];return i||(i=t[hc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[pi]=!0}var Al=new Set,wl={};function vi(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(wl[t]=i,t=0;t<i.length;t++)Al.add(i[t])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Cl={};function dc(t){return wt.call(Cl,t)?!0:wt.call(Il,t)?!1:Nl.test(t)?Cl[t]=!0:(Il[t]=!0,!1)}function or(t,i,r){if(dc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Sn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Rt(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ys(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rl(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function We(t){if(!t._valueTracker){var i=ys(t)?"checked":"value";t._valueTracker=Rl(t,i,""+t[i])}}function Ta(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=ys(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ea=/[\n"\\]/g;function hn(t){return t.replace(Ea,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cr(t,i,r,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?xl(t,v,Bt(i)):r!=null?xl(t,v,Bt(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function fc(t,i,r,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){We(t);return}r=r!=null?""+Bt(r):"",i=i!=null?""+Bt(i):r,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),We(t)}function xl(t,i,r){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function _s(t,i,r,l){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Bt(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function mc(t,i,r){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Bt(r):""}function vs(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(Se(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=Bt(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),We(t)}function dn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||gc.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function jl(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&Dl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Dl(t,d,i[d])}function ur(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Ol=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,Si=null;function Sa(t){var i=On(t);if(i&&(t=i.stateNode)){var r=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var h=l[zt]||null;if(!h)throw Error(a(90));cr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&Ta(l)}break e;case"textarea":mc(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&_s(t,!!r.multiple,i,!1)}}}var dr=!1;function Ss(t,i,r){if(dr)return t(i,r);dr=!0;try{var l=t(i);return l}finally{if(dr=!1,(Es!==null||Si!==null)&&(cu(),Es&&(i=Es,t=Si,Si=Es=null,Sa(i),t)))for(i=0;i<t.length;i++)Sa(t[i])}}function Wn(t,i){var r=t.stateNode;if(r===null)return null;var l=r[zt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(Vn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ba=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ba=!1}var bi=null,Ml=null,Aa=null;function Vl(){if(Aa)return Aa;var t,i=Ml,r=i.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<r&&i[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&i[r-l]===h[d-l];l++);return Aa=h.slice(t,1<l?1-l:void 0)}function wa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function ei(){return!1}function Qt(t){function i(r,l,h,d,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:ei,this.isPropagationStopped=ei,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Qt(qi),bs=b({},qi,{view:0,detail:0}),kl=Qt(bs),As,fr,wi,mr=b({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(As=t.screenX-wi.screenX,fr=t.screenY-wi.screenY):fr=As=0,wi=t),As)},movementY:function(t){return"movementY"in t?t.movementY:fr}}),Ul=Qt(mr),Na=b({},mr,{dataTransfer:0}),yc=Qt(Na),_c=b({},bs,{relatedTarget:0}),Ia=Qt(_c),Ll=b({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),vc=Qt(Ll),gr=b({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tc=Qt(gr),Ec=b({},qi,{data:0}),Ni=Qt(Ec),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ac[t])?!!i[t]:!1}function ws(){return wc}var on=b({},bs,{key:function(t){if(t.key){var i=Sc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nc=Qt(on),Ic=b({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Qt(Ic),u=b({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),p=Qt(u),T=b({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qt(T),P=b({},mr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Qt(P),oe=b({},qi,{newState:0,oldState:0}),Oe=Qt(oe),Tt=[9,13,27,32],Xe=Vn&&"CompositionEvent"in window,ft=null;Vn&&"documentMode"in document&&(ft=document.documentMode);var kn=Vn&&"TextEvent"in window&&!ft,Ii=Vn&&(!Xe||ft&&8<ft&&11>=ft),ti=" ",ni=!1;function Ca(t,i){switch(t){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yr=!1;function DS(t,i){switch(t){case"compositionend":return pr(i);case"keypress":return i.which!==32?null:(ni=!0,ti);case"textInput":return t=i.data,t===ti&&ni?null:t;default:return null}}function jS(t,i){if(yr)return t==="compositionend"||!Xe&&Ca(t,i)?(t=Vl(),Aa=Ml=bi=null,yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!OS[t.type]:i==="textarea"}function Bg(t,i,r,l){Es?Si?Si.push(l):Si=[l]:Es=l,i=pu(i,"onChange"),0<i.length&&(r=new Ai("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var Pl=null,zl=null;function MS(t){b_(t,0)}function Cc(t){var i=En(t);if(Ta(i))return t}function qg(t,i){if(t==="change")return i}var Hg=!1;if(Vn){var Kh;if(Vn){var Xh="oninput"in document;if(!Xh){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Xh=typeof Fg.oninput=="function"}Kh=Xh}else Kh=!1;Hg=Kh&&(!document.documentMode||9<document.documentMode)}function Gg(){Pl&&(Pl.detachEvent("onpropertychange",Qg),zl=Pl=null)}function Qg(t){if(t.propertyName==="value"&&Cc(zl)){var i=[];Bg(i,zl,t,Mn(t)),Ss(MS,i)}}function VS(t,i,r){t==="focusin"?(Gg(),Pl=i,zl=r,Pl.attachEvent("onpropertychange",Qg)):t==="focusout"&&Gg()}function kS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(zl)}function US(t,i){if(t==="click")return Cc(i)}function LS(t,i){if(t==="input"||t==="change")return Cc(i)}function PS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:PS;function Bl(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!wt.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,i){var r=Yg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yg(r)}}function Xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ei(t.document)}return i}function $h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zS=Vn&&"documentMode"in document&&11>=document.documentMode,_r=null,Jh=null,ql=null,Zh=!1;function Jg(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||_r==null||_r!==Ei(l)||(l=_r,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Bl(ql,l)||(ql=l,l=pu(Jh,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=_r)))}function Ra(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var vr={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Wh={},Zg={};Vn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function xa(t){if(Wh[t])return Wh[t];if(!vr[t])return t;var i=vr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Zg)return Wh[t]=i[r];return t}var Wg=xa("animationend"),ep=xa("animationiteration"),tp=xa("animationstart"),BS=xa("transitionrun"),qS=xa("transitionstart"),HS=xa("transitioncancel"),np=xa("transitionend"),ip=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function ii(t,i){ip.set(t,i),vi(i,[t])}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Tr=0,td=0;function xc(){for(var t=Tr,i=td=Tr=0;i<t;){var r=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&sp(r,h,d)}}function Dc(t,i,r,l){Un[Tr++]=t,Un[Tr++]=i,Un[Tr++]=r,Un[Tr++]=l,td|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nd(t,i,r,l){return Dc(t,i,r,l),jc(t)}function Da(t,i){return Dc(t,null,null,i),jc(t)}function sp(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-vt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=r|536870912),d):null}function jc(t){if(50<uo)throw uo=0,df=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Er={};function FS(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,r,l){return new FS(t,i,r,l)}function id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var r=t.alternate;return r===null?(r=An(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ap(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Oc(t,i,r,l,h,d){var v=0;if(l=t,typeof t=="function")id(t)&&(v=1);else if(typeof t=="string")v=Xb(t,r,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=An(31,r,i,h),t.elementType=C,t.lanes=d,t;case J:return ja(r.children,h,d,i);case X:v=8,h|=24;break;case z:return t=An(12,r,i,h|2),t.elementType=z,t.lanes=d,t;case pe:return t=An(13,r,i,h),t.elementType=pe,t.lanes=d,t;case O:return t=An(19,r,i,h),t.elementType=O,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:v=10;break e;case ie:v=9;break e;case ae:v=11;break e;case w:v=14;break e;case N:v=16,l=null;break e}v=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=An(v,r,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ja(t,i,r,l){return t=An(7,t,l,i),t.lanes=r,t}function sd(t,i,r){return t=An(6,t,null,i),t.lanes=r,t}function rp(t){var i=An(18,null,null,0);return i.stateNode=t,i}function ad(t,i,r){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var lp=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var r=lp.get(t);return r!==void 0?r:(i={value:t,source:i,stack:vl(i)},lp.set(t,i),i)}return{value:t,source:i,stack:vl(i)}}var Sr=[],br=0,Mc=null,Hl=0,Pn=[],zn=0,Ns=null,Ci=1,Ri="";function Gi(t,i){Sr[br++]=Hl,Sr[br++]=Mc,Mc=t,Hl=i}function op(t,i,r){Pn[zn++]=Ci,Pn[zn++]=Ri,Pn[zn++]=Ns,Ns=t;var l=Ci;t=Ri;var h=32-vt(l)-1;l&=~(1<<h),r+=1;var d=32-vt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-vt(i)+h|r<<h|l,Ri=d+t}else Ci=1<<d|r<<h|l,Ri=t}function rd(t){t.return!==null&&(Gi(t,1),op(t,1,0))}function ld(t){for(;t===Mc;)Mc=Sr[--br],Sr[br]=null,Hl=Sr[--br],Sr[br]=null;for(;t===Ns;)Ns=Pn[--zn],Pn[zn]=null,Ri=Pn[--zn],Pn[zn]=null,Ci=Pn[--zn],Pn[zn]=null}function cp(t,i){Pn[zn++]=Ci,Pn[zn++]=Ri,Pn[zn++]=Ns,Ci=i.id,Ri=i.overflow,Ns=t}var Yt=null,ct=null,Fe=!1,Is=null,Bn=!1,od=Error(a(519));function Cs(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Ln(i,t)),od}function up(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[It]=t,i[zt]=l,r){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(r=0;r<fo.length;r++)Le(fo[r],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),fc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),vs(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||I_(i.textContent,r)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Cs(t,!0)}function hp(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Yt=Yt.return}}function Ar(t){if(t!==Yt)return!1;if(!Fe)return hp(t),Fe=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||If(t.type,t.memoizedProps)),r=!r),r&&ct&&Cs(t),hp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=k_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=k_(t)}else i===27?(i=ct,qs(t.type)?(t=jf,jf=null,ct=t):ct=i):ct=Yt?Hn(t.stateNode.nextSibling):null;return!0}function Oa(){ct=Yt=null,Fe=!1}function cd(){var t=Is;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Is=null),t}function Fl(t){Is===null?Is=[t]:Is.push(t)}var ud=V(null),Ma=null,Qi=null;function Rs(t,i,r){ce(ud,i._currentValue),i._currentValue=r}function Yi(t){t._currentValue=ud.current,ee(ud)}function hd(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function dd(t,i,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var j=0;j<i.length;j++)if(S.context===i[j]){d.lanes|=r,S=d.alternate,S!==null&&(S.lanes|=r),hd(d.return,r,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=r,d=v.alternate,d!==null&&(d.lanes|=r),hd(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wr(t,i,r,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var S=h.type;bn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===G.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&dd(i,t,r,l),i.flags|=262144}function Vc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Va(t){Ma=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return dp(Ma,t)}function kc(t,i){return Ma===null&&Va(t),dp(t,i)}function dp(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Qi===null){if(t===null)throw Error(a(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return r}var GS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},QS=s.unstable_scheduleCallback,YS=s.unstable_NormalPriority,xt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new GS,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&QS(YS,function(){t.controller.abort()})}var Ql=null,md=0,Nr=0,Ir=null;function KS(t,i){if(Ql===null){var r=Ql=[];md=0,Nr=_f(),Ir={status:"pending",value:void 0,then:function(l){r.push(l)}}}return md++,i.then(fp,fp),i}function fp(){if(--md===0&&Ql!==null){Ir!==null&&(Ir.status="fulfilled");var t=Ql;Ql=null,Nr=0,Ir=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XS(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var mp=Q.S;Q.S=function(t,i){Jy=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(t,i),mp!==null&&mp(t,i)};var ka=V(null);function gd(){var t=ka.current;return t!==null?t:rt.pooledCache}function Uc(t,i){i===null?ce(ka,ka.current):ce(ka,i.pool)}function gp(){var t=gd();return t===null?null:{parent:xt._currentValue,pool:t}}var Cr=Error(a(460)),pd=Error(a(474)),Lc=Error(a(542)),Pc={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Zn,Zn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vp(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vp(t),t}throw La=i,Cr}}function Ua(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(La=r,Cr):r}}var La=null;function _p(){if(La===null)throw Error(a(459));var t=La;return La=null,t}function vp(t){if(t===Cr||t===Lc)throw Error(a(483))}var Rr=null,Yl=0;function zc(t){var i=Yl;return Yl+=1,Rr===null&&(Rr=[]),yp(Rr,t,i)}function Kl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bc(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tp(t){function i(L,M){if(t){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function r(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Fi(L,M),L.index=0,L.sibling=null,L}function d(L,M,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,B,W){return M===null||M.tag!==6?(M=sd(B,L.mode,W),M.return=L,M):(M=h(M,B),M.return=L,M)}function j(L,M,B,W){var be=B.type;return be===J?Z(L,M,B.props.children,W,B.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===N&&Ua(be)===M.type)?(M=h(M,B.props),Kl(M,B),M.return=L,M):(M=Oc(B.type,B.key,B.props,null,L.mode,W),Kl(M,B),M.return=L,M)}function q(L,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=ad(B,L.mode,W),M.return=L,M):(M=h(M,B.children||[]),M.return=L,M)}function Z(L,M,B,W,be){return M===null||M.tag!==7?(M=ja(B,L.mode,W,be),M.return=L,M):(M=h(M,B),M.return=L,M)}function ne(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=sd(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return B=Oc(M.type,M.key,M.props,null,L.mode,B),Kl(B,M),B.return=L,B;case H:return M=ad(M,L.mode,B),M.return=L,M;case N:return M=Ua(M),ne(L,M,B)}if(Se(M)||U(M))return M=ja(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return ne(L,zc(M),B);if(M.$$typeof===$)return ne(L,kc(L,M),B);Bc(L,M)}return null}function F(L,M,B,W){var be=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return be!==null?null:S(L,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===be?j(L,M,B,W):null;case H:return B.key===be?q(L,M,B,W):null;case N:return B=Ua(B),F(L,M,B,W)}if(Se(B)||U(B))return be!==null?null:Z(L,M,B,W,null);if(typeof B.then=="function")return F(L,M,zc(B),W);if(B.$$typeof===$)return F(L,M,kc(L,B),W);Bc(L,B)}return null}function K(L,M,B,W,be){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,S(M,L,""+W,be);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return L=L.get(W.key===null?B:W.key)||null,j(M,L,W,be);case H:return L=L.get(W.key===null?B:W.key)||null,q(M,L,W,be);case N:return W=Ua(W),K(L,M,B,W,be)}if(Se(W)||U(W))return L=L.get(B)||null,Z(M,L,W,be,null);if(typeof W.then=="function")return K(L,M,B,zc(W),be);if(W.$$typeof===$)return K(L,M,B,kc(M,W),be);Bc(M,W)}return null}function Te(L,M,B,W){for(var be=null,Ye=null,Ee=M,Ve=M=0,ze=null;Ee!==null&&Ve<B.length;Ve++){Ee.index>Ve?(ze=Ee,Ee=null):ze=Ee.sibling;var Ke=F(L,Ee,B[Ve],W);if(Ke===null){Ee===null&&(Ee=ze);break}t&&Ee&&Ke.alternate===null&&i(L,Ee),M=d(Ke,M,Ve),Ye===null?be=Ke:Ye.sibling=Ke,Ye=Ke,Ee=ze}if(Ve===B.length)return r(L,Ee),Fe&&Gi(L,Ve),be;if(Ee===null){for(;Ve<B.length;Ve++)Ee=ne(L,B[Ve],W),Ee!==null&&(M=d(Ee,M,Ve),Ye===null?be=Ee:Ye.sibling=Ee,Ye=Ee);return Fe&&Gi(L,Ve),be}for(Ee=l(Ee);Ve<B.length;Ve++)ze=K(Ee,L,Ve,B[Ve],W),ze!==null&&(t&&ze.alternate!==null&&Ee.delete(ze.key===null?Ve:ze.key),M=d(ze,M,Ve),Ye===null?be=ze:Ye.sibling=ze,Ye=ze);return t&&Ee.forEach(function(Ys){return i(L,Ys)}),Fe&&Gi(L,Ve),be}function we(L,M,B,W){if(B==null)throw Error(a(151));for(var be=null,Ye=null,Ee=M,Ve=M=0,ze=null,Ke=B.next();Ee!==null&&!Ke.done;Ve++,Ke=B.next()){Ee.index>Ve?(ze=Ee,Ee=null):ze=Ee.sibling;var Ys=F(L,Ee,Ke.value,W);if(Ys===null){Ee===null&&(Ee=ze);break}t&&Ee&&Ys.alternate===null&&i(L,Ee),M=d(Ys,M,Ve),Ye===null?be=Ys:Ye.sibling=Ys,Ye=Ys,Ee=ze}if(Ke.done)return r(L,Ee),Fe&&Gi(L,Ve),be;if(Ee===null){for(;!Ke.done;Ve++,Ke=B.next())Ke=ne(L,Ke.value,W),Ke!==null&&(M=d(Ke,M,Ve),Ye===null?be=Ke:Ye.sibling=Ke,Ye=Ke);return Fe&&Gi(L,Ve),be}for(Ee=l(Ee);!Ke.done;Ve++,Ke=B.next())Ke=K(Ee,L,Ve,Ke.value,W),Ke!==null&&(t&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ve:Ke.key),M=d(Ke,M,Ve),Ye===null?be=Ke:Ye.sibling=Ke,Ye=Ke);return t&&Ee.forEach(function(rA){return i(L,rA)}),Fe&&Gi(L,Ve),be}function at(L,M,B,W){if(typeof B=="object"&&B!==null&&B.type===J&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var be=B.key;M!==null;){if(M.key===be){if(be=B.type,be===J){if(M.tag===7){r(L,M.sibling),W=h(M,B.props.children),W.return=L,L=W;break e}}else if(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===N&&Ua(be)===M.type){r(L,M.sibling),W=h(M,B.props),Kl(W,B),W.return=L,L=W;break e}r(L,M);break}else i(L,M);M=M.sibling}B.type===J?(W=ja(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=Oc(B.type,B.key,B.props,null,L.mode,W),Kl(W,B),W.return=L,L=W)}return v(L);case H:e:{for(be=B.key;M!==null;){if(M.key===be)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(L,M.sibling),W=h(M,B.children||[]),W.return=L,L=W;break e}else{r(L,M);break}else i(L,M);M=M.sibling}W=ad(B,L.mode,W),W.return=L,L=W}return v(L);case N:return B=Ua(B),at(L,M,B,W)}if(Se(B))return Te(L,M,B,W);if(U(B)){if(be=U(B),typeof be!="function")throw Error(a(150));return B=be.call(B),we(L,M,B,W)}if(typeof B.then=="function")return at(L,M,zc(B),W);if(B.$$typeof===$)return at(L,M,kc(L,B),W);Bc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(r(L,M.sibling),W=h(M,B),W.return=L,L=W):(r(L,M),W=sd(B,L.mode,W),W.return=L,L=W),v(L)):r(L,M)}return function(L,M,B,W){try{Yl=0;var be=at(L,M,B,W);return Rr=null,be}catch(Ee){if(Ee===Cr||Ee===Lc)throw Ee;var Ye=An(29,Ee,null,L.mode);return Ye.lanes=W,Ye.return=L,Ye}finally{}}}var Pa=Tp(!0),Ep=Tp(!1),xs=!1;function yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _d(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=jc(t),sp(t,null,r),i}return Dc(t,l,i,r),jc(t)}function Xl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,Sl(t,r)}}function vd(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,r=r.next}while(r!==null);d===null?h=d=i:d=d.next=i}else h=d=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Td=!1;function $l(){if(Td){var t=Ir;if(t!==null)throw t}}function Jl(t,i,r,l){Td=!1;var h=t.updateQueue;xs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var j=S,q=j.next;j.next=null,v===null?d=q:v.next=q,v=j;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==v&&(S===null?Z.firstBaseUpdate=q:S.next=q,Z.lastBaseUpdate=j))}if(d!==null){var ne=h.baseState;v=0,Z=q=j=null,S=d;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Pe&F)===F:(l&F)===F){F!==0&&F===Nr&&(Td=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=t,we=S;F=i;var at=r;switch(we.tag){case 1:if(Te=we.payload,typeof Te=="function"){ne=Te.call(at,ne,F);break e}ne=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=we.payload,F=typeof Te=="function"?Te.call(at,ne,F):Te,F==null)break e;ne=b({},ne,F);break e;case 2:xs=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(q=Z=K,j=ne):Z=Z.next=K,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(j=ne),h.baseState=j,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Us|=v,t.lanes=v,t.memoizedState=ne}}function Sp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function bp(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Sp(r[t],i)}var xr=V(null),qc=V(0);function Ap(t,i){t=ns,ce(qc,t),ce(xr,i),ns=t|i.baseLanes}function Ed(){ce(qc,ns),ce(xr,xr.current)}function Sd(){ns=qc.current,ee(xr),ee(qc)}var wn=V(null),qn=null;function Os(t){var i=t.alternate;ce(Et,Et.current&1),ce(wn,t),qn===null&&(i===null||xr.current!==null||i.memoizedState!==null)&&(qn=t)}function bd(t){ce(Et,Et.current),ce(wn,t),qn===null&&(qn=t)}function wp(t){t.tag===22?(ce(Et,Et.current),ce(wn,t),qn===null&&(qn=t)):Ms()}function Ms(){ce(Et,Et.current),ce(wn,wn.current)}function Nn(t){ee(wn),qn===t&&(qn=null),ee(Et)}var Et=V(0);function Hc(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xf(r)||Df(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Me=null,it=null,Dt=null,Fc=!1,Dr=!1,za=!1,Gc=0,Zl=0,jr=null,$S=0;function pt(){throw Error(a(321))}function Ad(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!bn(t[r],i[r]))return!1;return!0}function wd(t,i,r,l,h,d){return Ki=d,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?oy:zd,za=!1,d=r(l,h),za=!1,Dr&&(d=Ip(i,r,l,h)),Np(t),d}function Np(t){Q.H=to;var i=it!==null&&it.next!==null;if(Ki=0,Dt=it=Me=null,Fc=!1,Zl=0,jr=null,i)throw Error(a(300));t===null||jt||(t=t.dependencies,t!==null&&Vc(t)&&(jt=!0))}function Ip(t,i,r,l){Me=t;var h=0;do{if(Dr&&(jr=null),Zl=0,Dr=!1,25<=h)throw Error(a(301));if(h+=1,Dt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=cy,d=i(r,l)}while(Dr);return d}function JS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Wl(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Me.flags|=1024),i}function Nd(){var t=Gc!==0;return Gc=0,t}function Id(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Cd(t){if(Fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Fc=!1}Ki=0,Dt=it=Me=null,Dr=!1,Zl=Gc=0,jr=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function St(){if(it===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=Dt===null?Me.memoizedState:Dt.next;if(i!==null)Dt=i,it=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var i=Zl;return Zl+=1,jr===null&&(jr=[]),t=yp(jr,t,i),i=Me,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?oy:zd),t}function Yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===$)return Kt(t)}throw Error(a(438,String(t)))}function Rd(t){var i=null,r=Me.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Qc(),Me.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=D;return i.index++,r}function Xi(t,i){return typeof i=="function"?i(t):i}function Kc(t){var i=St();return xd(i,it,t)}function xd(t,i,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,j=null,q=i,Z=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Pe&ne)===ne:(Ki&ne)===ne){var F=q.revertLane;if(F===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Nr&&(Z=!0);else if((Ki&F)===F){q=q.next,F===Nr&&(Z=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(S=j=ne,v=d):j=j.next=ne,Me.lanes|=F,Us|=F;ne=q.action,za&&r(d,ne),d=q.hasEagerState?q.eagerState:r(d,ne)}else F={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(S=j=F,v=d):j=j.next=F,Me.lanes|=ne,Us|=ne;q=q.next}while(q!==null&&q!==i);if(j===null?v=d:j.next=S,!bn(d,t.memoizedState)&&(jt=!0,Z&&(r=Ir,r!==null)))throw r;t.memoizedState=d,t.baseState=v,t.baseQueue=j,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Dd(t){var i=St(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=i.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);bn(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),r.lastRenderedState=d}return[d,l]}function Cp(t,i,r){var l=Me,h=St(),d=Fe;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=i();var v=!bn((it||h).memoizedState,r);if(v&&(h.memoizedState=r,jt=!0),h=h.queue,Md(Dp.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Or(9,{destroy:void 0},xp.bind(null,l,h,r,i),null),rt===null)throw Error(a(349));d||(Ki&127)!==0||Rp(l,i,r)}return r}function Rp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Me.updateQueue,i===null?(i=Qc(),Me.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function xp(t,i,r,l){i.value=r,i.getSnapshot=l,jp(i)&&Op(t)}function Dp(t,i,r){return r(function(){jp(i)&&Op(t)})}function jp(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!bn(t,r)}catch{return!0}}function Op(t){var i=Da(t,2);i!==null&&yn(i,t,2)}function jd(t){var i=cn();if(typeof t=="function"){var r=t;if(t=r(),za){jn(!0);try{r()}finally{jn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function Mp(t,i,r,l){return t.baseState=r,xd(t,it,typeof l=="function"?l:Xi)}function ZS(t,i,r,l,h){if(Jc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?r(!0):d.isTransition=!1,l(d),r=i.pending,r===null?(d.next=i.pending=d,Vp(i,d)):(d.next=r.next,i.pending=r.next=d)}}function Vp(t,i){var r=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var S=r(h,l),j=Q.S;j!==null&&j(v,S),kp(t,i,S)}catch(q){Od(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=r(h,l),kp(t,i,d)}catch(q){Od(t,i,q)}}function kp(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Up(t,i,l)},function(l){return Od(t,i,l)}):Up(t,i,r)}function Up(t,i,r){i.status="fulfilled",i.value=r,Lp(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,Vp(t,r)))}function Od(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,Lp(i),i=i.next;while(i!==l)}t.action=null}function Lp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pp(t,i){return i}function zp(t,i){if(Fe){var r=rt.formState;if(r!==null){e:{var l=Me;if(Fe){if(ct){t:{for(var h=ct,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Hn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(i=r[0])}}return r=cn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:i},r.queue=l,r=ay.bind(null,Me,l),l.dispatch=r,l=jd(!1),d=Pd.bind(null,Me,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,r=ZS.bind(null,Me,h,d,r),h.dispatch=r,l.memoizedState=t,[i,r,!1]}function Bp(t){var i=St();return qp(i,it,t)}function qp(t,i,r){if(i=xd(t,i,Pp)[0],t=Kc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wl(i)}catch(v){throw v===Cr?Lc:v}else l=i;i=St();var h=i.queue,d=h.dispatch;return r!==i.memoizedState&&(Me.flags|=2048,Or(9,{destroy:void 0},WS.bind(null,h,r),null)),[l,d,t]}function WS(t,i){t.action=i}function Hp(t){var i=St(),r=it;if(r!==null)return qp(i,r,t);St(),i=i.memoizedState,r=St();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Or(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Qc(),Me.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function Fp(){return St().memoizedState}function Xc(t,i,r,l){var h=cn();Me.flags|=t,h.memoizedState=Or(1|i,{destroy:void 0},r,l===void 0?null:l)}function $c(t,i,r,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&Ad(l,it.memoizedState.deps)?h.memoizedState=Or(i,d,r,l):(Me.flags|=t,h.memoizedState=Or(1|i,d,r,l))}function Gp(t,i){Xc(8390656,8,t,i)}function Md(t,i){$c(2048,8,t,i)}function eb(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=Qc(),Me.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Qp(t){var i=St().memoizedState;return eb({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Yp(t,i){return $c(4,2,t,i)}function Kp(t,i){return $c(4,4,t,i)}function Xp(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $p(t,i,r){r=r!=null?r.concat([t]):null,$c(4,4,Xp.bind(null,i,t),r)}function Vd(){}function Jp(t,i){var r=St();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Ad(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function Zp(t,i){var r=St();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Ad(i,l[1]))return l[0];if(l=t(),za){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,i],l}function kd(t,i,r){return r===void 0||(Ki&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Wy(),Me.lanes|=t,Us|=t,r)}function Wp(t,i,r,l){return bn(r,i)?r:xr.current!==null?(t=kd(t,r,l),bn(t,i)||(jt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Pe&261930)===0?(jt=!0,t.memoizedState=r):(t=Wy(),Me.lanes|=t,Us|=t,i)}function ey(t,i,r,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=Q.T,S={};Q.T=S,Pd(t,!1,i,r);try{var j=h(),q=Q.S;if(q!==null&&q(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=XS(j,l);eo(t,i,Z,Rn(t))}else eo(t,i,l,Rn(t))}catch(ne){eo(t,i,{then:function(){},status:"rejected",reason:ne},Rn())}finally{re.p=d,v!==null&&S.types!==null&&(v.types=S.types),Q.T=v}}function tb(){}function Ud(t,i,r,l){if(t.tag!==5)throw Error(a(476));var h=ty(t).queue;ey(t,h,i,ve,r===null?tb:function(){return ny(t),r(l)})}function ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ve},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ny(t){var i=ty(t);i.next===null&&(i=t.alternate.memoizedState),eo(t,i.next.queue,{},Rn())}function Ld(){return Kt(_o)}function iy(){return St().memoizedState}function sy(){return St().memoizedState}function nb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Rn();t=Ds(r);var l=js(i,t,r);l!==null&&(yn(l,i,r),Xl(l,i,r)),i={cache:fd()},t.payload=i;return}i=i.return}}function ib(t,i,r){var l=Rn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Jc(t)?ry(i,r):(r=nd(t,i,r,l),r!==null&&(yn(r,t,l),ly(r,i,l)))}function ay(t,i,r){var l=Rn();eo(t,i,r,l)}function eo(t,i,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,r);if(h.hasEagerState=!0,h.eagerState=S,bn(S,v))return Dc(t,i,h,0),rt===null&&xc(),!1}catch{}finally{}if(r=nd(t,i,h,l),r!==null)return yn(r,t,l),ly(r,i,l),!0}return!1}function Pd(t,i,r,l){if(l={lane:2,revertLane:_f(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(i)throw Error(a(479))}else i=nd(t,r,l,2),i!==null&&yn(i,t,2)}function Jc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function ry(t,i){Dr=Fc=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function ly(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,Sl(t,r)}}var to={readContext:Kt,use:Yc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};to.useEffectEvent=pt;var oy={readContext:Kt,use:Yc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Gp,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Xc(4194308,4,Xp.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Xc(4194308,4,t,i)},useInsertionEffect:function(t,i){Xc(4,2,t,i)},useMemo:function(t,i){var r=cn();i=i===void 0?null:i;var l=t();if(za){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=cn();if(r!==void 0){var h=r(i);if(za){jn(!0);try{r(i)}finally{jn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ib.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=jd(t);var i=t.queue,r=ay.bind(null,Me,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Vd,useDeferredValue:function(t,i){var r=cn();return kd(r,t,i)},useTransition:function(){var t=jd(!1);return t=ey.bind(null,Me,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=Me,h=cn();if(Fe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),rt===null)throw Error(a(349));(Pe&127)!==0||Rp(l,i,r)}h.memoizedState=r;var d={value:r,getSnapshot:i};return h.queue=d,Gp(Dp.bind(null,l,d,t),[t]),l.flags|=2048,Or(9,{destroy:void 0},xp.bind(null,l,d,r,i),null),r},useId:function(){var t=cn(),i=rt.identifierPrefix;if(Fe){var r=Ri,l=Ci;r=(l&~(1<<32-vt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Gc++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=$S++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ld,useFormState:zp,useActionState:zp,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Pd.bind(null,Me,!0,r),r.dispatch=i,[t,i]},useMemoCache:Rd,useCacheRefresh:function(){return cn().memoizedState=nb.bind(null,Me)},useEffectEvent:function(t){var i=cn(),r={impl:t};return i.memoizedState=r,function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},zd={readContext:Kt,use:Yc,useCallback:Jp,useContext:Kt,useEffect:Md,useImperativeHandle:$p,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Zp,useReducer:Kc,useRef:Fp,useState:function(){return Kc(Xi)},useDebugValue:Vd,useDeferredValue:function(t,i){var r=St();return Wp(r,it.memoizedState,t,i)},useTransition:function(){var t=Kc(Xi)[0],i=St().memoizedState;return[typeof t=="boolean"?t:Wl(t),i]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Ld,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,i){var r=St();return Mp(r,it,t,i)},useMemoCache:Rd,useCacheRefresh:sy};zd.useEffectEvent=Qp;var cy={readContext:Kt,use:Yc,useCallback:Jp,useContext:Kt,useEffect:Md,useImperativeHandle:$p,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Zp,useReducer:Dd,useRef:Fp,useState:function(){return Dd(Xi)},useDebugValue:Vd,useDeferredValue:function(t,i){var r=St();return it===null?kd(r,t,i):Wp(r,it.memoizedState,t,i)},useTransition:function(){var t=Dd(Xi)[0],i=St().memoizedState;return[typeof t=="boolean"?t:Wl(t),i]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Ld,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,i){var r=St();return it!==null?Mp(r,it,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:sy};cy.useEffectEvent=Qp;function Bd(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qd={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=Rn(),h=Ds(l);h.payload=i,r!=null&&(h.callback=r),i=js(t,h,l),i!==null&&(yn(i,t,l),Xl(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=Rn(),h=Ds(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=js(t,h,l),i!==null&&(yn(i,t,l),Xl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Rn(),l=Ds(r);l.tag=2,i!=null&&(l.callback=i),i=js(t,l,r),i!==null&&(yn(i,t,r),Xl(i,t,r))}};function uy(t,i,r,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Bl(r,l)||!Bl(h,d):!0}function hy(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&qd.enqueueReplaceState(i,i.state,null)}function Ba(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function dy(t){Rc(t)}function fy(t){console.error(t)}function my(t){Rc(t)}function Zc(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hd(t,i,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){Zc(t,i)},r}function py(t){return t=Ds(t),t.tag=3,t}function yy(t,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){gy(i,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){gy(i,r,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function sb(t,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&wr(i,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?uu():r.alternate===null&&yt===0&&(yt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Pc?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),gf(t,l,h)),!1;case 22:return r.flags|=65536,l===Pc?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),gf(t,l,h)),!1}throw Error(a(435,r.tag))}return gf(t,l,h),uu(),!1}if(Fe)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==od&&(t=Error(a(422),{cause:l}),Fl(Ln(t,r)))):(l!==od&&(i=Error(a(423),{cause:l}),Fl(Ln(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,r),h=Hd(t.stateNode,l,h),vd(t,h),yt!==4&&(yt=2)),!1;var d=Error(a(520),{cause:l});if(d=Ln(d,r),co===null?co=[d]:co.push(d),yt!==4&&(yt=2),i===null)return!0;l=Ln(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Hd(r.stateNode,l,t),vd(r,t),!1;case 1:if(i=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=py(h),yy(h,t,r,l),vd(r,h),!1}r=r.return}while(r!==null);return!1}var Fd=Error(a(461)),jt=!1;function Xt(t,i,r,l){i.child=t===null?Ep(i,null,r,l):Pa(i,t.child,r,l)}function _y(t,i,r,l,h){r=r.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Va(i),l=wd(t,i,r,v,d,h),S=Nd(),t!==null&&!jt?(Id(t,i,h),$i(t,i,h)):(Fe&&S&&rd(i),i.flags|=1,Xt(t,i,l,h),i.child)}function vy(t,i,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!id(d)&&d.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=d,Ty(t,i,d,l,h)):(t=Oc(r.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zd(t,h)){var v=d.memoizedProps;if(r=r.compare,r=r!==null?r:Bl,r(v,l)&&t.ref===i.ref)return $i(t,i,h)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ty(t,i,r,l,h){if(t!==null){var d=t.memoizedProps;if(Bl(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,Zd(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,$i(t,i,h)}return Gd(t,i,r,l,h)}function Ey(t,i,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Sy(t,i,d,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uc(i,d!==null?d.cachePool:null),d!==null?Ap(i,d):Ed(),wp(i);else return l=i.lanes=536870912,Sy(t,i,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Uc(i,d.cachePool),Ap(i,d),Ms(),i.memoizedState=null):(t!==null&&Uc(i,null),Ed(),Ms());return Xt(t,i,h,r),i.child}function no(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Sy(t,i,r,l,h){var d=gd();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},t!==null&&Uc(i,null),Ed(),wp(i),t!==null&&wr(t,i,l,!0),i.childLanes=h,null}function Wc(t,i){return i=tu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function by(t,i,r){return Pa(i,t.child,null,r),t=Wc(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function ab(t,i,r){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Wc(i,l),i.lanes=536870912,no(null,t);if(bd(i),(t=ct)?(t=V_(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=rp(t),r.return=i,i.child=r,Yt=i,ct=null)):t=null,t===null)throw Cs(i);return i.lanes=536870912,null}return Wc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(bd(i),h)if(i.flags&256)i.flags&=-257,i=by(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(jt||wr(t,i,r,!1),h=(r&t.childLanes)!==0,jt||h){if(l=rt,l!==null&&(v=bl(l,r),v!==0&&v!==d.retryLane))throw d.retryLane=v,Da(t,v),yn(l,t,v),Fd;uu(),i=by(t,i,r)}else t=d.treeContext,ct=Hn(v.nextSibling),Yt=i,Fe=!0,Is=null,Bn=!1,t!==null&&cp(i,t),i=Wc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function eu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Gd(t,i,r,l,h){return Va(i),r=wd(t,i,r,l,void 0,h),l=Nd(),t!==null&&!jt?(Id(t,i,h),$i(t,i,h)):(Fe&&l&&rd(i),i.flags|=1,Xt(t,i,r,h),i.child)}function Ay(t,i,r,l,h,d){return Va(i),i.updateQueue=null,r=Ip(i,l,r,h),Np(t),l=Nd(),t!==null&&!jt?(Id(t,i,d),$i(t,i,d)):(Fe&&l&&rd(i),i.flags|=1,Xt(t,i,r,d),i.child)}function wy(t,i,r,l,h){if(Va(i),i.stateNode===null){var d=Er,v=r.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new r(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yd(i),v=r.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Er,d.state=i.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Bd(i,r,v,l),d.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&qd.enqueueReplaceState(d,d.state,null),Jl(i,l,d,h),$l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,j=Ba(r,S);d.props=j;var q=d.context,Z=r.contextType;v=Er,typeof Z=="object"&&Z!==null&&(v=Kt(Z));var ne=r.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==v)&&hy(i,d,l,v),xs=!1;var F=i.memoizedState;d.state=F,Jl(i,l,d,h),$l(),q=i.memoizedState,S||F!==q||xs?(typeof ne=="function"&&(Bd(i,r,ne,l),q=i.memoizedState),(j=xs||uy(i,r,j,l,F,q,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=j):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_d(t,i),v=i.memoizedProps,Z=Ba(r,v),d.props=Z,ne=i.pendingProps,F=d.context,q=r.contextType,j=Er,typeof q=="object"&&q!==null&&(j=Kt(q)),S=r.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||F!==j)&&hy(i,d,l,j),xs=!1,F=i.memoizedState,d.state=F,Jl(i,l,d,h),$l();var K=i.memoizedState;v!==ne||F!==K||xs||t!==null&&t.dependencies!==null&&Vc(t.dependencies)?(typeof S=="function"&&(Bd(i,r,S,l),K=i.memoizedState),(Z=xs||uy(i,r,Z,l,F,K,j)||t!==null&&t.dependencies!==null&&Vc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,j)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=j,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,eu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Pa(i,t.child,null,h),i.child=Pa(i,null,r,h)):Xt(t,i,r,h),i.memoizedState=d.state,t=i.child):t=$i(t,i,h),t}function Ny(t,i,r,l){return Oa(),i.flags|=256,Xt(t,i,r,l),i.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(t){return{baseLanes:t,cachePool:gp()}}function Kd(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Cn),t}function Iy(t,i,r){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Os(i):Ms(),(t=ct)?(t=V_(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=rp(t),r.return=i,i.child=r,Yt=i,ct=null)):t=null,t===null)throw Cs(i);return Df(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Ms(),h=i.mode,S=tu({mode:"hidden",children:S},h),l=ja(l,h,r,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Yd(r),l.childLanes=Kd(t,v,r),i.memoizedState=Qd,no(null,l)):(Os(i),Xd(i,S))}var j=t.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(d)i.flags&256?(Os(i),i.flags&=-257,i=$d(t,i,r)):i.memoizedState!==null?(Ms(),i.child=t.child,i.flags|=128,i=null):(Ms(),S=l.fallback,h=i.mode,l=tu({mode:"visible",children:l.children},h),S=ja(S,h,r,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Pa(i,t.child,null,r),l=i.child,l.memoizedState=Yd(r),l.childLanes=Kd(t,v,r),i.memoizedState=Qd,i=no(null,l));else if(Os(i),Df(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(a(419)),l.stack="",l.digest=v,Fl({value:l,source:null,stack:null}),i=$d(t,i,r)}else if(jt||wr(t,i,r,!1),v=(r&t.childLanes)!==0,jt||v){if(v=rt,v!==null&&(l=bl(v,r),l!==0&&l!==j.retryLane))throw j.retryLane=l,Da(t,l),yn(v,t,l),Fd;xf(S)||uu(),i=$d(t,i,r)}else xf(S)?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,ct=Hn(S.nextSibling),Yt=i,Fe=!0,Is=null,Bn=!1,t!==null&&cp(i,t),i=Xd(i,l.children),i.flags|=4096);return i}return h?(Ms(),S=l.fallback,h=i.mode,j=t.child,q=j.sibling,l=Fi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,q!==null?S=Fi(q,S):(S=ja(S,h,r,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,no(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Yd(r):(h=S.cachePool,h!==null?(j=xt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=gp(),S={baseLanes:S.baseLanes|r,cachePool:h}),l.memoizedState=S,l.childLanes=Kd(t,v,r),i.memoizedState=Qd,no(t.child,l)):(Os(i),r=t.child,t=r.sibling,r=Fi(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=r,i.memoizedState=null,r)}function Xd(t,i){return i=tu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tu(t,i){return t=An(22,t,null,i),t.lanes=0,t}function $d(t,i,r){return Pa(i,t.child,null,r),t=Xd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Cy(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hd(t.return,i,r)}function Jd(t,i,r,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=h,v.treeForkCount=d)}function Ry(t,i,r){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Et.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,ce(Et,v),Xt(t,i,l,r),l=Fe?Hl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,r,i);else if(t.tag===19)Cy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Hc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Jd(i,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Jd(i,!0,r,null,d,l);break;case"together":Jd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Us|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(wr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Fi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Fi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Zd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Vc(t)))}function rb(t,i,r){switch(i.tag){case 3:he(i,i.stateNode.containerInfo),Rs(i,xt,t.memoizedState.cache),Oa();break;case 27:case 5:Ze(i);break;case 4:he(i,i.stateNode.containerInfo);break;case 10:Rs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Iy(t,i,r):(Os(i),t=$i(t,i,r),t!==null?t.sibling:null);Os(i);break;case 19:var h=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(wr(t,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return Ry(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Et,Et.current),l)break;return null;case 22:return i.lanes=0,Ey(t,i,r,i.pendingProps);case 24:Rs(i,xt,t.memoizedState.cache)}return $i(t,i,r)}function xy(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!Zd(t,r)&&(i.flags&128)===0)return jt=!1,rb(t,i,r);jt=(t.flags&131072)!==0}else jt=!1,Fe&&(i.flags&1048576)!==0&&op(i,Hl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ua(i.elementType),i.type=t,typeof t=="function")id(t)?(l=Ba(t,l),i.tag=1,i=wy(null,i,t,l,r)):(i.tag=0,i=Gd(null,i,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ae){i.tag=11,i=_y(null,i,t,l,r);break e}else if(h===w){i.tag=14,i=vy(null,i,t,l,r);break e}}throw i=le(t)||t,Error(a(306,i,""))}}return i;case 0:return Gd(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=Ba(l,i.pendingProps),wy(t,i,l,h,r);case 3:e:{if(he(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,_d(t,i),Jl(i,l,null,r);var v=i.memoizedState;if(l=v.cache,Rs(i,xt,l),l!==d.cache&&dd(i,[xt],r,!0),$l(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(t,i,l,r);break e}else if(l!==h){h=Ln(Error(a(424)),i),Fl(h),i=Ny(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Hn(t.firstChild),Yt=i,Fe=!0,Is=null,Bn=!0,r=Ep(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Oa(),l===h){i=$i(t,i,r);break e}Xt(t,i,l,r)}i=i.child}return i;case 26:return eu(t,i),t===null?(r=B_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Fe||(r=i.type,t=i.pendingProps,l=yu(Re.current).createElement(r),l[It]=i,l[zt]=t,$t(l,r,t),Ct(l),i.stateNode=l):i.memoizedState=B_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ze(i),t===null&&Fe&&(l=i.stateNode=L_(i.type,i.pendingProps,Re.current),Yt=i,Bn=!0,h=ct,qs(i.type)?(jf=h,ct=Hn(l.firstChild)):ct=h),Xt(t,i,i.pendingProps.children,r),eu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ct)&&(l=kb(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Yt=i,ct=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Cs(i)),Ze(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,If(h,d)?l=null:v!==null&&If(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=wd(t,i,JS,null,null,r),_o._currentValue=h),eu(t,i),Xt(t,i,l,r),i.child;case 6:return t===null&&Fe&&((t=r=ct)&&(r=Ub(r,i.pendingProps,Bn),r!==null?(i.stateNode=r,Yt=i,ct=null,t=!0):t=!1),t||Cs(i)),null;case 13:return Iy(t,i,r);case 4:return he(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Pa(i,null,l,r):Xt(t,i,l,r),i.child;case 11:return _y(t,i,i.type,i.pendingProps,r);case 7:return Xt(t,i,i.pendingProps,r),i.child;case 8:return Xt(t,i,i.pendingProps.children,r),i.child;case 12:return Xt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Rs(i,i.type,l.value),Xt(t,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Va(i),h=Kt(h),l=l(h),i.flags|=1,Xt(t,i,l,r),i.child;case 14:return vy(t,i,i.type,i.pendingProps,r);case 15:return Ty(t,i,i.type,i.pendingProps,r);case 19:return Ry(t,i,r);case 31:return ab(t,i,r);case 22:return Ey(t,i,r,i.pendingProps);case 24:return Va(i),l=Kt(xt),t===null?(h=gd(),h===null&&(h=rt,d=fd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),i.memoizedState={parent:l,cache:h},yd(i),Rs(i,xt,h)):((t.lanes&r)!==0&&(_d(t,i),Jl(i,null,null,r),$l()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rs(i,xt,l)):(l=d.cache,Rs(i,xt,l),l!==h.cache&&dd(i,[xt],r,!0))),Xt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ji(t){t.flags|=4}function Wd(t,i,r,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i_())t.flags|=8192;else throw La=Pc,pd}else t.flags&=-16777217}function Dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i))if(i_())t.flags|=8192;else throw La=Pc,pd}function nu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?oc():536870912,t.lanes|=i,Ur|=i)}function io(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function lb(t,i,r){var l=i.pendingProps;switch(ld(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(xt),ye(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ar(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cd())),ut(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(ut(i),Dy(i,d)):(ut(i),Wd(i,h,null,l,r))):d?d!==t.memoizedState?(Ji(i),ut(i),Dy(i,d)):(ut(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),ut(i),Wd(i,h,t,l,r)),null;case 27:if(de(i),r=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ut(i),null}t=me.current,Ar(i)?up(i):(t=L_(h,l,r),i.stateNode=t,Ji(i))}return ut(i),null;case 5:if(de(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ut(i),null}if(d=me.current,Ar(i))up(i);else{var v=yu(Re.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[It]=i,d[zt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch($t(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return ut(i),Wd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Re.current,Ar(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||I_(t.nodeValue,r)),t||Cs(i,!0)}else t=yu(t).createTextNode(l),t[It]=i,i.stateNode=t}return ut(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ar(i),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=i}else Oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),t=!1}else r=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return ut(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ar(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=i}else Oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),nu(i,i.updateQueue),ut(i),null);case 4:return ye(),t===null&&Sf(i.stateNode.containerInfo),ut(i),null;case 10:return Yi(i.type),ut(i),null;case 19:if(ee(Et),l=i.memoizedState,l===null)return ut(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)io(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Hc(t),d!==null){for(i.flags|=128,io(l,!1),t=d.updateQueue,i.updateQueue=t,nu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)ap(r,t),r=r.sibling;return ce(Et,Et.current&1|2),Fe&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&ln()>lu&&(i.flags|=128,h=!0,io(l,!1),i.lanes=4194304)}else{if(!h)if(t=Hc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,nu(i,t),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(i),null}else 2*ln()-l.renderingStartTime>lu&&r!==536870912&&(i.flags|=128,h=!0,io(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,r=Et.current,ce(Et,h?r&1|2:r&1),Fe&&Gi(i,l.treeForkCount),t):(ut(i),null);case 22:case 23:return Nn(i),Sd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),r=i.updateQueue,r!==null&&nu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&ee(ka),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Yi(xt),ut(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ob(t,i){switch(ld(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(xt),ye(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return de(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(a(340));Oa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Oa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(Et),null;case 4:return ye(),null;case 10:return Yi(i.type),null;case 22:case 23:return Nn(i),Sd(),t!==null&&ee(ka),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(xt),null;case 25:return null;default:return null}}function jy(t,i){switch(ld(i),i.tag){case 3:Yi(xt),ye();break;case 26:case 27:case 5:de(i);break;case 4:ye();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:ee(Et);break;case 10:Yi(i.type);break;case 22:case 23:Nn(i),Sd(),t!==null&&ee(ka);break;case 24:Yi(xt)}}function so(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,v=r.inst;l=d(),v.destroy=l}r=r.next}while(r!==h)}}catch(S){tt(i,i.return,S)}}function Vs(t,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var j=r,q=S;try{q()}catch(Z){tt(h,j,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(i,i.return,Z)}}function Oy(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{bp(i,r)}catch(l){tt(t,t.return,l)}}}function My(t,i,r){r.props=Ba(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){tt(t,i,l)}}function ao(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){tt(t,i,h)}}function xi(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,i,h)}else r.current=null}function Vy(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function ef(t,i,r){try{var l=t.stateNode;xb(l,t.type,r,i),l[zt]=i}catch(h){tt(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&qs(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(nf(t,i,r),t=t.sibling;t!==null;)nf(t,i,r),t=t.sibling}function iu(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&qs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(iu(t,i,r),t=t.sibling;t!==null;)iu(t,i,r),t=t.sibling}function Uy(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);$t(i,l,r),i[It]=t,i[zt]=r}catch(d){tt(t,t.return,d)}}var Zi=!1,Ot=!1,sf=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,qt=null;function cb(t,i){if(t=t.containerInfo,wf=Au,t=$g(t),$h(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var v=0,S=-1,j=-1,q=0,Z=0,ne=t,F=null;t:for(;;){for(var K;ne!==r||h!==0&&ne.nodeType!==3||(S=v+h),ne!==d||l!==0&&ne.nodeType!==3||(j=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(K=ne.firstChild)!==null;)F=ne,ne=K;for(;;){if(ne===t)break t;if(F===r&&++q===h&&(S=v),F===d&&++Z===l&&(j=v),(K=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=K}r=S===-1||j===-1?null:{start:S,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nf={focusedElem:t,selectionRange:r},Au=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=i,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var Te=Ba(r.type,h);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){tt(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function Py(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:es(t,r),l&4&&so(5,r);break;case 1:if(es(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(v){tt(r,r.return,v)}else{var h=Ba(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(r,r.return,v)}}l&64&&Oy(r),l&512&&ao(r,r.return);break;case 3:if(es(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{bp(t,i)}catch(v){tt(r,r.return,v)}}break;case 27:i===null&&l&4&&Uy(r);case 26:case 5:es(t,r),i===null&&l&4&&Vy(r),l&512&&ao(r,r.return);break;case 12:es(t,r);break;case 31:es(t,r),l&4&&qy(t,r);break;case 13:es(t,r),l&4&&Hy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=_b.bind(null,r),Lb(t,r))));break;case 22:if(l=r.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Ot,h=Zi;var d=Ot;Zi=l,(Ot=i)&&!d?ts(t,r,(r.subtreeFlags&8772)!==0):es(t,r),Zi=h,Ot=d}break;case 30:break;default:es(t,r)}}function zy(t){var i=t.alternate;i!==null&&(t.alternate=null,zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,fn=!1;function Wi(t,i,r){for(r=r.child;r!==null;)By(t,i,r),r=r.sibling}function By(t,i,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Kn,r)}catch{}switch(r.tag){case 26:Ot||xi(r,i),Wi(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ot||xi(r,i);var l=mt,h=fn;qs(r.type)&&(mt=r.stateNode,fn=!1),Wi(t,i,r),go(r.stateNode),mt=l,fn=h;break;case 5:Ot||xi(r,i);case 6:if(l=mt,h=fn,mt=null,Wi(t,i,r),mt=l,fn=h,mt!==null)if(fn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(r.stateNode)}catch(d){tt(r,i,d)}else try{mt.removeChild(r.stateNode)}catch(d){tt(r,i,d)}break;case 18:mt!==null&&(fn?(t=mt,O_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Gr(t)):O_(mt,r.stateNode));break;case 4:l=mt,h=fn,mt=r.stateNode.containerInfo,fn=!0,Wi(t,i,r),mt=l,fn=h;break;case 0:case 11:case 14:case 15:Vs(2,r,i),Ot||Vs(4,r,i),Wi(t,i,r);break;case 1:Ot||(xi(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&My(r,i,l)),Wi(t,i,r);break;case 21:Wi(t,i,r);break;case 22:Ot=(l=Ot)||r.memoizedState!==null,Wi(t,i,r),Ot=l;break;default:Wi(t,i,r)}}function qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Gr(t)}catch(r){tt(i,i.return,r)}}}function Hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gr(t)}catch(r){tt(i,i.return,r)}}function ub(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ly),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ly),i;default:throw Error(a(435,t.tag))}}function su(t,i){var r=ub(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var h=vb.bind(null,t,l);l.then(h,h)}})}function mn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(qs(S.type)){mt=S.stateNode,fn=!1;break e}break;case 5:mt=S.stateNode,fn=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(mt===null)throw Error(a(160));By(d,v,h),mt=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Fy(i,t),i=i.sibling}var si=null;function Fy(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),gn(t),l&4&&(Vs(3,t,t.return),so(3,t),Vs(5,t,t.return));break;case 1:mn(i,t),gn(t),l&512&&(Ot||r===null||xi(r,r.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=si;if(mn(i,t),gn(t),l&512&&(Ot||r===null||xi(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,r),d[It]=t,Ct(d),l=d;break e;case"link":var v=F_("link","href",h).get(l+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),$t(d,l,r),h.head.appendChild(d);break;case"meta":if(v=F_("meta","content",h).get(l+(r.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}d=h.createElement(l),$t(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[It]=t,Ct(d),l=d}t.stateNode=l}else G_(h,t.type,t.stateNode);else t.stateNode=H_(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?G_(h,t.type,t.stateNode):H_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ef(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(i,t),gn(t),l&512&&(Ot||r===null||xi(r,r.return)),r!==null&&l&4&&ef(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(i,t),gn(t),l&512&&(Ot||r===null||xi(r,r.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(Te){tt(t,t.return,Te)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ef(t,h,r!==null?r.memoizedProps:h)),l&1024&&(sf=!0);break;case 6:if(mn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(Te){tt(t,t.return,Te)}}break;case 3:if(Tu=null,h=si,si=_u(i.containerInfo),mn(i,t),si=h,gn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Gr(i.containerInfo)}catch(Te){tt(t,t.return,Te)}sf&&(sf=!1,Gy(t));break;case 4:l=si,si=_u(t.stateNode.containerInfo),mn(i,t),gn(t),si=l;break;case 12:mn(i,t),gn(t);break;case 31:mn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 13:mn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ru=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 22:h=t.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,q=Zi,Z=Ot;if(Zi=q||h,Ot=Z||j,mn(i,t),Ot=Z,Zi=q,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||j||Zi||Ot||qa(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){j=r=i;try{if(d=j.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=j.stateNode;var ne=j.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Te){tt(j,j.return,Te)}}}else if(i.tag===6){if(r===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(Te){tt(j,j.return,Te)}}}else if(i.tag===18){if(r===null){j=i;try{var K=j.stateNode;h?M_(K,!0):M_(j.stateNode,!1)}catch(Te){tt(j,j.return,Te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,su(t,r))));break;case 19:mn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 30:break;case 21:break;default:mn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(ky(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=tf(t);iu(t,d,h);break;case 5:var v=r.stateNode;r.flags&32&&(dn(v,""),r.flags&=-33);var S=tf(t);iu(t,S,v);break;case 3:case 4:var j=r.stateNode.containerInfo,q=tf(t);nf(t,q,j);break;default:throw Error(a(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function es(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(t,i.alternate,i),i=i.sibling}function qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vs(4,i,i.return),qa(i);break;case 1:xi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&My(i,i.return,r),qa(i);break;case 27:go(i.stateNode);case 26:case 5:xi(i,i.return),qa(i);break;case 22:i.memoizedState===null&&qa(i);break;case 30:qa(i);break;default:qa(i)}t=t.sibling}}function ts(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ts(h,d,r),so(4,d);break;case 1:if(ts(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){tt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Sp(j[h],S)}catch(q){tt(l,l.return,q)}}r&&v&64&&Oy(d),ao(d,d.return);break;case 27:Uy(d);case 26:case 5:ts(h,d,r),r&&l===null&&v&4&&Vy(d),ao(d,d.return);break;case 12:ts(h,d,r);break;case 31:ts(h,d,r),r&&v&4&&qy(h,d);break;case 13:ts(h,d,r),r&&v&4&&Hy(h,d);break;case 22:d.memoizedState===null&&ts(h,d,r),ao(d,d.return);break;case 30:break;default:ts(h,d,r)}i=i.sibling}}function af(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Gl(r))}function rf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Gl(t))}function ai(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(t,i,r,l),i=i.sibling}function Qy(t,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,r,l),h&2048&&so(9,i);break;case 1:ai(t,i,r,l);break;case 3:ai(t,i,r,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Gl(t)));break;case 12:if(h&2048){ai(t,i,r,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){tt(i,i.return,j)}}else ai(t,i,r,l);break;case 31:ai(t,i,r,l);break;case 13:ai(t,i,r,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,r,l):ro(t,i):d._visibility&2?ai(t,i,r,l):(d._visibility|=2,Mr(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&af(v,i);break;case 24:ai(t,i,r,l),h&2048&&rf(i.alternate,i);break;default:ai(t,i,r,l)}}function Mr(t,i,r,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=r,j=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Mr(d,v,S,j,h),so(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Mr(d,v,S,j,h):ro(d,v):(Z._visibility|=2,Mr(d,v,S,j,h)),h&&q&2048&&af(v.alternate,v);break;case 24:Mr(d,v,S,j,h),h&&q&2048&&rf(v.alternate,v);break;default:Mr(d,v,S,j,h)}i=i.sibling}}function ro(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,h=l.flags;switch(l.tag){case 22:ro(r,l),h&2048&&af(l.alternate,l);break;case 24:ro(r,l),h&2048&&rf(l.alternate,l);break;default:ro(r,l)}i=i.sibling}}var lo=8192;function Vr(t,i,r){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)Yy(t,i,r),t=t.sibling}function Yy(t,i,r){switch(t.tag){case 26:Vr(t,i,r),t.flags&lo&&t.memoizedState!==null&&$b(r,si,t.memoizedState,t.memoizedProps);break;case 5:Vr(t,i,r);break;case 3:case 4:var l=si;si=_u(t.stateNode.containerInfo),Vr(t,i,r),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,Vr(t,i,r),lo=l):Vr(t,i,r));break;default:Vr(t,i,r)}}function Ky(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function oo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];qt=l,$y(l,t)}Ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,au(t)):oo(t);break;default:oo(t)}}function au(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];qt=l,$y(l,t)}Ky(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vs(8,i,i.return),au(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,au(i));break;default:au(i)}t=t.sibling}}function $y(t,i){for(;qt!==null;){var r=qt;switch(r.tag){case 0:case 11:case 15:Vs(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,qt=l;else e:for(r=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(zy(l),l===r){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var hb={getCacheForType:function(t){var i=Kt(xt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Kt(xt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Ue=null,Pe=0,et=0,In=null,ks=!1,kr=!1,lf=!1,ns=0,yt=0,Us=0,Ha=0,of=0,Cn=0,Ur=0,co=null,pn=null,cf=!1,ru=0,Jy=0,lu=1/0,ou=null,Ls=null,Lt=0,Ps=null,Lr=null,is=0,uf=0,hf=null,Zy=null,uo=0,df=null;function Rn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:Q.T!==null?_f():cc()}function Wy(){if(Cn===0)if((Pe&536870912)===0||Fe){var t=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Cn=t}else Cn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Cn}function yn(t,i,r){(t===rt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Pr(t,0),zs(t,Pe,Cn,!1)),ya(t,r),(($e&2)===0||t!==rt)&&(t===rt&&(($e&2)===0&&(Ha|=r),yt===4&&zs(t,Pe,Cn,!1)),Di(t))}function e_(t,i,r){if(($e&6)!==0)throw Error(a(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),h=l?gb(t,i):mf(t,i,!0),d=l;do{if(h===0){kr&&!l&&zs(t,i,0,!1);break}else{if(r=t.current.alternate,d&&!fb(r)){h=mf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=co;var j=S.current.memoizedState.isDehydrated;if(j&&(Pr(S,v).flags|=256),v=mf(S,v,!1),v!==2){if(lf&&!j){S.errorRecoveryDisabledLanes|=d,Ha|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Pr(t,0),zs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:zs(l,i,Cn,!ks);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=ru+300-ln(),10<h)){if(zs(l,i,Cn,!ks),fi(l,0,!0)!==0)break e;is=i,l.timeoutHandle=D_(t_.bind(null,l,r,pn,ou,cf,i,Cn,Ha,Ur,ks,d,"Throttled",-0,0),h);break e}t_(l,r,pn,ou,cf,i,Cn,Ha,Ur,ks,d,null,-0,0)}}break}while(!0);Di(t)}function t_(t,i,r,l,h,d,v,S,j,q,Z,ne,F,K){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Yy(i,d,ne);var Te=(d&62914560)===d?ru-ln():(d&4194048)===d?Jy-ln():0;if(Te=Jb(ne,Te),Te!==null){is=d,t.cancelPendingCommit=Te(c_.bind(null,t,i,d,r,l,h,v,S,j,Z,ne,null,F,K)),zs(t,d,v,!q);return}}c_(t,i,d,r,l,h,v,S,j)}function fb(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zs(t,i,r,l){i&=~of,i&=~Ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-vt(h),v=1<<d;l[d]=-1,h&=~v}r!==0&&_a(t,r,i)}function cu(){return($e&6)===0?(ho(0),!1):!0}function ff(){if(Ue!==null){if(et===0)var t=Ue.return;else t=Ue,Qi=Ma=null,Cd(t),Rr=null,Yl=0,t=Ue;for(;t!==null;)jy(t.alternate,t),t=t.return;Ue=null}}function Pr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Ob(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),is=0,ff(),rt=t,Ue=r=Fi(t.current,null),Pe=i,et=0,In=null,ks=!1,kr=Xn(t,i),lf=!1,Ur=Cn=of=Ha=Us=yt=0,pn=co=null,cf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-vt(l),d=1<<h;i|=t[h],l&=~d}return ns=i,xc(),r}function n_(t,i){Me=null,Q.H=to,i===Cr||i===Lc?(i=_p(),et=3):i===pd?(i=_p(),et=4):et=i===Fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Ue===null&&(yt=1,Zc(t,Ln(i,t.current)))}function i_(){var t=wn.current;return t===null?!0:(Pe&4194048)===Pe?qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===qn:!1}function s_(){var t=Q.H;return Q.H=to,t===null?to:t}function a_(){var t=Q.A;return Q.A=hb,t}function uu(){yt=4,ks||(Pe&4194048)!==Pe&&wn.current!==null||(kr=!0),(Us&134217727)===0&&(Ha&134217727)===0||rt===null||zs(rt,Pe,Cn,!1)}function mf(t,i,r){var l=$e;$e|=2;var h=s_(),d=a_();(rt!==t||Pe!==i)&&(ou=null,Pr(t,i)),i=!1;var v=yt;e:do try{if(et!==0&&Ue!==null){var S=Ue,j=In;switch(et){case 8:ff(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var q=et;if(et=0,In=null,zr(t,S,j,q),r&&kr){v=0;break e}break;default:q=et,et=0,In=null,zr(t,S,j,q)}}mb(),v=yt;break}catch(Z){n_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Qi=Ma=null,$e=l,Q.H=h,Q.A=d,Ue===null&&(rt=null,Pe=0,xc()),v}function mb(){for(;Ue!==null;)r_(Ue)}function gb(t,i){var r=$e;$e|=2;var l=s_(),h=a_();rt!==t||Pe!==i?(ou=null,lu=ln()+500,Pr(t,i)):kr=Xn(t,i);e:do try{if(et!==0&&Ue!==null){i=Ue;var d=In;t:switch(et){case 1:et=0,In=null,zr(t,i,d,1);break;case 2:case 9:if(pp(d)){et=0,In=null,l_(i);break}i=function(){et!==2&&et!==9||rt!==t||(et=7),Di(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:pp(d)?(et=0,In=null,l_(i)):(et=0,In=null,zr(t,i,d,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var S=Ue;if(v?Q_(v):S.stateNode.complete){et=0,In=null;var j=S.sibling;if(j!==null)Ue=j;else{var q=S.return;q!==null?(Ue=q,hu(q)):Ue=null}break t}}et=0,In=null,zr(t,i,d,5);break;case 6:et=0,In=null,zr(t,i,d,6);break;case 8:ff(),yt=6;break e;default:throw Error(a(462))}}pb();break}catch(Z){n_(t,Z)}while(!0);return Qi=Ma=null,Q.H=l,Q.A=h,$e=r,Ue!==null?0:(rt=null,Pe=0,xc(),yt)}function pb(){for(;Ue!==null&&!Hh();)r_(Ue)}function r_(t){var i=xy(t.alternate,t,ns);t.memoizedProps=t.pendingProps,i===null?hu(t):Ue=i}function l_(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Ay(r,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Ay(r,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Cd(i);default:jy(r,i),i=Ue=ap(i,ns),i=xy(r,i,ns)}t.memoizedProps=t.pendingProps,i===null?hu(t):Ue=i}function zr(t,i,r,l){Qi=Ma=null,Cd(i),Rr=null,Yl=0;var h=i.return;try{if(sb(t,h,i,r,Pe)){yt=1,Zc(t,Ln(r,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;yt=1,Zc(t,Ln(r,t.current)),Ue=null;return}i.flags&32768?(Fe||l===1?t=!0:kr||(Pe&536870912)!==0?t=!1:(ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o_(i,t)):hu(i)}function hu(t){var i=t;do{if((i.flags&32768)!==0){o_(i,ks);return}t=i.return;var r=lb(i.alternate,i,ns);if(r!==null){Ue=r;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);yt===0&&(yt=5)}function o_(t,i){do{var r=ob(t.alternate,t);if(r!==null){r.flags&=32767,Ue=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=r}while(t!==null);yt=6,Ue=null}function c_(t,i,r,l,h,d,v,S,j){t.cancelPendingCommit=null;do du();while(Lt!==0);if(($e&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=td,Qh(t,r,d,v,S,j),t===rt&&(Ue=rt=null,Pe=0),Lr=i,Ps=t,is=r,uf=d,hf=h,Zy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tb(ps,function(){return m_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=re.p,re.p=2,v=$e,$e|=4;try{cb(t,i,r)}finally{$e=v,re.p=h,Q.T=l}}Lt=1,u_(),h_(),d_()}}function u_(){if(Lt===1){Lt=0;var t=Ps,i=Lr,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=re.p;re.p=2;var h=$e;$e|=4;try{Fy(i,t);var d=Nf,v=$g(t.containerInfo),S=d.focusedElem,j=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Xg(S.ownerDocument.documentElement,S)){if(j!==null&&$h(S)){var q=j.start,Z=j.end;if(Z===void 0&&(Z=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var K=F.getSelection(),Te=S.textContent.length,we=Math.min(j.start,Te),at=j.end===void 0?we:Math.min(j.end,Te);!K.extend&&we>at&&(v=at,at=we,we=v);var L=Kg(S,we),M=Kg(S,at);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=ne.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),we>at?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(ne=[],K=S;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var W=ne[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Au=!!wf,Nf=wf=null}finally{$e=h,re.p=l,Q.T=r}}t.current=i,Lt=2}}function h_(){if(Lt===2){Lt=0;var t=Ps,i=Lr,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=re.p;re.p=2;var h=$e;$e|=4;try{Py(t,i.alternate,i)}finally{$e=h,re.p=l,Q.T=r}}Lt=3}}function d_(){if(Lt===4||Lt===3){Lt=0,nc();var t=Ps,i=Lr,r=is,l=Zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Lr=Ps=null,f_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),zi(r),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=re.p,re.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,re.p=h}}(is&3)!==0&&du(),Di(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===df?uo++:(uo=0,df=t):uo=0,ho(0)}}function f_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Gl(i)))}function du(){return u_(),h_(),d_(),m_()}function m_(){if(Lt!==5)return!1;var t=Ps,i=uf;uf=0;var r=zi(is),l=Q.T,h=re.p;try{re.p=32>r?32:r,Q.T=null,r=hf,hf=null;var d=Ps,v=is;if(Lt=0,Lr=Ps=null,is=0,($e&6)!==0)throw Error(a(331));var S=$e;if($e|=4,Xy(d.current),Qy(d,d.current,v,r),$e=S,ho(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{re.p=h,Q.T=l,f_(t,i)}}function g_(t,i,r){i=Ln(r,i),i=Hd(t.stateNode,i,2),t=js(t,i,2),t!==null&&(ya(t,2),Di(t))}function tt(t,i,r){if(t.tag===3)g_(t,t,r);else for(;i!==null;){if(i.tag===3){g_(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=Ln(r,t),r=py(2),l=js(i,r,2),l!==null&&(yy(r,l,i,t),ya(l,2),Di(l));break}}i=i.return}}function gf(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new db;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(lf=!0,h.add(r),t=yb.bind(null,t,i,r),i.then(t,t))}function yb(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,rt===t&&(Pe&r)===r&&(yt===4||yt===3&&(Pe&62914560)===Pe&&300>ln()-ru?($e&2)===0&&Pr(t,0):of|=r,Ur===Pe&&(Ur=0)),Di(t)}function p_(t,i){i===0&&(i=oc()),t=Da(t,i),t!==null&&(ya(t,i),Di(t))}function _b(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),p_(t,r)}function vb(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),p_(t,r)}function Tb(t,i){return Ut(t,i)}var fu=null,Br=null,pf=!1,mu=!1,yf=!1,Bs=0;function Di(t){t!==Br&&t.next===null&&(Br===null?fu=Br=t:Br=Br.next=t),mu=!0,pf||(pf=!0,Sb())}function ho(t,i){if(!yf&&mu){yf=!0;do for(var r=!1,l=fu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,T_(l,d))}else d=Pe,d=fi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(r=!0,T_(l,d));l=l.next}while(r);yf=!1}}function Eb(){y_()}function y_(){mu=pf=!1;var t=0;Bs!==0&&jb()&&(t=Bs);for(var i=ln(),r=null,l=fu;l!==null;){var h=l.next,d=__(l,i);d===0?(l.next=null,r===null?fu=h:r.next=h,h===null&&(Br=r)):(r=l,(t!==0||(d&3)!==0)&&(mu=!0)),l=h}Lt!==0&&Lt!==5||ho(t),Bs!==0&&(Bs=0)}function __(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-vt(d),S=1<<v,j=h[v];j===-1?((S&r)===0||(S&l)!==0)&&(h[v]=Gh(S,i)):j<=i&&(t.expiredLanes|=S),d&=~S}if(i=rt,r=Pe,r=fi(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&gs(l),zi(r)){case 2:case 8:r=El;break;case 32:r=ps;break;case 268435456:r=ic;break;default:r=ps}return l=v_.bind(null,t),r=Ut(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&gs(l),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(du()&&t.callbackNode!==r)return null;var l=Pe;return l=fi(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e_(t,l,i),__(t,ln()),t.callbackNode!=null&&t.callbackNode===r?v_.bind(null,t):null)}function T_(t,i){if(du())return null;e_(t,i,!0)}function Sb(){Mb(function(){($e&6)!==0?Ut(Tl,Eb):y_()})}function _f(){if(Bs===0){var t=Nr;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Bs=t}return Bs}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hr(""+t)}function S_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function bb(t,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var d=E_((h[zt]||null).action),v=l.submitter;v&&(i=(i=v[zt]||null)?E_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Ai("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var j=v?S_(h,v):new FormData(h);Ud(r,{pending:!0,data:j,method:h.method,action:d},null,j)}}else typeof d=="function"&&(S.preventDefault(),j=v?S_(h,v):new FormData(h),Ud(r,{pending:!0,data:j,method:h.method,action:d},d,j))},currentTarget:h}]})}}for(var vf=0;vf<ed.length;vf++){var Tf=ed[vf],Ab=Tf.toLowerCase(),wb=Tf[0].toUpperCase()+Tf.slice(1);ii(Ab,"on"+wb)}ii(Wg,"onAnimationEnd"),ii(ep,"onAnimationIteration"),ii(tp,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(BS,"onTransitionRun"),ii(qS,"onTransitionStart"),ii(HS,"onTransitionCancel"),ii(np,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function b_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],j=S.instance,q=S.currentTarget;if(S=S.listener,j!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(Z){Rc(Z)}h.currentTarget=null,d=j}else for(v=0;v<l.length;v++){if(S=l[v],j=S.instance,q=S.currentTarget,S=S.listener,j!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(Z){Rc(Z)}h.currentTarget=null,d=j}}}}function Le(t,i){var r=i[rr];r===void 0&&(r=i[rr]=new Set);var l=t+"__bubble";r.has(l)||(A_(i,t,2,!1),r.add(l))}function Ef(t,i,r){var l=0;i&&(l|=4),A_(r,t,l,i)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[gu]){t[gu]=!0,Al.forEach(function(r){r!=="selectionchange"&&(Nb.has(r)||Ef(r,!1,t),Ef(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[gu]||(i[gu]=!0,Ef("selectionchange",!1,i))}}function A_(t,i,r,l){switch(W_(i)){case 2:var h=eA;break;case 8:h=tA;break;default:h=Uf}r=h.bind(null,i,r,t),h=void 0,!ba||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function bf(t,i,r,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=yi(S),v===null)return;if(j=v.tag,j===5||j===6||j===26||j===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ss(function(){var q=d,Z=Mn(r),ne=[];e:{var F=ip.get(t);if(F!==void 0){var K=Ai,Te=t;switch(t){case"keypress":if(wa(r)===0)break e;case"keydown":case"keyup":K=Nc;break;case"focusin":Te="focus",K=Ia;break;case"focusout":Te="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case Wg:case ep:case tp:K=vc;break;case np:K=A;break;case"scroll":case"scrollend":K=kl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Hi;break;case"toggle":case"beforetoggle":K=Oe}var we=(i&4)!==0,at=!we&&(t==="scroll"||t==="scrollend"),L=we?F!==null?F+"Capture":null:F;we=[];for(var M=q,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=Wn(M,L),W!=null&&we.push(mo(M,W,B))),at)break;M=M.return}0<we.length&&(F=new K(F,Te,null,r,Z),ne.push({event:F,listeners:we}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&r!==Ol&&(Te=r.relatedTarget||r.fromElement)&&(yi(Te)||Te[gi]))break e;if((K||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,K?(Te=r.relatedTarget||r.toElement,K=q,Te=Te?yi(Te):null,Te!==null&&(at=c(Te),we=Te.tag,Te!==at||we!==5&&we!==27&&we!==6)&&(Te=null)):(K=null,Te=q),K!==Te)){if(we=Ul,W="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(we=Hi,W="onPointerLeave",L="onPointerEnter",M="pointer"),at=K==null?F:En(K),B=Te==null?F:En(Te),F=new we(W,M+"leave",K,r,Z),F.target=at,F.relatedTarget=B,W=null,yi(Z)===q&&(we=new we(L,M+"enter",Te,r,Z),we.target=B,we.relatedTarget=at,W=we),at=W,K&&Te)t:{for(we=Ib,L=K,M=Te,B=0,W=L;W;W=we(W))B++;W=0;for(var be=M;be;be=we(be))W++;for(;0<B-W;)L=we(L),B--;for(;0<W-B;)M=we(M),W--;for(;B--;){if(L===M||M!==null&&L===M.alternate){we=L;break t}L=we(L),M=we(M)}we=null}else we=null;K!==null&&w_(ne,F,K,we,!1),Te!==null&&at!==null&&w_(ne,at,Te,we,!0)}}e:{if(F=q?En(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Ye=qg;else if(zg(F))if(Hg)Ye=LS;else{Ye=kS;var Ee=VS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ur(q.elementType)&&(Ye=qg):Ye=US;if(Ye&&(Ye=Ye(t,q))){Bg(ne,Ye,r,Z);break e}Ee&&Ee(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&xl(F,"number",F.value)}switch(Ee=q?En(q):window,t){case"focusin":(zg(Ee)||Ee.contentEditable==="true")&&(_r=Ee,Jh=q,ql=null);break;case"focusout":ql=Jh=_r=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Jg(ne,r,Z);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Jg(ne,r,Z)}var Ve;if(Xe)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else yr?Ca(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Ii&&r.locale!=="ko"&&(yr||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&yr&&(Ve=Vl()):(bi=Z,Ml="value"in bi?bi.value:bi.textContent,yr=!0)),Ee=pu(q,ze),0<Ee.length&&(ze=new Ni(ze,t,null,r,Z),ne.push({event:ze,listeners:Ee}),Ve?ze.data=Ve:(Ve=pr(r),Ve!==null&&(ze.data=Ve)))),(Ve=kn?DS(t,r):jS(t,r))&&(ze=pu(q,"onBeforeInput"),0<ze.length&&(Ee=new Ni("onBeforeInput","beforeinput",null,r,Z),ne.push({event:Ee,listeners:ze}),Ee.data=Ve)),bb(ne,t,q,r,Z)}b_(ne,i)})}function mo(t,i,r){return{instance:t,listener:i,currentTarget:r}}function pu(t,i){for(var r=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,r),h!=null&&l.unshift(mo(t,h,d)),h=Wn(t,i),h!=null&&l.push(mo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w_(t,i,r,l,h){for(var d=i._reactName,v=[];r!==null&&r!==l;){var S=r,j=S.alternate,q=S.stateNode;if(S=S.tag,j!==null&&j===l)break;S!==5&&S!==26&&S!==27||q===null||(j=q,h?(q=Wn(r,d),q!=null&&v.unshift(mo(r,q,j))):h||(q=Wn(r,d),q!=null&&v.push(mo(r,q,j)))),r=r.return}v.length!==0&&t.push({event:i,listeners:v})}var Cb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(Cb,`
`).replace(Rb,"")}function I_(t,i){return i=N_(i),N_(t)===i}function st(t,i,r,l,h,d){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,r,l);break;case"style":jl(t,l,d);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(i!=="input"&&st(t,i,"name",h.name,h,null),st(t,i,"formEncType",h.formEncType,h,null),st(t,i,"formMethod",h.formMethod,h,null),st(t,i,"formTarget",h.formTarget,h,null)):(st(t,i,"encType",h.encType,h,null),st(t,i,"method",h.method,h,null),st(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=hr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=hr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),or(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pc.get(r)||r,or(t,r,l))}}function Af(t,i,r,l,h,d){switch(r){case"style":jl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),d=t[zt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):or(t,r,l)}}}function $t(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var v=r[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:st(t,i,d,v,r,null)}}h&&st(t,i,"srcSet",r.srcSet,r,null),l&&st(t,i,"src",r.src,r,null);return;case"input":Le("invalid",t);var S=d=v=h=null,j=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":j=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:st(t,i,l,Z,r,null)}}fc(t,d,S,j,q,v,h,!1);return;case"select":Le("invalid",t),l=v=d=null;for(h in r)if(r.hasOwnProperty(h)&&(S=r[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:st(t,i,h,S,r,null)}i=d,r=v,t.multiple=!!l,i!=null?_s(t,!!l,i,!1):r!=null&&_s(t,!!l,r,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:st(t,i,v,S,r,null)}vs(t,l,h,d);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,i,j,l,r,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)Le(fo[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:st(t,i,q,l,r,null)}return;default:if(ur(i)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&Af(t,i,Z,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&st(t,i,S,l,r,null))}function xb(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,j=null,q=null,Z=null;for(K in r){var ne=r[K];if(r.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ne;default:l.hasOwnProperty(K)||st(t,i,K,null,l,ne)}}for(var F in l){var K=l[F];if(ne=r[F],l.hasOwnProperty(F)&&(K!=null||ne!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":Z=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==ne&&st(t,i,F,K,l,ne)}}cr(t,v,S,j,q,Z,d,h);return;case"select":K=v=S=F=null;for(d in r)if(j=r[d],r.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":K=j;default:l.hasOwnProperty(d)||st(t,i,d,null,l,j)}for(h in l)if(d=l[h],j=r[h],l.hasOwnProperty(h)&&(d!=null||j!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==j&&st(t,i,h,d,l,j)}i=S,r=v,l=K,F!=null?_s(t,!!r,F,!1):!!l!=!!r&&(i!=null?_s(t,!!r,i,!0):_s(t,!!r,r?[]:"",!1));return;case"textarea":K=F=null;for(S in r)if(h=r[S],r.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=r[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&st(t,i,v,h,l,d)}mc(t,F,K);return;case"option":for(var Te in r)if(F=r[Te],r.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:st(t,i,Te,null,l,F)}for(j in l)if(F=l[j],K=r[j],l.hasOwnProperty(j)&&F!==K&&(F!=null||K!=null))switch(j){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:st(t,i,j,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)F=r[we],r.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we)&&st(t,i,we,null,l,F);for(q in l)if(F=l[q],K=r[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:st(t,i,q,F,l,K)}return;default:if(ur(i)){for(var at in r)F=r[at],r.hasOwnProperty(at)&&F!==void 0&&!l.hasOwnProperty(at)&&Af(t,i,at,void 0,l,F);for(Z in l)F=l[Z],K=r[Z],!l.hasOwnProperty(Z)||F===K||F===void 0&&K===void 0||Af(t,i,Z,F,l,K);return}}for(var L in r)F=r[L],r.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&st(t,i,L,null,l,F);for(ne in l)F=l[ne],K=r[ne],!l.hasOwnProperty(ne)||F===K||F==null&&K==null||st(t,i,ne,F,l,K)}function C_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&C_(v)){for(v=0,S=h.responseEnd,l+=1;l<r.length;l++){var j=r[l],q=j.startTime;if(q>S)break;var Z=j.transferSize,ne=j.initiatorType;Z&&C_(ne)&&(j=j.responseEnd,v+=Z*(j<S?1:(S-q)/(j-q)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wf=null,Nf=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function If(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cf=null;function jb(){var t=window.event;return t&&t.type==="popstate"?t===Cf?!1:(Cf=t,!0):(Cf=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(Vb)}:D_;function Vb(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function O_(t,i){var r=i,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Gr(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")go(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,go(r);for(var d=r.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=v}}else r==="body"&&go(t.ownerDocument.body);r=h}while(r);Gr(i)}function M_(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Rf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rf(r),lr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kb(t,i,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Ub(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function V_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function xf(t){return t.data==="$?"||t.data==="$~"}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lb(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var jf=null;function k_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Hn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function L_(t,i,r){switch(i=yu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function go(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);lr(t)}var Fn=new Map,P_=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=re.d;re.d={f:Pb,r:zb,D:Bb,C:qb,L:Hb,m:Fb,X:Qb,S:Gb,M:Yb};function Pb(){var t=ss.f(),i=cu();return t||i}function zb(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?ny(i):ss.r(t)}var qr=typeof document>"u"?null:document;function z_(t,i,r){var l=qr;if(l&&typeof i=="string"&&i){var h=hn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),P_.has(h)||(P_.add(h),t={rel:t,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$t(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Bb(t){ss.D(t),z_("dns-prefetch",t,null)}function qb(t,i){ss.C(t,i),z_("preconnect",t,i)}function Hb(t,i,r){ss.L(t,i,r);var l=qr;if(l&&t&&i){var h='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var d=h;switch(i){case"style":d=Hr(t);break;case"script":d=Fr(t)}Fn.has(d)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(po(d))||i==="script"&&l.querySelector(yo(d))||(i=l.createElement("link"),$t(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Fb(t,i){ss.m(t,i);var r=qr;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fr(t)}if(!Fn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Fn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yo(d)))return}l=r.createElement("link"),$t(l,"link",t),Ct(l),r.head.appendChild(l)}}}function Gb(t,i,r){ss.S(t,i,r);var l=qr;if(l&&t){var h=_i(l).hoistableStyles,d=Hr(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(po(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Fn.get(d))&&Of(t,r);var j=v=l.createElement("link");Ct(j),$t(j,"link",t),j._p=new Promise(function(q,Z){j.onload=q,j.onerror=Z}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,vu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function Qb(t,i){ss.X(t,i);var r=qr;if(r&&t){var l=_i(r).hoistableScripts,h=Fr(t),d=l.get(h);d||(d=r.querySelector(yo(h)),d||(t=b({src:t,async:!0},i),(i=Fn.get(h))&&Mf(t,i),d=r.createElement("script"),Ct(d),$t(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Yb(t,i){ss.M(t,i);var r=qr;if(r&&t){var l=_i(r).hoistableScripts,h=Fr(t),d=l.get(h);d||(d=r.querySelector(yo(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&Mf(t,i),d=r.createElement("script"),Ct(d),$t(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function B_(t,i,r,l){var h=(h=Re.current)?_u(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Hr(r.href),r=_i(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Hr(r.href);var d=_i(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(po(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fn.set(t,r),d||Kb(h,t,r,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fr(r),r=_i(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Hr(t){return'href="'+hn(t)+'"'}function po(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",r),Ct(i),t.head.appendChild(i))}function Fr(t){return'[src="'+hn(t)+'"]'}function yo(t){return"script[async]"+t}function H_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return i.instance=l,Ct(l),l;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),$t(l,"style",h),vu(l,r.precedence,t),i.instance=l;case"stylesheet":h=Hr(r.href);var d=t.querySelector(po(h));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=q_(r),(h=Fn.get(h))&&Of(l,h),d=(t.ownerDocument||t).createElement("link"),Ct(d);var v=d;return v._p=new Promise(function(S,j){v.onload=S,v.onerror=j}),$t(d,"link",l),i.state.loading|=4,vu(d,r.precedence,t),i.instance=d;case"script":return d=Fr(r.src),(h=t.querySelector(yo(d)))?(i.instance=h,Ct(h),h):(l=r,(h=Fn.get(d))&&(l=b({},r),Mf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),$t(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,vu(l,r.precedence,t));return i.instance}function vu(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Of(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Mf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Tu=null;function F_(t,i,r){if(Tu===null){var l=new Map,h=Tu=new Map;h.set(r,l)}else h=Tu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[pi]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function G_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function Xb(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $b(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Hr(l.href),d=i.querySelector(po(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Eu.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=d,Ct(d);return}d=i.ownerDocument||i,l=q_(l),(h=Fn.get(h))&&Of(l,h),d=d.createElement("link"),Ct(d);var v=d;v._p=new Promise(function(S,j){v.onload=S,v.onerror=j}),$t(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Eu.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var Vf=0;function Jb(t,i){return t.stylesheets&&t.count===0&&bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&bu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Vf===0&&(Vf=62500*Db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vf?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Su=null;function bu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Su=new Map,i.forEach(Zb,t),Su=null,Eu.call(t))}function Zb(t,i){if(!(i.state.loading&4)){var r=Su.get(t);if(r)var l=r.get(null);else{r=new Map,Su.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=r.get(v)||l,d===l&&r.set(null,h),r.set(v,h),this.count++,l=Eu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var _o={$$typeof:$,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Wb(t,i,r,l,h,d,v,S,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Y_(t,i,r,l,h,d,v,S,j,q,Z,ne){return t=new Wb(t,i,r,v,j,q,Z,ne,S),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=fd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:i},yd(d),t}function K_(t){return t?(t=Er,t):Er}function X_(t,i,r,l,h,d){h=K_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ds(i),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=js(t,l,i),r!==null&&(yn(r,t,i),Xl(r,t,i))}function $_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function kf(t,i){$_(t,i),(t=t.alternate)&&$_(t,i)}function J_(t){if(t.tag===13||t.tag===31){var i=Da(t,67108864);i!==null&&yn(i,t,67108864),kf(t,67108864)}}function Z_(t){if(t.tag===13||t.tag===31){var i=Rn();i=va(i);var r=Da(t,i);r!==null&&yn(r,t,i),kf(t,i)}}var Au=!0;function eA(t,i,r,l){var h=Q.T;Q.T=null;var d=re.p;try{re.p=2,Uf(t,i,r,l)}finally{re.p=d,Q.T=h}}function tA(t,i,r,l){var h=Q.T;Q.T=null;var d=re.p;try{re.p=8,Uf(t,i,r,l)}finally{re.p=d,Q.T=h}}function Uf(t,i,r,l){if(Au){var h=Lf(l);if(h===null)bf(t,i,l,wu,r),ev(t,l);else if(iA(h,t,i,r,l))l.stopPropagation();else if(ev(t,l),i&4&&-1<nA.indexOf(t)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=di(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var j=1<<31-vt(v);S.entanglements[1]|=j,v&=~j}Di(d),($e&6)===0&&(lu=ln()+500,ho(0))}}break;case 31:case 13:S=Da(d,2),S!==null&&yn(S,d,2),cu(),kf(d,2)}if(d=Lf(l),d===null&&bf(t,i,l,wu,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else bf(t,i,l,null,r)}}function Lf(t){return t=Mn(t),Pf(t)}var wu=null;function Pf(t){if(wu=null,t=yi(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=f(i),t!==null)return t;t=null}else if(r===31){if(t=y(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return wu=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case Tl:return 2;case El:return 8;case ps:case Fh:return 32;case ic:return 268435456;default:return 32}default:return 32}}var zf=!1,Hs=null,Fs=null,Gs=null,vo=new Map,To=new Map,Qs=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,i){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":vo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(i.pointerId)}}function Eo(t,i,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&J_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iA(t,i,r,l,h){switch(i){case"focusin":return Hs=Eo(Hs,t,i,r,l,h),!0;case"dragenter":return Fs=Eo(Fs,t,i,r,l,h),!0;case"mouseover":return Gs=Eo(Gs,t,i,r,l,h),!0;case"pointerover":var d=h.pointerId;return vo.set(d,Eo(vo.get(d)||null,t,i,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,To.set(d,Eo(To.get(d)||null,t,i,r,l,h)),!0}return!1}function tv(t){var i=yi(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){t.blockedOn=i,$n(t.priority,function(){Z_(r)});return}}else if(i===31){if(i=y(r),i!==null){t.blockedOn=i,$n(t.priority,function(){Z_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ol=l,r.target.dispatchEvent(l),Ol=null}else return i=On(r),i!==null&&J_(i),t.blockedOn=r,!1;i.shift()}return!0}function nv(t,i,r){Nu(t)&&r.delete(i)}function sA(){zf=!1,Hs!==null&&Nu(Hs)&&(Hs=null),Fs!==null&&Nu(Fs)&&(Fs=null),Gs!==null&&Nu(Gs)&&(Gs=null),vo.forEach(nv),To.forEach(nv)}function Iu(t,i){t.blockedOn===i&&(t.blockedOn=null,zf||(zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sA)))}var Cu=null;function iv(t){Cu!==t&&(Cu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Pf(l||r)===null)continue;break}var d=On(r);d!==null&&(t.splice(i,3),i-=3,Ud(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Gr(t){function i(j){return Iu(j,t)}Hs!==null&&Iu(Hs,t),Fs!==null&&Iu(Fs,t),Gs!==null&&Iu(Gs,t),vo.forEach(i),To.forEach(i);for(var r=0;r<Qs.length;r++){var l=Qs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)tv(r),r.blockedOn===null&&Qs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],v=h[zt]||null;if(typeof d=="function")v||iv(r);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[zt]||null)S=v.formAction;else if(Pf(h)!==null)continue}else S=v.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),iv(r)}}}function sv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Bf(t){this._internalRoot=t}Ru.prototype.render=Bf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=Rn();X_(r,l,t,i,null,null)},Ru.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;X_(t.current,2,null,t,null,null),cu(),i[gi]=null}};function Ru(t){this._internalRoot=t}Ru.prototype.unstable_scheduleHydration=function(t){if(t){var i=cc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Qs.length&&i!==0&&i<Qs[r].priority;r++);Qs.splice(r,0,t),r===0&&tv(t)}};var av=e.version;if(av!=="19.2.0")throw Error(a(527,av,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var aA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Kn=xu.inject(aA),Gt=xu}catch{}}return bo.createRoot=function(t,i){if(!o(t))throw Error(a(299));var r=!1,l="",h=dy,d=fy,v=my;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Y_(t,1,!1,null,null,r,l,null,h,d,v,sv),t[gi]=i.current,Sf(t),new Bf(i)},bo.hydrateRoot=function(t,i,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=dy,v=fy,S=my,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),i=Y_(t,1,!0,i,r??null,l,h,j,d,v,S,sv),i.context=K_(null),r=i.current,l=Rn(),l=va(l),h=Ds(l),h.callback=null,js(r,h,l),r=l,i.current.lanes=r,ya(i,r),Di(i),t[gi]=i.current,Sf(t),new Ru(i)},bo.version="19.2.0",bo}var gv;function gA(){if(gv)return Ff.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=mA(),Ff.exports}var pA=gA();const yA=()=>{};var pv={};const W0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_A=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],y=s[n++],_=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[n++],f=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,y=f?s[o+1]:0,_=o+2<s.length,g=_?s[o+2]:0,E=c>>2,b=(c&3)<<4|y>>4;let R=(y&15)<<2|g>>6,k=g&63;_||(k=64,f||(R=64)),a.push(n[E],n[b],n[R],n[k])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(W0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):_A(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],y=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||y==null||g==null||b==null)throw new vA;const R=c<<2|y>>4;if(a.push(R),g!==64){const k=y<<4&240|g>>2;if(a.push(k),b!==64){const H=g<<6&192|b;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(s){const e=W0(s);return eT.encodeByteArray(e,!0)},$u=function(s){return TA(s).replace(/\./g,"")},tT=function(s){try{return eT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SA=()=>EA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof pv>"u")return;const s=pv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&tT(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return yA()||SA()||bA()||AA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nT=s=>ph()?.emulatorHosts?.[s],wA=s=>{const e=nT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},iT=()=>ph()?.config,sT=s=>ph()?.[`_${s}`];class NA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function ul(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}function IA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$u(JSON.stringify(n)),$u(JSON.stringify(f)),""].join(".")}const Co={};function CA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Co))Co[e]?s.emulator.push(e):s.prod.push(e);return s}function RA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let yv=!1;function rT(s,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Co[s]===e||Co[s]||yv)return;Co[s]=e;function n(R){return`__firebase__banner__${R}`}const a="__firebase__banner",c=CA().prod.length>0;function f(){const R=document.getElementById(a);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function _(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{yv=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=RA(a),k=n("text"),H=document.getElementById(k)||document.createElement("span"),J=n("learnmore"),X=document.getElementById(J)||document.createElement("a"),z=n("preprendIcon"),ie=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const $=R.element;y($),E(X,J);const ae=g();_(ie,z),$.append(ie,H,X,ae),document.body.appendChild($)}c?(H.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function DA(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function MA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VA(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function LA(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const PA="FirebaseError";class ms extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=PA,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?zA(c,a):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new ms(o,y,a)}}function zA(s,e){return s.replace(BA,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const BA=/\{\$([^}]+)}/g;function qA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function $a(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=s[o],f=e[o];if(_v(c)&&_v(f)){if(!$a(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function _v(s){return s!==null&&typeof s=="object"}function Fo(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function HA(s,e){const n=new FA(s,e);return n.subscribe.bind(n)}class FA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");GA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Kf),o.error===void 0&&(o.error=Kf),o.complete===void 0&&(o.complete=Kf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Kf(){}function Ft(s){return s&&s._delegate?s._delegate:s}class Ja{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class QA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new NA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(s){return s===Fa?void 0:s}function KA(s){return s.instantiationMode==="EAGER"}class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const $A={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},JA=Be.INFO,ZA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},WA=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=ZA[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=JA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const e1=(s,e)=>e.some(n=>s instanceof n);let vv,Tv;function t1(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,cm=new WeakMap,oT=new WeakMap,Xf=new WeakMap,Pm=new WeakMap;function i1(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(ea(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,s)}).catch(()=>{}),Pm.set(e,s),e}function s1(s){if(cm.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});cm.set(s,e)}let um={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||oT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function a1(s){um=s(um)}function r1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call($f(this),e,...n);return oT.set(a,e.sort?e.sort():[e]),ea(a)}:n1().includes(s)?function(...e){return s.apply($f(this),e),ea(lT.get(this))}:function(...e){return ea(s.apply($f(this),e))}}function l1(s){return typeof s=="function"?r1(s):(s instanceof IDBTransaction&&s1(s),e1(s,t1())?new Proxy(s,um):s)}function ea(s){if(s instanceof IDBRequest)return i1(s);if(Xf.has(s))return Xf.get(s);const e=l1(s);return e!==s&&(Xf.set(s,e),Pm.set(e,s)),e}const $f=s=>Pm.get(s);function o1(s,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),y=ea(f);return a&&f.addEventListener("upgradeneeded",_=>{a(ea(f.result),_.oldVersion,_.newVersion,ea(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),y.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),y}const c1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Jf=new Map;function Ev(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=u1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||c1.includes(n)))return;const c=async function(f,...y){const _=this.transaction(f,o?"readwrite":"readonly");let g=_.store;return a&&(g=g.index(y.shift())),(await Promise.all([g[n](...y),o&&_.done]))[0]};return Jf.set(e,c),c}a1(s=>({...s,get:(e,n,a)=>Ev(e,n)||s.get(e,n,a),has:(e,n)=>!!Ev(e,n)||s.has(e,n)}));class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function d1(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",Sv="0.14.6";const cs=new Lm("@firebase/app"),f1="@firebase/app-compat",m1="@firebase/analytics-compat",g1="@firebase/analytics",p1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",T1="@firebase/database",E1="@firebase/data-connect",S1="@firebase/database-compat",b1="@firebase/functions",A1="@firebase/functions-compat",w1="@firebase/installations",N1="@firebase/installations-compat",I1="@firebase/messaging",C1="@firebase/messaging-compat",R1="@firebase/performance",x1="@firebase/performance-compat",D1="@firebase/remote-config",j1="@firebase/remote-config-compat",O1="@firebase/storage",M1="@firebase/storage-compat",V1="@firebase/firestore",k1="@firebase/ai",U1="@firebase/firestore-compat",L1="firebase",P1="12.6.0";const dm="[DEFAULT]",z1={[hm]:"fire-core",[f1]:"fire-core-compat",[g1]:"fire-analytics",[m1]:"fire-analytics-compat",[y1]:"fire-app-check",[p1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[T1]:"fire-rtdb",[E1]:"fire-data-connect",[S1]:"fire-rtdb-compat",[b1]:"fire-fn",[A1]:"fire-fn-compat",[w1]:"fire-iid",[N1]:"fire-iid-compat",[I1]:"fire-fcm",[C1]:"fire-fcm-compat",[R1]:"fire-perf",[x1]:"fire-perf-compat",[D1]:"fire-rc",[j1]:"fire-rc-compat",[O1]:"fire-gcs",[M1]:"fire-gcs-compat",[V1]:"fire-fst",[U1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};const Ju=new Map,B1=new Map,fm=new Map;function bv(s,e){try{s.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function nl(s){const e=s.name;if(fm.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const n of Ju.values())bv(n,s);for(const n of B1.values())bv(n,s);return!0}function zm(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ri(s){return s==null?!1:s.settings!==void 0}const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Ho("app","Firebase",q1);class H1{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}const hl=P1;function cT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:dm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ta.create("bad-app-name",{appName:String(o)});if(n||(n=iT()),!n)throw ta.create("no-options");const c=Ju.get(o);if(c){if($a(n,c.options)&&$a(a,c.config))return c;throw ta.create("duplicate-app",{appName:o})}const f=new XA(o);for(const _ of fm.values())f.addComponent(_);const y=new H1(n,a,f);return Ju.set(o,y),y}function uT(s=dm){const e=Ju.get(s);if(!e&&s===dm&&iT())return cT();if(!e)throw ta.create("no-app",{appName:s});return e}function na(s,e,n){let a=z1[s]??s;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(f.join(" "));return}nl(new Ja(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const F1="firebase-heartbeat-database",G1=1,Mo="firebase-heartbeat-store";let Zf=null;function hT(){return Zf||(Zf=o1(F1,G1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(s=>{throw ta.create("idb-open",{originalErrorMessage:s.message})})),Zf}async function Q1(s){try{const n=(await hT()).transaction(Mo),a=await n.objectStore(Mo).get(dT(s));return await n.done,a}catch(e){if(e instanceof ms)cs.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function Av(s,e){try{const a=(await hT()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(e,dT(s)),await a.done}catch(n){if(n instanceof ms)cs.warn(n.message);else{const a=ta.create("idb-set",{originalErrorMessage:n?.message});cs.warn(a.message)}}}function dT(s){return`${s.name}!${s.options.appId}`}const Y1=1024,K1=30;class X1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>K1){const o=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wv(),{heartbeatsToSend:n,unsentEntries:a}=$1(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function wv(){return new Date().toISOString().substring(0,10)}function $1(s,e=Y1){const n=[];let a=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Nv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class J1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?LA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Nv(s){return $u(JSON.stringify({version:2,heartbeats:s})).length}function Z1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}function W1(s){nl(new Ja("platform-logger",e=>new h1(e),"PRIVATE")),nl(new Ja("heartbeat",e=>new X1(e),"PRIVATE")),na(hm,Sv,s),na(hm,Sv,"esm2020"),na("fire-js","")}W1("");var ew="firebase",tw="12.6.0";na(ew,tw,"app");function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=fT,mT=new Ho("auth","Firebase",fT());const Zu=new Lm("@firebase/auth");function iw(s,...e){Zu.logLevel<=Be.WARN&&Zu.warn(`Auth (${hl}): ${s}`,...e)}function zu(s,...e){Zu.logLevel<=Be.ERROR&&Zu.error(`Auth (${hl}): ${s}`,...e)}function Li(s,...e){throw qm(s,...e)}function oi(s,...e){return qm(s,...e)}function Bm(s,e,n){const a={...nw(),[e]:n};return new Ho("auth","Firebase",a).create(e,{appName:s.name})}function Ya(s){return Bm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sw(s,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Li(s,"argument-error"),Bm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return mT.create(s,...e)}function Ce(s,e,...n){if(!s)throw qm(e,...n)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zu(e),new Error(e)}function us(s,e){s||rs(e)}function mm(){return typeof self<"u"&&self.location?.href||""}function aw(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}function rw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||OA()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Go{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=xA()||MA()}get(){return rw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,e){us(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uw=new Go(3e4,6e4);function Fm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function dl(s,e,n,a,o={}){return pT(s,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const y=Fo({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:_,...c};return jA()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&ul(s.emulatorConfig.host)&&(g.credentials="include"),gT.fetch()(await yT(s,s.config.apiHost,n,y),g)})}async function pT(s,e,n){s._canInitEmulator=!1;const a={...ow,...e};try{const o=new dw(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Du(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const y=c.ok?f.errorMessage:f.error.message,[_,g]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Du(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Du(s,"user-disabled",f);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bm(s,E,g);Li(s,E)}}catch(o){if(o instanceof ms)throw o;Li(s,"network-request-failed",{message:String(o)})}}async function hw(s,e,n,a,o={}){const c=await dl(s,e,n,a,o);return"mfaPendingCredential"in c&&Li(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yT(s,e,n,a){const o=`${e}${n}?${a}`,c=s,f=c.config.emulator?Hm(s.config,o):`${s.config.apiScheme}://${o}`;return cw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),uw.get())})}}function Du(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=oi(s,e,a);return o.customData._tokenResponse=n,o}async function fw(s,e){return dl(s,"POST","/v1/accounts:delete",e)}async function Wu(s,e){return dl(s,"POST","/v1/accounts:lookup",e)}function Ro(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mw(s,e=!1){const n=Ft(s),a=await n.getIdToken(e),o=Gm(a);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(Wf(o.auth_time)),issuedAtTime:Ro(Wf(o.iat)),expirationTime:Ro(Wf(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wf(s){return Number(s)*1e3}function Gm(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(n);return o?JSON.parse(o):(zu("Failed to decode base64 JWT payload"),null)}catch(o){return zu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Cv(s){const e=Gm(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vo(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ms&&gw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class pw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const e=s.auth,n=await s.getIdToken(),a=await Vo(s,Wu(e,{idToken:n}));Ce(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?_T(o.providerUserInfo):[],f=_w(s.providerData,c),y=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,g=y?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function yw(s){const e=Ft(s);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _w(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function _T(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vw(s,e){const n=await pT(s,{},async()=>{const a=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await yT(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:a};return s.emulatorConfig&&ul(s.emulatorConfig.host)&&(_.credentials="include"),gT.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tw(s,e){return dl(s,"POST","/v2/accounts:revokeToken",Fm(s,e))}class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await vw(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,f=new Jr;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ce(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Ks(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mw(this,e)}reload(){return yw(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await Vo(this,fw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,y=n.tenantId??void 0,_=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:k,providerData:H,stsTokenManager:J}=n;Ce(b&&J,e,"internal-error");const X=Jr.fromJSON(this.name,J);Ce(typeof b=="string",e,"internal-error"),Ks(a,e.name),Ks(o,e.name),Ce(typeof R=="boolean",e,"internal-error"),Ce(typeof k=="boolean",e,"internal-error"),Ks(c,e.name),Ks(f,e.name),Ks(y,e.name),Ks(_,e.name),Ks(g,e.name),Ks(E,e.name);const z=new li({uid:b,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:k,photoURL:f,phoneNumber:c,tenantId:y,stsTokenManager:X,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(z.providerData=H.map(ie=>({...ie}))),_&&(z._redirectEventId=_),z}static async _fromIdTokenResponse(e,n,a=!1){const o=new Jr;o.updateFromServerResponse(n);const c=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?_T(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,y=new Jr;y.updateFromIdToken(a);const _=new li({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,g),_}}const Rv=new Map;function ls(s){us(s instanceof Function,"Expected a class definition");let e=Rv.get(s);return e?(us(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Rv.set(s,e),e)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vT.type="NONE";const xv=vT;function Bu(s,e,n){return`firebase:${s}:${e}:${n}`}class Zr{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Bu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wu(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Zr(ls(xv),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||ls(xv);const f=Bu(a,e.config.apiKey,e.name);let y=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const R=await Wu(e,{idToken:E}).catch(()=>{});if(!R)break;b=await li._fromGetAccountInfoResponse(e,R,E)}else b=li._fromJSON(e,E);g!==c&&(y=b),c=g;break}}catch{}const _=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Zr(c,e,a):(c=_[0],y&&await c._set(f,y.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(f)}catch{}})),new Zr(c,e,a))}}function Dv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wT(e))return"Blackberry";if(NT(e))return"Webos";if(ET(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function TT(s=rn()){return/firefox\//i.test(s)}function ET(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(s=rn()){return/crios\//i.test(s)}function bT(s=rn()){return/iemobile/i.test(s)}function AT(s=rn()){return/android/i.test(s)}function wT(s=rn()){return/blackberry/i.test(s)}function NT(s=rn()){return/webos/i.test(s)}function Qm(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ew(s=rn()){return Qm(s)&&!!window.navigator?.standalone}function Sw(){return VA()&&document.documentMode===10}function IT(s=rn()){return Qm(s)||AT(s)||NT(s)||wT(s)||/windows phone/i.test(s)||bT(s)}function CT(s,e=[]){let n;switch(s){case"Browser":n=Dv(rn());break;case"Worker":n=`${Dv(rn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${a}`}class bw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,y)=>{try{const _=e(c);f(_)}catch(_){y(_)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Aw(s,e={}){return dl(s,"GET","/v2/passwordPolicy",Fm(s,e))}const ww=6;class Nw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ww,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Iw{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wu(this,{idToken:e}),a=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===f)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Ya(this));const n=e?Ft(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Aw(this),n=new Nw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await Tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Zr.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(y,this,"internal-error"),y.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,a,o);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yh(s){return Ft(s)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cw(s){Ym=s}function Rw(s){return Ym.loadJS(s)}function xw(){return Ym.gapiScript}function Dw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function jw(s,e){const n=zm(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if($a(c,e??{}))return o;Li(o,"already-initialized")}return n.initialize({options:e})}function Ow(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Mw(s,e,n){const a=yh(s);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=RT(e),{host:f,port:y}=Vw(e),_=y===null?"":`:${y}`,g={url:`${c}//${f}${_}/`},E=Object.freeze({host:f,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce($a(g,a.config.emulator)&&$a(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,ul(f)?(aT(`${c}//${f}${_}`),rT("Auth",!0)):kw()}function RT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Vw(s){const e=RT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Ov(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:Ov(f)}}}function Ov(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function kw(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function Wr(s,e){return hw(s,"POST","/v1/accounts:signInWithIdp",Fm(s,e))}const Uw="http://localhost";class Za extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const f=new Za(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Wr(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Wr(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wr(e,n)}buildRequest(){const e={requestUri:Uw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fo(n)}return e}}class Km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qo extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends Qo{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class as extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return as.credential(n,a)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class Js extends Qo{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Zs extends Qo{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Zs.credential(n,a)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await li._fromIdTokenResponse(e,a,o),f=Mv(a);return new il({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=Mv(a);return new il({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function Mv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class th extends ms{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new th(e,n,a,o)}}function DT(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,e,a):c})}async function Lw(s,e,n=!1){const a=await Vo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return il._forOperation(s,"link",a)}async function Pw(s,e,n=!1){const{auth:a}=s;if(ri(a.app))return Promise.reject(Ya(a));const o="reauthenticate";try{const c=await Vo(s,DT(a,o,e,s),n);Ce(c.idToken,a,"internal-error");const f=Gm(c.idToken);Ce(f,a,"internal-error");const{sub:y}=f;return Ce(s.uid===y,a,"user-mismatch"),il._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(a,"user-mismatch"),c}}async function zw(s,e,n=!1){if(ri(s.app))return Promise.reject(Ya(s));const a="signIn",o=await DT(s,a,e),c=await il._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(c.user),c}function Bw(s,e,n,a){return Ft(s).onIdTokenChanged(e,n,a)}function qw(s,e,n){return Ft(s).beforeAuthStateChanged(e,n)}function Hw(s,e,n,a){return Ft(s).onAuthStateChanged(e,n,a)}function Fw(s){return Ft(s).signOut()}const nh="__sak";class jT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gw=1e3,Qw=10;class OT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,y,_)=>{this.notifyListeners(f,_)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);Sw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Qw):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const Yw=OT;class MT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MT.type="SESSION";const VT=MT;function Kw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(f).map(async g=>g(n.origin,c)),_=await Kw(y);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Xm(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class Xw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((y,_)=>{const g=Xm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(R.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function $w(s){Oi().location.href=s}function kT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function Jw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zw(){return navigator?.serviceWorker?.controller||null}function Ww(){return kT()?self:null}const UT="firebaseLocalStorageDb",eN=1,ih="firebaseLocalStorage",LT="fbase_key";class Yo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(s,e){return s.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function tN(){const s=indexedDB.deleteDatabase(UT);return new Yo(s).toPromise()}function pm(){const s=indexedDB.open(UT,eN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ih,{keyPath:LT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ih)?e(a):(a.close(),await tN(),e(await pm()))})})}async function Vv(s,e,n){const a=vh(s,!0).put({[LT]:e,value:n});return new Yo(a).toPromise()}async function nN(s,e){const n=vh(s,!1).get(e),a=await new Yo(n).toPromise();return a===void 0?null:a.value}function kv(s,e){const n=vh(s,!0).delete(e);return new Yo(n).toPromise()}const iN=800,sN=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>sN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Ww()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jw(),!this.activeServiceWorker)return;this.sender=new Xw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await Vv(e,nh,"1"),await kv(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Vv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>nN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new Yo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const aN=PT;new Go(3e4,6e4);function zT(s,e){return e?ls(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class $m extends xT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rN(s){return zw(s.auth,new $m(s),s.bypassAuthState)}function lN(s){const{auth:e,user:n}=s;return Ce(n,e,"internal-error"),Pw(n,new $m(s),s.bypassAuthState)}async function oN(s){const{auth:e,user:n}=s;return Ce(n,e,"internal-error"),Lw(n,new $m(s),s.bypassAuthState)}class BT{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:f,type:y}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return lN;default:Li(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cN=new Go(2e3,1e4);async function uN(s,e,n){if(ri(s.app))return Promise.reject(oi(s,"operation-not-supported-in-this-environment"));const a=yh(s);sw(s,e,Km);const o=zT(a,n);return new Ga(a,"signInViaPopup",e,o).executeNotNull()}class Ga extends BT{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cN.get())};e()}}Ga.currentPopupAction=null;const hN="pendingRedirect",qu=new Map;class dN extends BT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=qu.get(this.auth._key());if(!e){try{const a=await fN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}qu.set(this.auth._key(),e)}return this.bypassAuthState||qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fN(s,e){const n=pN(e),a=gN(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function mN(s,e){qu.set(s._key(),e)}function gN(s){return ls(s._redirectPersistence)}function pN(s){return Bu(hN,s.config.apiKey,s.name)}async function yN(s,e,n=!1){if(ri(s.app))return Promise.reject(Ya(s));const a=yh(s),o=zT(a,e),f=await new dN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const _N=600*1e3;class vN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(oi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_N&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function qT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function TN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(s);default:return!1}}async function EN(s,e={}){return dl(s,"GET","/v1/projects",e)}const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bN=/^https?/;async function AN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await EN(s);for(const n of e)try{if(wN(n))return}catch{}Li(s,"unauthorized-domain")}function wN(s){const e=mm(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!bN.test(n))return!1;if(SN.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const NN=new Go(3e4,6e4);function Lv(){const s=Oi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function IN(s){return new Promise((e,n)=>{function a(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(oi(s,"network-request-failed"))},timeout:NN.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const o=Dw("iframefcb");return Oi()[o]=()=>{gapi.load?a():n(oi(s,"network-request-failed"))},Rw(`${xw()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function CN(s){return Hu=Hu||IN(s),Hu}const RN=new Go(5e3,15e3),xN="__/auth/iframe",DN="emulator/auth/iframe",jN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MN(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Hm(e,DN):`https://${s.config.authDomain}/${xN}`,a={apiKey:e.apiKey,appName:s.name,v:hl},o=ON.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Fo(a).slice(1)}`}async function VN(s){const e=await CN(s),n=Oi().gapi;return Ce(n,s,"internal-error"),e.open({where:document.body,url:MN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jN,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=oi(s,"network-request-failed"),y=Oi().setTimeout(()=>{c(f)},RN.get());function _(){Oi().clearTimeout(y),o(a)}a.ping(_).then(_,()=>{c(f)})}))}const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UN=500,LN=600,PN="_blank",zN="http://localhost";class Pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BN(s,e,n,a=UN,o=LN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const _={...kN,width:a.toString(),height:o.toString(),top:c,left:f},g=rn().toLowerCase();n&&(y=ST(g)?PN:n),TT(g)&&(e=e||zN,_.scrollbars="yes");const E=Object.entries(_).reduce((R,[k,H])=>`${R}${k}=${H},`,"");if(Ew(g)&&y!=="_self")return qN(e||"",y),new Pv(null);const b=window.open(e||"",y,E);Ce(b,s,"popup-blocked");try{b.focus()}catch{}return new Pv(b)}function qN(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const HN="__/auth/handler",FN="emulator/auth/handler",GN=encodeURIComponent("fac");async function zv(s,e,n,a,o,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:hl,eventId:o};if(e instanceof Km){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",qA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Qo){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const y=f;for(const E of Object.keys(y))y[E]===void 0&&delete y[E];const _=await s._getAppCheckToken(),g=_?`#${GN}=${encodeURIComponent(_)}`:"";return`${QN(s)}?${Fo(y).slice(1)}${g}`}function QN({config:s}){return s.emulator?Hm(s,FN):`https://${s.authDomain}/${HN}`}const em="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=yN,this._overrideRedirectResult=mN}async _openPopup(e,n,a,o){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zv(e,n,a,mm(),o);return BN(e,c,Xm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await zv(e,n,a,mm(),o);return $w(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(us(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await VN(e),a=new vN(e);return n.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},o=>{const c=o?.[0]?.[em];c!==void 0&&n(!!c),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||ET()||Qm()}}const KN=YN;var Bv="@firebase/auth",qv="1.11.1";class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $N(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JN(s){nl(new Ja("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=a.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:f,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(s)},g=new Iw(a,o,c,_);return Ow(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),nl(new Ja("auth-internal",e=>{const n=yh(e.getProvider("auth").getImmediate());return(a=>new XN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(Bv,qv,$N(s)),na(Bv,qv,"esm2020")}const ZN=300,WN=sT("authIdTokenMaxAge")||ZN;let Hv=null;const eI=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>WN)return;const o=n?.token;Hv!==o&&(Hv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tI(s=uT()){const e=zm(s,"auth");if(e.isInitialized())return e.getImmediate();const n=jw(s,{popupRedirectResolver:KN,persistence:[aN,Yw,VT]}),a=sT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=eI(c.toString());qw(n,f,()=>f(n.currentUser)),Bw(n,y=>f(y))}}const o=nT("auth");return o&&Mw(n,`http://${o}`),n}function nI(){return document.getElementsByTagName("head")?.[0]??document}Cw({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=oi("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",nI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JN("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ia,HT;(function(){var s;function e(w,N){function C(){}C.prototype=N.prototype,w.F=N.prototype,w.prototype=new C,w.prototype.constructor=w,w.D=function(D,x,U){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return N.prototype[x].apply(D,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,N,C){C||(C=0);const D=Array(16);if(typeof N=="string")for(var x=0;x<16;++x)D[x]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(x=0;x<16;++x)D[x]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=w.g[0],C=w.g[1],x=w.g[2];let U=w.g[3],I;I=N+(U^C&(x^U))+D[0]+3614090360&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(x^N&(C^x))+D[1]+3905402710&4294967295,U=N+(I<<12&4294967295|I>>>20),I=x+(C^U&(N^C))+D[2]+606105819&4294967295,x=U+(I<<17&4294967295|I>>>15),I=C+(N^x&(U^N))+D[3]+3250441966&4294967295,C=x+(I<<22&4294967295|I>>>10),I=N+(U^C&(x^U))+D[4]+4118548399&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(x^N&(C^x))+D[5]+1200080426&4294967295,U=N+(I<<12&4294967295|I>>>20),I=x+(C^U&(N^C))+D[6]+2821735955&4294967295,x=U+(I<<17&4294967295|I>>>15),I=C+(N^x&(U^N))+D[7]+4249261313&4294967295,C=x+(I<<22&4294967295|I>>>10),I=N+(U^C&(x^U))+D[8]+1770035416&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(x^N&(C^x))+D[9]+2336552879&4294967295,U=N+(I<<12&4294967295|I>>>20),I=x+(C^U&(N^C))+D[10]+4294925233&4294967295,x=U+(I<<17&4294967295|I>>>15),I=C+(N^x&(U^N))+D[11]+2304563134&4294967295,C=x+(I<<22&4294967295|I>>>10),I=N+(U^C&(x^U))+D[12]+1804603682&4294967295,N=C+(I<<7&4294967295|I>>>25),I=U+(x^N&(C^x))+D[13]+4254626195&4294967295,U=N+(I<<12&4294967295|I>>>20),I=x+(C^U&(N^C))+D[14]+2792965006&4294967295,x=U+(I<<17&4294967295|I>>>15),I=C+(N^x&(U^N))+D[15]+1236535329&4294967295,C=x+(I<<22&4294967295|I>>>10),I=N+(x^U&(C^x))+D[1]+4129170786&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^x&(N^C))+D[6]+3225465664&4294967295,U=N+(I<<9&4294967295|I>>>23),I=x+(N^C&(U^N))+D[11]+643717713&4294967295,x=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(x^U))+D[0]+3921069994&4294967295,C=x+(I<<20&4294967295|I>>>12),I=N+(x^U&(C^x))+D[5]+3593408605&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^x&(N^C))+D[10]+38016083&4294967295,U=N+(I<<9&4294967295|I>>>23),I=x+(N^C&(U^N))+D[15]+3634488961&4294967295,x=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(x^U))+D[4]+3889429448&4294967295,C=x+(I<<20&4294967295|I>>>12),I=N+(x^U&(C^x))+D[9]+568446438&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^x&(N^C))+D[14]+3275163606&4294967295,U=N+(I<<9&4294967295|I>>>23),I=x+(N^C&(U^N))+D[3]+4107603335&4294967295,x=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(x^U))+D[8]+1163531501&4294967295,C=x+(I<<20&4294967295|I>>>12),I=N+(x^U&(C^x))+D[13]+2850285829&4294967295,N=C+(I<<5&4294967295|I>>>27),I=U+(C^x&(N^C))+D[2]+4243563512&4294967295,U=N+(I<<9&4294967295|I>>>23),I=x+(N^C&(U^N))+D[7]+1735328473&4294967295,x=U+(I<<14&4294967295|I>>>18),I=C+(U^N&(x^U))+D[12]+2368359562&4294967295,C=x+(I<<20&4294967295|I>>>12),I=N+(C^x^U)+D[5]+4294588738&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^x)+D[8]+2272392833&4294967295,U=N+(I<<11&4294967295|I>>>21),I=x+(U^N^C)+D[11]+1839030562&4294967295,x=U+(I<<16&4294967295|I>>>16),I=C+(x^U^N)+D[14]+4259657740&4294967295,C=x+(I<<23&4294967295|I>>>9),I=N+(C^x^U)+D[1]+2763975236&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^x)+D[4]+1272893353&4294967295,U=N+(I<<11&4294967295|I>>>21),I=x+(U^N^C)+D[7]+4139469664&4294967295,x=U+(I<<16&4294967295|I>>>16),I=C+(x^U^N)+D[10]+3200236656&4294967295,C=x+(I<<23&4294967295|I>>>9),I=N+(C^x^U)+D[13]+681279174&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^x)+D[0]+3936430074&4294967295,U=N+(I<<11&4294967295|I>>>21),I=x+(U^N^C)+D[3]+3572445317&4294967295,x=U+(I<<16&4294967295|I>>>16),I=C+(x^U^N)+D[6]+76029189&4294967295,C=x+(I<<23&4294967295|I>>>9),I=N+(C^x^U)+D[9]+3654602809&4294967295,N=C+(I<<4&4294967295|I>>>28),I=U+(N^C^x)+D[12]+3873151461&4294967295,U=N+(I<<11&4294967295|I>>>21),I=x+(U^N^C)+D[15]+530742520&4294967295,x=U+(I<<16&4294967295|I>>>16),I=C+(x^U^N)+D[2]+3299628645&4294967295,C=x+(I<<23&4294967295|I>>>9),I=N+(x^(C|~U))+D[0]+4096336452&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~x))+D[7]+1126891415&4294967295,U=N+(I<<10&4294967295|I>>>22),I=x+(N^(U|~C))+D[14]+2878612391&4294967295,x=U+(I<<15&4294967295|I>>>17),I=C+(U^(x|~N))+D[5]+4237533241&4294967295,C=x+(I<<21&4294967295|I>>>11),I=N+(x^(C|~U))+D[12]+1700485571&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~x))+D[3]+2399980690&4294967295,U=N+(I<<10&4294967295|I>>>22),I=x+(N^(U|~C))+D[10]+4293915773&4294967295,x=U+(I<<15&4294967295|I>>>17),I=C+(U^(x|~N))+D[1]+2240044497&4294967295,C=x+(I<<21&4294967295|I>>>11),I=N+(x^(C|~U))+D[8]+1873313359&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~x))+D[15]+4264355552&4294967295,U=N+(I<<10&4294967295|I>>>22),I=x+(N^(U|~C))+D[6]+2734768916&4294967295,x=U+(I<<15&4294967295|I>>>17),I=C+(U^(x|~N))+D[13]+1309151649&4294967295,C=x+(I<<21&4294967295|I>>>11),I=N+(x^(C|~U))+D[4]+4149444226&4294967295,N=C+(I<<6&4294967295|I>>>26),I=U+(C^(N|~x))+D[11]+3174756917&4294967295,U=N+(I<<10&4294967295|I>>>22),I=x+(N^(U|~C))+D[2]+718787259&4294967295,x=U+(I<<15&4294967295|I>>>17),I=C+(U^(x|~N))+D[9]+3951481745&4294967295,w.g[0]=w.g[0]+N&4294967295,w.g[1]=w.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+U&4294967295}a.prototype.v=function(w,N){N===void 0&&(N=w.length);const C=N-this.blockSize,D=this.C;let x=this.h,U=0;for(;U<N;){if(x==0)for(;U<=C;)o(this,w,U),U+=this.blockSize;if(typeof w=="string"){for(;U<N;)if(D[x++]=w.charCodeAt(U++),x==this.blockSize){o(this,D),x=0;break}}else for(;U<N;)if(D[x++]=w[U++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=N},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var N=1;N<w.length-8;++N)w[N]=0;N=this.o*8;for(var C=w.length-8;C<w.length;++C)w[C]=N&255,N/=256;for(this.v(w),w=Array(16),N=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)w[N++]=this.g[C]>>>D&255;return w};function c(w,N){var C=y;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=N(w)}function f(w,N){this.h=N;const C=[];let D=!0;for(let x=w.length-1;x>=0;x--){const U=w[x]|0;D&&U==N||(C[x]=U,D=!1)}this.g=C}var y={};function _(w){return-128<=w&&w<128?c(w,function(N){return new f([N|0],N<0?-1:0)}):new f([w|0],w<0?-1:0)}function g(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return X(g(-w));const N=[];let C=1;for(let D=0;w>=C;D++)N[D]=w/C|0,C*=4294967296;return new f(N,0)}function E(w,N){if(w.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w.charAt(0)=="-")return X(E(w.substring(1),N));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(N,8));let D=b;for(let U=0;U<w.length;U+=8){var x=Math.min(8,w.length-U);const I=parseInt(w.substring(U,U+x),N);x<8?(x=g(Math.pow(N,x)),D=D.j(x).add(g(I))):(D=D.j(C),D=D.add(g(I)))}return D}var b=_(0),R=_(1),k=_(16777216);s=f.prototype,s.m=function(){if(J(this))return-X(this).m();let w=0,N=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);w+=(D>=0?D:4294967296+D)*N,N*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(H(this))return"0";if(J(this))return"-"+X(this).toString(w);const N=g(Math.pow(w,6));var C=this;let D="";for(;;){const x=ae(C,N).g;C=z(C,x.j(N));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(w);if(C=x,H(C))return U+D;for(;U.length<6;)U="0"+U;D=U+D}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function H(w){if(w.h!=0)return!1;for(let N=0;N<w.g.length;N++)if(w.g[N]!=0)return!1;return!0}function J(w){return w.h==-1}s.l=function(w){return w=z(this,w),J(w)?-1:H(w)?0:1};function X(w){const N=w.g.length,C=[];for(let D=0;D<N;D++)C[D]=~w.g[D];return new f(C,~w.h).add(R)}s.abs=function(){return J(this)?X(this):this},s.add=function(w){const N=Math.max(this.g.length,w.g.length),C=[];let D=0;for(let x=0;x<=N;x++){let U=D+(this.i(x)&65535)+(w.i(x)&65535),I=(U>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);D=I>>>16,U&=65535,I&=65535,C[x]=I<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function z(w,N){return w.add(X(N))}s.j=function(w){if(H(this)||H(w))return b;if(J(this))return J(w)?X(this).j(X(w)):X(X(this).j(w));if(J(w))return X(this.j(X(w)));if(this.l(k)<0&&w.l(k)<0)return g(this.m()*w.m());const N=this.g.length+w.g.length,C=[];for(var D=0;D<2*N;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<w.g.length;x++){const U=this.i(D)>>>16,I=this.i(D)&65535,le=w.i(x)>>>16,Se=w.i(x)&65535;C[2*D+2*x]+=I*Se,ie(C,2*D+2*x),C[2*D+2*x+1]+=U*Se,ie(C,2*D+2*x+1),C[2*D+2*x+1]+=I*le,ie(C,2*D+2*x+1),C[2*D+2*x+2]+=U*le,ie(C,2*D+2*x+2)}for(w=0;w<N;w++)C[w]=C[2*w+1]<<16|C[2*w];for(w=N;w<2*N;w++)C[w]=0;return new f(C,0)};function ie(w,N){for(;(w[N]&65535)!=w[N];)w[N+1]+=w[N]>>>16,w[N]&=65535,N++}function $(w,N){this.g=w,this.h=N}function ae(w,N){if(H(N))throw Error("division by zero");if(H(w))return new $(b,b);if(J(w))return N=ae(X(w),N),new $(X(N.g),X(N.h));if(J(N))return N=ae(w,X(N)),new $(X(N.g),N.h);if(w.g.length>30){if(J(w)||J(N))throw Error("slowDivide_ only works with positive integers.");for(var C=R,D=N;D.l(w)<=0;)C=pe(C),D=pe(D);var x=O(C,1),U=O(D,1);for(D=O(D,2),C=O(C,2);!H(D);){var I=U.add(D);I.l(w)<=0&&(x=x.add(C),U=I),D=O(D,1),C=O(C,1)}return N=z(w,x.j(N)),new $(x,N)}for(x=b;w.l(N)>=0;){for(C=Math.max(1,Math.floor(w.m()/N.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),U=g(C),I=U.j(N);J(I)||I.l(w)>0;)C-=D,U=g(C),I=U.j(N);H(U)&&(U=R),x=x.add(U),w=z(w,I)}return new $(x,w)}s.B=function(w){return ae(this,w).h},s.and=function(w){const N=Math.max(this.g.length,w.g.length),C=[];for(let D=0;D<N;D++)C[D]=this.i(D)&w.i(D);return new f(C,this.h&w.h)},s.or=function(w){const N=Math.max(this.g.length,w.g.length),C=[];for(let D=0;D<N;D++)C[D]=this.i(D)|w.i(D);return new f(C,this.h|w.h)},s.xor=function(w){const N=Math.max(this.g.length,w.g.length),C=[];for(let D=0;D<N;D++)C[D]=this.i(D)^w.i(D);return new f(C,this.h^w.h)};function pe(w){const N=w.g.length+1,C=[];for(let D=0;D<N;D++)C[D]=w.i(D)<<1|w.i(D-1)>>>31;return new f(C,w.h)}function O(w,N){const C=N>>5;N%=32;const D=w.g.length-C,x=[];for(let U=0;U<D;U++)x[U]=N>0?w.i(U+C)>>>N|w.i(U+C+1)<<32-N:w.i(U+C);return new f(x,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,HT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ia=f}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FT,Ao,GT,Fu,ym,QT,YT,KT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var p=0;p<u.length;++p){var T=u[p];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=n(this);function o(u,p){if(p)e:{var T=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in T))break e;T=T[P]}u=u[u.length-1],A=T[u],p=p(A),p!=A&&p!=null&&e(T,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var T=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&T.push([A,p[A]]);return T}});var c=c||{},f=this||self;function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function _(u,p,T){return u.call.apply(u.bind,arguments)}function g(u,p,T){return g=_,g.apply(null,arguments)}function E(u,p){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,p){function T(){}T.prototype=p.prototype,u.Z=p.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(A,P,Y){for(var oe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)oe[Oe-2]=arguments[Oe];return p.prototype[P].apply(A,oe)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const p=u.length;if(p>0){const T=Array(p);for(let A=0;A<p;A++)T[A]=u[A];return T}return[]}function H(u,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var T=typeof P;if(T=T!="object"?T:P?Array.isArray(P)?"array":T:"null",T=="array"||T=="object"&&typeof P.length=="number"){T=u.length||0;const Y=P.length||0;u.length=T+Y;for(let oe=0;oe<Y;oe++)u[T+oe]=P[oe]}else u.push(P)}}class J{constructor(p,T){this.i=p,this.j=T,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function X(u){f.setTimeout(()=>{throw u},0)}function z(){var u=w;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ie{constructor(){this.h=this.g=null}add(p,T){const A=$.get();A.set(p,T),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new J(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,T){this.h=p,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,O=!1,w=new ie,N=()=>{const u=Promise.resolve(void 0);pe=()=>{u.then(C)}};function C(){for(var u;u=z();){try{u.h.call(u.g)}catch(T){X(T)}var p=$;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}O=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};f.addEventListener("test",T,p),f.removeEventListener("test",T,p)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function le(u,p){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}b(le,x),le.prototype.init=function(u,p){const T=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(T=="mouseover"?p=u.fromElement:T=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Q=0;function re(u,p,T,A,P){this.listener=u,this.proxy=null,this.src=p,this.type=T,this.capture=!!A,this.ha=P,this.key=++Q,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u,p,T){for(const A in u)p.call(T,u[A],A,u)}function Qe(u,p){for(const T in u)p.call(void 0,u[T],T,u)}function V(u){const p={};for(const T in u)p[T]=u[T];return p}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,p){let T,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(T in A)u[T]=A[T];for(let Y=0;Y<ee.length;Y++)T=ee[Y],Object.prototype.hasOwnProperty.call(A,T)&&(u[T]=A[T])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,p,T,A,P){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const oe=Re(u,p,A,P);return oe>-1?(p=u[oe],T||(p.fa=!1)):(p=new re(p,this.src,Y,!!A,P),p.fa=T,u.push(p)),p};function Ne(u,p){const T=p.type;if(T in u.g){var A=u.g[T],P=Array.prototype.indexOf.call(A,p,void 0),Y;(Y=P>=0)&&Array.prototype.splice.call(A,P,1),Y&&(ve(p),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Re(u,p,T,A){for(let P=0;P<u.length;++P){const Y=u[P];if(!Y.da&&Y.listener==p&&Y.capture==!!T&&Y.ha==A)return P}return-1}var G="closure_lm_"+(Math.random()*1e6|0),he={};function ye(u,p,T,A,P){if(Array.isArray(p)){for(let Y=0;Y<p.length;Y++)ye(u,p[Y],T,A,P);return null}return T=vl(T),u&&u[Se]?u.J(p,T,y(A)?!!A.capture:!1,P):Ze(u,p,T,!1,A,P)}function Ze(u,p,T,A,P,Y){if(!p)throw Error("Invalid event type");const oe=y(P)?!!P.capture:!!P;let Oe=ma(u);if(Oe||(u[G]=Oe=new me(u)),T=Oe.add(p,T,A,oe,Y),T.proxy)return T;if(A=de(),T.proxy=A,A.src=u,A.listener=T,u.addEventListener)U||(P=oe),P===void 0&&(P=!1),u.addEventListener(p.toString(),A,P);else if(u.attachEvent)u.attachEvent(At(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function de(){function u(T){return p.call(u.src,u.listener,T)}const p=un;return u}function ge(u,p,T,A,P){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)ge(u,p[Y],T,A,P);else A=y(A)?!!A.capture:!!A,T=vl(T),u&&u[Se]?(u=u.i,Y=String(p).toString(),Y in u.g&&(p=u.g[Y],T=Re(p,T,A,P),T>-1&&(ve(p[T]),Array.prototype.splice.call(p,T,1),p.length==0&&(delete u.g[Y],u.h--)))):u&&(u=ma(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Re(p,T,A,P)),(T=u>-1?p[u]:null)&&dt(T))}function dt(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Se])Ne(p.i,u);else{var T=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(T,A,u.capture):p.detachEvent?p.detachEvent(At(T),A):p.addListener&&p.removeListener&&p.removeListener(A),(T=ma(p))?(Ne(T,u),T.h==0&&(T.src=null,p[G]=null)):ve(u)}}}function At(u){return u in he?he[u]:he[u]="on"+u}function un(u,p){if(u.da)u=!0;else{p=new le(p,this);const T=u.listener,A=u.ha||u.src;u.fa&&dt(u),u=T.call(A,p)}return u}function ma(u){return u=u[G],u instanceof me?u:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function vl(u){return typeof u=="function"?u:(u[_l]||(u[_l]=function(p){return u.handleEvent(p)}),u[_l])}function wt(){D.call(this),this.i=new me(this),this.M=this,this.G=null}b(wt,D),wt.prototype[Se]=!0,wt.prototype.removeEventListener=function(u,p,T,A){ge(this,u,p,T,A)};function Ut(u,p){var T,A=u.G;if(A)for(T=[];A;A=A.G)T.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new x(p,u);else if(p instanceof x)p.target=p.target||u;else{var P=p;p=new x(A,u),ce(p,P)}P=!0;let Y,oe;if(T)for(oe=T.length-1;oe>=0;oe--)Y=p.g=T[oe],P=gs(Y,A,!0,p)&&P;if(Y=p.g=u,P=gs(Y,A,!0,p)&&P,P=gs(Y,A,!1,p)&&P,T)for(oe=0;oe<T.length;oe++)Y=p.g=T[oe],P=gs(Y,A,!1,p)&&P}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const T=u.g[p];for(let A=0;A<T.length;A++)ve(T[A]);delete u.g[p],u.h--}}this.G=null},wt.prototype.J=function(u,p,T,A){return this.i.add(String(u),p,!1,T,A)},wt.prototype.K=function(u,p,T,A){return this.i.add(String(u),p,!0,T,A)};function gs(u,p,T,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let Y=0;Y<p.length;++Y){const oe=p[Y];if(oe&&!oe.da&&oe.capture==T){const Oe=oe.listener,Tt=oe.ha||oe.src;oe.fa&&Ne(u.i,oe),P=Oe.call(Tt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Hh(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function nc(u){u.g=Hh(()=>{u.g=null,u.i&&(u.i=!1,nc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class ln extends D{constructor(p,T){super(),this.m=p,this.l=T,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:nc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(u){D.call(this),this.h=u,this.g={}}b(ga,D);var Tl=[];function El(u){ke(u.g,function(p,T){this.g.hasOwnProperty(T)&&dt(p)},u),u.g={}}ga.prototype.N=function(){ga.Z.N.call(this),El(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=f.JSON.stringify,Fh=f.JSON.parse,ic=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function sc(){}function ac(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){x.call(this,"d")}b(Gt,x);function jn(){x.call(this,"c")}b(jn,x);var vt={},rc=null;function ar(){return rc=rc||new wt}vt.Ia="serverreachability";function lc(u){x.call(this,vt.Ia,u)}b(lc,x);function hi(u){const p=ar();Ut(p,new lc(p))}vt.STAT_EVENT="statevent";function pa(u,p){x.call(this,vt.STAT_EVENT,u),this.stat=p}b(pa,x);function Nt(u){const p=ar();Ut(p,new pa(p,u))}vt.Ja="timingevent";function di(u,p){x.call(this,vt.Ja,u),this.size=p}b(di,x);function fi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Gh(u,p,T,A,P,Y){u.info(function(){if(u.g)if(Y){var oe="",Oe=Y.split("&");for(let Xe=0;Xe<Oe.length;Xe++){var Tt=Oe[Xe].split("=");if(Tt.length>1){const ft=Tt[0];Tt=Tt[1];const kn=ft.split("_");oe=kn.length>=2&&kn[1]=="type"?oe+(ft+"="+Tt+"&"):oe+(ft+"=redacted&")}}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+T+`
`+oe})}function oc(u,p,T,A,P,Y,oe){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+T+`
`+Y+" "+oe})}function mi(u,p,T,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Qh(u,T)+(A?" "+A:"")})}function ya(u,p){u.info(function(){return"TIMEOUT: "+p})}Xn.prototype.info=function(){};function Qh(u,p){if(!u.g)return p;if(!p)return null;try{const Y=JSON.parse(p);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var T=Y[u];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return ps(Y)}catch{return p}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function va(){}b(va,sc),va.prototype.g=function(){return new XMLHttpRequest},bl=new va;function zi(u){return encodeURIComponent(String(u))}function cc(u){var p=1;u=u.split(":");const T=[];for(;p>0&&u.length;)T.push(u.shift()),p--;return u.length&&T.push(u.join(":")),T}function $n(u,p,T,A){this.j=u,this.i=p,this.l=T,this.S=A||1,this.V=new ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var It={},zt={};function gi(u,p,T){u.M=1,u.A=Ta(Rt(p)),u.u=T,u.R=!0,rr(u,null)}function rr(u,p){u.F=Date.now(),pi(u),u.B=Rt(u.A);var T=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ur(T.i,"t",A),u.C=0,T=u.j.L,u.h=new Jn,u.g=Ac(u.j,T?p:null,!u.u),u.P>0&&(u.O=new ln(g(u.Y,u,u.g),u.P)),p=u.V,T=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Tl[0]=P.toString()),P=Tl);for(let Y=0;Y<P.length;Y++){const oe=ye(T,P[Y],A||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),hi(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const p=this.O;p&&ei(u)==3?p.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=ei(this.g),Tt=this.g.ya(),Xe=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Oe!=4||Tt==7||(Tt==8||Xe<=0?hi(3):hi(2)),yi(this);var p=this.g.ca();this.X=p;var T=Yh(this);if(this.o=p==200,oc(this.i,this.v,this.B,this.l,this.S,Oe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Y=A;break t}}Y=null}if(u=Y)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Nt(12),En(this),On(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<T.length;)if(ft=hc(this,T),ft==zt){Oe==4&&(this.m=4,Nt(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==It){this.m=4,Nt(15),mi(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,ft,null),_i(this,ft);if(uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,T,"[Invalid Chunked Response]"),En(this),On(this);else if(T.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ll(oe),oe.P=!0,Nt(11))}}else mi(this.i,this.l,T,null),_i(this,T);Oe==4&&En(this),this.o&&!this.K&&(Oe==4?Tc(this.j,this):(this.o=!1,pi(this)))}else qi(this.g),p==400&&T.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),En(this),On(this)}}}catch{}finally{}};function Yh(u){if(!uc(u))return u.g.la();const p=Qt(u.g);if(p==="")return"";let T="";const A=p.length,P=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new f.TextDecoder}for(let Y=0;Y<A;Y++)u.h.h=!0,T+=u.h.i.decode(p[Y],{stream:!(P&&Y==A-1)});return p.length=0,u.h.g+=T,u.C=0,u.h.g}function uc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hc(u,p){var T=u.C,A=p.indexOf(`
`,T);return A==-1?zt:(T=Number(p.substring(T,A)),isNaN(T)?It:(A+=1,A+T>p.length?zt:(p=p.slice(A,A+T),u.C=A+T,p)))}$n.prototype.cancel=function(){this.K=!0,En(this)};function pi(u){u.T=Date.now()+u.H,lr(u,u.H)}function lr(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(g(u.aa,u),p)}function yi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ya(this.i,this.B),this.M!=2&&(hi(),Nt(17)),En(this),this.m=2,On(this)):lr(this,this.T-u)};function On(u){u.j.I==0||u.K||Tc(u.j,u)}function En(u){yi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,El(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function _i(u,p){try{var T=u.j;if(T.I!=0&&(T.g==u||Ti(T.h,u))){if(!u.L&&Ti(T.h,u)&&T.I==3){try{var A=T.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)gr(T),As(T);else break e;Ia(T),Nt(18)}}else T.xa=P[1],0<T.xa-T.K&&P[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=fi(g(T.Va,T),6e3));vi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ni(T,11)}else if((u.L||T.g==u)&&gr(T),!I(p))for(P=T.Ba.g.parse(p),p=0;p<P.length;p++){let Xe=P[p];const ft=Xe[0];if(!(ft<=T.K))if(T.K=ft,Xe=Xe[1],T.I==2)if(Xe[0]=="c"){T.M=Xe[1],T.ba=Xe[2];const kn=Xe[3];kn!=null&&(T.ka=kn,T.j.info("VER="+T.ka));const Ii=Xe[4];Ii!=null&&(T.za=Ii,T.j.info("SVER="+T.za));const ti=Xe[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const ni=u.g;if(ni){const Ca=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var Y=A.h;Y.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Nl(Y,Y.h),Y.h=null))}if(A.G){const pr=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;pr&&(A.wa=pr,We(A.J,A.G,pr))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var oe=u;if(A.na=bc(A,A.L?A.ba:null,A.W),oe.L){Il(A.h,oe);var Oe=oe,Tt=A.O;Tt&&(Oe.H=Tt),Oe.D&&(yi(Oe),pi(Oe)),A.g=oe}else _c(A);T.i.length>0&&wi(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Ni(T,7);else T.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ni(T,7):kl(T):Xe[0]!="noop"&&T.l&&T.l.qa(Xe),T.A=0)}}hi(4)}catch{}}var Ct=class{constructor(u,p){this.g=u,this.map=p}};function Al(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ti(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Nl(u,p){u.g?u.g.add(p):u.h=p}function Il(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Al.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const T of u.g.values())p=p.concat(T.G);return p}return k(u.i)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function or(u,p){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const A=u[T].indexOf("=");let P,Y=null;A>=0?(P=u[T].substring(0,A),Y=u[T].substring(A+1)):P=u[T],p(P,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Sn?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,Rl(this,pc(u.i)),this.m=u.m):u&&(p=String(u).match(dc))?(this.l=!1,Bt(this,p[1]||"",!0),this.o=Ei(p[2]||""),this.g=Ei(p[3]||"",!0),ys(this,p[4]),this.h=Ei(p[5]||"",!0),Rl(this,p[6]||"",!0),this.m=Ei(p[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}Sn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Ea(p,cr,!0),":");var T=this.g;return(T||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ea(p,cr,!0),"@"),u.push(zi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Ea(T,T.charAt(0)=="/"?xl:fc,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Ea(T,mc)),u.join("")},Sn.prototype.resolve=function(u){const p=Rt(this);let T=!!u.j;T?Bt(p,u.j):T=!!u.o,T?p.o=u.o:T=!!u.g,T?p.g=u.g:T=u.u!=null;var A=u.h;if(T)ys(p,u.u);else if(T=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const Y=[];for(let oe=0;oe<P.length;){const Oe=P[oe++];Oe=="."?A&&oe==P.length&&Y.push(""):Oe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&oe==P.length&&Y.push("")):(Y.push(Oe),A=!0)}A=Y.join("/")}else A=P}return T?p.h=A:T=u.i.toString()!=="",T?Rl(p,pc(u.i)):T=!!u.m,T&&(p.m=u.m),p};function Rt(u){return new Sn(u)}function Bt(u,p,T){u.j=T?Ei(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Rl(u,p,T){p instanceof vs?(u.i=p,hr(u.i,u.l)):(T||(p=Ea(p,_s)),u.i=new vs(p,u.l))}function We(u,p,T){u.i.set(p,T)}function Ta(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ea(u,p,T){return typeof u=="string"?(u=encodeURI(u).replace(p,hn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cr=/[#\/\?@]/g,fc=/[#\?:]/g,xl=/[#\?]/g,_s=/[#\?@]/g,mc=/#/g;function vs(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&or(u.i,function(p,T){u.add(decodeURIComponent(p.replace(/\+/g," ")),T)}))}s=vs.prototype,s.add=function(u,p){dn(this),this.i=null,u=Ts(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(p),this.h+=1,this};function gc(u,p){dn(u),p=Ts(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Dl(u,p){return dn(u),p=Ts(u,p),u.g.has(p)}s.forEach=function(u,p){dn(this),this.g.forEach(function(T,A){T.forEach(function(P){u.call(p,P,A,this)},this)},this)};function jl(u,p){dn(u);let T=[];if(typeof p=="string")Dl(u,p)&&(T=T.concat(u.g.get(Ts(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)T=T.concat(u[p]);return T}s.set=function(u,p){return dn(this),this.i=null,u=Ts(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=jl(this,u),u.length>0?String(u[0]):p):p};function ur(u,p,T){gc(u,p),T.length>0&&(u.i=null,u.g.set(Ts(u,p),k(T)),u.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var T=p[A];const P=zi(T);T=jl(this,T);for(let Y=0;Y<T.length;Y++){let oe=P;T[Y]!==""&&(oe+="="+zi(T[Y])),u.push(oe)}}return this.i=u.join("&")};function pc(u){const p=new vs;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Ts(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function hr(u,p){p&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(T,A){const P=A.toLowerCase();A!=P&&(gc(this,A),ur(this,P,T))},u)),u.j=p}function Zn(u,p){const T=new Xn;if(f.Image){const A=new Image;A.onload=E(Mn,T,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Mn,T,"TestLoadImage: error",!1,p,A),A.onabort=E(Mn,T,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Mn,T,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Ol(u,p){const T=new Xn,A=new AbortController,P=setTimeout(()=>{A.abort(),Mn(T,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(P),Y.ok?Mn(T,"TestPingServer: ok",!0,p):Mn(T,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Mn(T,"TestPingServer: error",!1,p)})}function Mn(u,p,T,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(T)}catch{}}function Es(){this.g=new ic}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Si,sc),Si.prototype.g=function(){return new Sa(this.i,this.h)};function Sa(u,p){wt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Sa,wt),s=Sa.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function dr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ss(this):Wn(this),this.readyState==3&&dr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},s.Na=function(u){this.g&&(this.response=u,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var T=p.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=p.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let p="";return ke(u,function(T,A){p+=A,p+=":",p+=T,p+=`\r
`}),p}function ba(u,p,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Vn(T),typeof u=="string"?T!=null&&zi(T):We(u,p,T))}function nt(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(nt,wt);var bi=/^https?$/i,Ml=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Y){Aa(this,Y);return}if(u=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)T.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())T.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Ml,p,void 0)>=0)||A||P||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of T)this.g.setRequestHeader(Y,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Aa(this,Y)}};function Aa(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Vl(u),Bi(u)}function Vl(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ut(this,"complete"),Ut(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},s.Xa=function(){wa(this)};function wa(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ut(u,"readystatechange"),ei(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var T;if(!(T=p)){var A;if(A=Y===0){let oe=String(u.D).match(dc)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!bi.test(oe?oe.toLowerCase():"")}T=A}if(T)Ut(u,"complete"),Ut(u,"success");else{u.o=6;try{var P=ei(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Vl(u)}}finally{Bi(u)}}}}function Bi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,p||Ut(u,"ready");try{T.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Fh(p)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const p={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var T=cc(u[A]);const P=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=p[P]||[];p[P]=Y,Y.push(T)}Qe(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,p,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||p}function bs(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(u,p,T,A){Nt(0),this.W=u,this.H=p||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=bc(this,null,this.W),wi(this)};function kl(u){if(fr(u),u.I==3){var p=u.V++,T=Rt(u.J);if(We(T,"SID",u.M),We(T,"RID",p),We(T,"TYPE","terminate"),Na(u,T),p=new $n(u,u.j,p),p.M=2,p.A=Ta(Rt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!T&&f.Image&&(new Image().src=p.A,T=!0),T||(p.g=Ac(p.j,null),p.g.ea(p.A)),p.F=Date.now(),pi(p)}Sc(u)}function As(u){u.g&&(Ll(u),u.g.cancel(),u.g=null)}function fr(u){As(u),u.v&&(f.clearTimeout(u.v),u.v=null),gr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function wi(u){if(!wl(u.h)&&!u.m){u.m=!0;var p=u.Ea;pe||N(),O||(pe(),O=!0),w.add(p,u),u.D=0}}function mr(u,p){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(g(u.Ea,u,p),Ec(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new $n(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ce(Y,this.U)):Y=this.U),this.u!==null||this.R||(P.J=Y,Y=null),this.S)e:{for(var p=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=T;break e}if(p===4096||T===this.i.length-1){p=T+1;break e}}p=1e3}else p=1e3;p=yc(this,P,p),T=Rt(this.J),We(T,"RID",u),We(T,"CVER",22),this.G&&We(T,"X-HTTP-Session-Id",this.G),Na(this,T),Y&&(this.R?p="headers="+zi(Vn(Y))+"&"+p:this.u&&ba(T,this.u,Y)),Nl(this.h,P),this.Ra&&We(T,"TYPE","init"),this.S?(We(T,"$req",p),We(T,"SID","null"),P.U=!0,gi(P,T,null)):gi(P,T,p),this.I=2}}else this.I==3&&(u?Ul(this,u):this.i.length==0||wl(this.h)||Ul(this))};function Ul(u,p){var T;p?T=p.l:T=u.V++;const A=Rt(u.J);We(A,"SID",u.M),We(A,"RID",T),We(A,"AID",u.K),Na(u,A),u.u&&u.o&&ba(A,u.u,u.o),T=new $n(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),p&&(u.i=p.G.concat(u.i)),p=yc(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Nl(u.h,T),gi(T,A,p)}function Na(u,p){u.H&&ke(u.H,function(T,A){We(p,A,T)}),u.l&&ke({},function(T,A){We(p,A,T)})}function yc(u,p,T){T=Math.min(u.i.length,T);const A=u.l?g(u.l.Ka,u.l,u):null;e:{var P=u.i;let Oe=-1;for(;;){const Tt=["count="+T];Oe==-1?T>0?(Oe=P[0].g,Tt.push("ofs="+Oe)):Oe=0:Tt.push("ofs="+Oe);let Xe=!0;for(let ft=0;ft<T;ft++){var Y=P[ft].g;const kn=P[ft].map;if(Y-=Oe,Y<0)Oe=Math.max(0,P[ft].g-100),Xe=!1;else try{Y="req"+Y+"_"||"";try{var oe=kn instanceof Map?kn:Object.entries(kn);for(const[Ii,ti]of oe){let ni=ti;y(ti)&&(ni=ps(ti)),Tt.push(Y+Ii+"="+encodeURIComponent(ni))}}catch(Ii){throw Tt.push(Y+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(kn)}}if(Xe){oe=Tt.join("&");break e}}oe=void 0}return u=u.i.splice(0,T),p.G=u,oe}function _c(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;pe||N(),O||(pe(),O=!0),w.add(p,u),u.A=0}}function Ia(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(g(u.Da,u),Ec(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(g(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),As(this),vc(this))};function Ll(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function vc(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Rt(u.na);We(p,"RID","rpc"),We(p,"SID",u.M),We(p,"AID",u.K),We(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(p,"TO",u.ia),We(p,"TYPE","xmlhttp"),Na(u,p),u.u&&u.o&&ba(p,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Ta(Rt(p)),T.u=null,T.R=!0,rr(T,u)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Ia(this),Nt(19))};function gr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Tc(u,p){var T=null;if(u.g==p){gr(u),Ll(u),u.g=null;var A=2}else if(Ti(u.h,p))T=p.G,Il(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){T=p.u?p.u.length:0,p=Date.now()-p.F;var P=u.D;A=ar(),Ut(A,new di(A,T)),wi(u)}else _c(u);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&mr(u,p)||A==2&&Ia(u)))switch(T&&T.length>0&&(p=u.h,p.i=p.i.concat(T)),P){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Ec(u,p){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*p}function Ni(u,p){if(u.j.info("Error code "+p),p==2){var T=g(u.bb,u),A=u.Ua;const P=!A;A=new Sn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(A,"https"),Ta(A),P?Zn(A.toString(),T):Ol(A.toString(),T)}else Nt(2);u.I=0,u.l&&u.l.pa(p),Sc(u),fr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Sc(u){if(u.I=0,u.ja=[],u.l){const p=Cl(u.h);(p.length!=0||u.i.length!=0)&&(H(u.ja,p),H(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function bc(u,p,T){var A=T instanceof Sn?Rt(T):new Sn(T);if(A.g!="")p&&(A.g=p+"."+A.g),ys(A,A.u);else{var P=f.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const Y=new Sn(null);A&&Bt(Y,A),p&&(Y.g=p),P&&ys(Y,P),T&&(Y.h=T),A=Y}return T=u.G,p=u.wa,T&&p&&We(A,T,p),We(A,"VER",u.ka),Na(u,A),A}function Ac(u,p,T){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new nt(new Si({ab:T})):new nt(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}s=wc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,p){return new on(u,p)};function on(u,p){wt.call(this),this.g=new bs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!I(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Hi(this)}b(on,wt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){kl(this.g)},on.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=ps(u),u=T);p.i.push(new Ct(p.Ya++,u)),p.I==3&&wi(p)},on.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,on.Z.N.call(this)};function Nc(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const T in p){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(Nc,Gt);function Ic(){jn.call(this),this.status=1}b(Ic,jn);function Hi(u){this.g=u}b(Hi,wc),Hi.prototype.ra=function(){Ut(this.g,"a")},Hi.prototype.qa=function(u){Ut(this.g,new Nc(u))},Hi.prototype.pa=function(u){Ut(this.g,new Ic)},Hi.prototype.oa=function(){Ut(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,KT=function(){return new ws},YT=function(){return ar()},QT=vt,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Fu=_a,Sl.COMPLETE="complete",GT=Sl,ac.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ao=ac,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,FT=nt}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Qv="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let fl="12.3.0";const Wa=new Lm("@firebase/firestore");function Qr(){return Wa.logLevel}function _e(s,...e){if(Wa.logLevel<=Be.DEBUG){const n=e.map(Jm);Wa.debug(`Firestore (${fl}): ${s}`,...n)}}function hs(s,...e){if(Wa.logLevel<=Be.ERROR){const n=e.map(Jm);Wa.error(`Firestore (${fl}): ${s}`,...n)}}function sl(s,...e){if(Wa.logLevel<=Be.WARN){const n=e.map(Jm);Wa.warn(`Firestore (${fl}): ${s}`,...n)}}function Jm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ie(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,XT(s,a,n)}function XT(s,e,n){let a=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw hs(a),new Error(a)}function Je(s,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,s||XT(e,o,a)}function je(s,e){return s}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,n(_)):Promise.resolve();let c=new os;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new os,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new os)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new $T(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class rI{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lI{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new rI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,_e("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=cI(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function qe(s,e){return s<e?-1:s>e?1:0}function _m(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return tm(o)===tm(c)?qe(o,c):tm(o)?1:-1}return qe(s.length,e.length)}const uI=55296,hI=57343;function tm(s){const e=s.charCodeAt(0);return e>=uI&&e<=hI}function al(s,e,n){return s.length===e.length&&s.every(((a,o)=>n(a,e[o])))}const Kv="__name__";class ji{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ie(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=ji.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return qe(e.length,n.length)}static compareSegments(e,n){const a=ji.isNumericId(e),o=ji.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ji.extractNumericId(e).compare(ji.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class ot extends ji{construct(e,n,a){return new ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const dI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ji{construct(e,n,a){return new Zt(e,n,a)}static isValidIdentifier(e){return dI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new Zt([Kv])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(a+=y,o++):(c(),o++)}if(c(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ot.fromString(e))}static fromName(e){return new Ae(ot.fromString(e).popFirst(5))}static empty(){return new Ae(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ot(e.slice()))}}function JT(s,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fI(s,e,n,a){if(e===!0&&a===!0)throw new fe(te.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Xv(s){if(!Ae.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $v(s){if(Ae.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ZT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Th(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ie(12329,{type:typeof s})}function Tn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(s);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function kt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Ko(s,e){if(!ZT(s))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const f=s[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const Jv=-62135596800,Zv=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Zv);return new ht(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ko(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:kt("string",ht._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ht(0,0))}static max(){return new xe(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function mI(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new ht(n+1,0):new ht(n,a));return new aa(o,Ae.empty(),e)}function gI(s){return new aa(s.readTime,s.key,ko)}class aa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new aa(xe.min(),Ae.empty(),ko)}static max(){return new aa(xe.max(),Ae.empty(),ko)}}function pI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(s.documentKey,e.documentKey),n!==0?n:qe(s.largestBatchId,e.largestBatchId))}const yI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==yI)throw s;_e("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,a)=>{n(e)}))}static reject(e){return new se(((n,a)=>{a(e)}))}static waitFor(e){return new se(((n,a)=>{let o=0,c=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&n()}),(_=>a(_)))})),f=!0,c===o&&n()}))}static or(e){let n=se.resolve(!1);for(const a of e)n=n.next((o=>o?se.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new se(((a,o)=>{const c=e.length,f=new Array(c);let y=0;for(let _=0;_<c;_++){const g=_;n(e[g]).next((E=>{f[g]=E,++y,y===c&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new se(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function vI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Wm=-1;function Sh(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function TI(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const WT="";function EI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Wv(e)),e=SI(s.get(n),e);return Wv(e)}function SI(s,e){let n=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case WT:n+="";break;default:n+=c}}return n}function Wv(s){return s+WT+""}function e0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ha(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function eE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new Jt(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Pt(Zt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tE("Invalid base64 string: "+c):c}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const bI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const n=bI.exec(s);if(Je(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function la(s){return typeof s=="string"?Wt.fromBase64String(s):Wt.fromUint8Array(s)}const nE="server_timestamp",iE="__type__",sE="__previous_value__",aE="__local_write_time__";function eg(s){return(s?.mapValue?.fields||{})[iE]?.stringValue===nE}function bh(s){const e=s.mapValue.fields[sE];return eg(e)?bh(e):e}function Uo(s){const e=ra(s.mapValue.fields[aE].timestampValue);return new ht(e.seconds,e.nanos)}class AI{constructor(e,n,a,o,c,f,y,_,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=E}}const ah="(default)";class Lo{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const rE="__type__",wI="__max__",Mu={mapValue:{}},lE="__vector__",rh="value";function oa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?eg(s)?4:II(s)?9007199254740991:NI(s)?10:11:Ie(28295,{value:s})}function Pi(s,e){if(s===e)return!0;const n=oa(s);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Uo(s).isEqual(Uo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=ra(o.timestampValue),y=ra(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return la(o.bytesValue).isEqual(la(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=bt(o.doubleValue),y=bt(c.doubleValue);return f===y?sh(f)===sh(y):isNaN(f)&&isNaN(y)}return!1})(s,e);case 9:return al(s.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(e0(f)!==e0(y))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(y[_]===void 0||!Pi(f[_],y[_])))return!1;return!0})(s,e);default:return Ie(52216,{left:s})}}function Po(s,e){return(s.values||[]).find((n=>Pi(n,e)))!==void 0}function rl(s,e){if(s===e)return 0;const n=oa(s),a=oa(e);if(n!==a)return qe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const y=bt(c.integerValue||c.doubleValue),_=bt(f.integerValue||f.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(s,e);case 3:return n0(s.timestampValue,e.timestampValue);case 4:return n0(Uo(s),Uo(e));case 5:return _m(s.stringValue,e.stringValue);case 6:return(function(c,f){const y=la(c),_=la(f);return y.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const y=c.split("/"),_=f.split("/");for(let g=0;g<y.length&&g<_.length;g++){const E=qe(y[g],_[g]);if(E!==0)return E}return qe(y.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const y=qe(bt(c.latitude),bt(f.latitude));return y!==0?y:qe(bt(c.longitude),bt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return i0(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const y=c.fields||{},_=f.fields||{},g=y[rh]?.arrayValue,E=_[rh]?.arrayValue,b=qe(g?.values?.length||0,E?.values?.length||0);return b!==0?b:i0(g,E)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Mu.mapValue&&f===Mu.mapValue)return 0;if(c===Mu.mapValue)return 1;if(f===Mu.mapValue)return-1;const y=c.fields||{},_=Object.keys(y),g=f.fields||{},E=Object.keys(g);_.sort(),E.sort();for(let b=0;b<_.length&&b<E.length;++b){const R=_m(_[b],E[b]);if(R!==0)return R;const k=rl(y[_[b]],g[E[b]]);if(k!==0)return k}return qe(_.length,E.length)})(s.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function n0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const n=ra(s),a=ra(e),o=qe(n.seconds,a.seconds);return o!==0?o:qe(n.nanos,a.nanos)}function i0(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=rl(n[o],a[o]);if(c)return c}return qe(n.length,a.length)}function ll(s){return vm(s)}function vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=ra(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return la(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ae.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=vm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${vm(n.fields[f])}`;return o+"}"})(s.mapValue):Ie(61005,{value:s})}function Gu(s){switch(oa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Gu(e):16;case 5:return 2*s.stringValue.length;case 6:return la(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Gu(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ha(a.fields,((c,f)=>{o+=c.length+Gu(f)})),o})(s.mapValue);default:throw Ie(13486,{value:s})}}function s0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Tm(s){return!!s&&"integerValue"in s}function tg(s){return!!s&&"arrayValue"in s}function a0(s){return!!s&&"nullValue"in s}function r0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qu(s){return!!s&&"mapValue"in s}function NI(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===lE}function xo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ha(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=xo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xo(s.arrayValue.values[n]);return e}return{...s}}function II(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===wI}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(n)}setAll(e){let n=Zt.emptyPath(),a={},o=[];e.forEach(((f,y)=>{if(!n.isImmediateParentOf(y)){const _=this.getFieldsMap(n);this.applyChanges(_,a,o),a={},o=[],n=y.popLast()}f?a[y.lastSegment()]=xo(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());Qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ha(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new vn(xo(this.value))}}function oE(s){const e=[];return ha(s.fields,((n,a)=>{const o=new Zt([n]);if(Qu(a)){const c=oE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new xn(e)}class sn{constructor(e,n,a,o,c,f,y){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(e){return new sn(e,0,xe.min(),xe.min(),xe.min(),vn.empty(),0)}static newFoundDocument(e,n,a,o){return new sn(e,1,n,xe.min(),a,o,0)}static newNoDocument(e,n){return new sn(e,2,n,xe.min(),xe.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,xe.min(),xe.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,n){this.position=e,this.inclusive=n}}function l0(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?a=Ae.comparator(Ae.fromName(f.referenceValue),n.key):a=rl(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function o0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Pi(s.position[n],e.position[n]))return!1;return!0}class zo{constructor(e,n="asc"){this.field=e,this.dir=n}}function CI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class cE{}class Vt extends cE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new xI(e,n,a):n==="array-contains"?new OI(e,a):n==="in"?new MI(e,a):n==="not-in"?new VI(e,a):n==="array-contains-any"?new kI(e,a):new Vt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new DI(e,a):new jI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends cE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return uE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function hE(s){return RI(s)&&uE(s)}function RI(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function Em(s){if(s instanceof Vt)return s.field.canonicalString()+s.op.toString()+ll(s.value);if(hE(s))return s.filters.map((e=>Em(e))).join(",");{const e=s.filters.map((n=>Em(n))).join(",");return`${s.op}(${e})`}}function dE(s,e){return s instanceof Vt?(function(a,o){return o instanceof Vt&&a.op===o.op&&a.field.isEqual(o.field)&&Pi(a.value,o.value)})(s,e):s instanceof ci?(function(a,o){return o instanceof ci&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,f,y)=>c&&dE(f,o.filters[y])),!0):!1})(s,e):void Ie(19439)}function fE(s){return s instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`})(s):s instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(fE).join(" ,")+"}"})(s):"Filter"}class xI extends Vt{constructor(e,n,a){super(e,n,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class DI extends Vt{constructor(e,n){super(e,"in",n),this.keys=mE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jI extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=mE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mE(s,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class OI extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&Po(n.arrayValue,this.value)}}class MI extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Po(this.value.arrayValue,n)}}class VI extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Po(this.value.arrayValue,n)}}class kI extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}class UI{constructor(e,n=null,a=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function c0(s,e=null,n=[],a=[],o=null,c=null,f=null){return new UI(s,e,n,a,o,c,f)}function ng(s){const e=je(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Em(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>ll(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>ll(a))).join(",")),e.Te=n}return e.Te}function ig(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!CI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!dE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!o0(s.startAt,e.startAt)&&o0(s.endAt,e.endAt)}function Sm(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class pl{constructor(e,n=null,a=[],o=[],c=null,f="F",y=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LI(s,e,n,a,o,c,f,y){return new pl(s,e,n,a,o,c,f,y)}function Ah(s){return new pl(s)}function u0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gE(s){return s.collectionGroup!==null}function Do(s){const e=je(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new Pt(Zt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(y=y.add(g.field))}))})),y})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zo(c,a))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new zo(Zt.keyField(),a))}return e.Ie}function Mi(s){const e=je(s);return e.Ee||(e.Ee=PI(e,Do(s))),e.Ee}function PI(s,e){if(s.limitType==="F")return c0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new zo(o.field,c)}));const n=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return c0(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function bm(s,e){const n=s.filters.concat([e]);return new pl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,e,n){return new pl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function wh(s,e){return ig(Mi(s),Mi(e))&&s.limitType===e.limitType}function pE(s){return`${ng(Mi(s))}|lt:${s.limitType}`}function Yr(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>fE(o))).join(", ")}]`),Sh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>ll(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>ll(o))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ae.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Do(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(f,y,_){const g=l0(f,y,_);return f.inclusive?g<=0:g<0})(a.startAt,Do(a),o)||a.endAt&&!(function(f,y,_){const g=l0(f,y,_);return f.inclusive?g>=0:g>0})(a.endAt,Do(a),o))})(s,e)}function zI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yE(s){return(e,n)=>{let a=!1;for(const o of Do(s)){const c=BI(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function BI(s,e,n){const a=s.field.isKeyField()?Ae.comparator(e.key,n.key):(function(c,f,y){const _=f.data.field(c),g=y.data.field(c);return _!==null&&g!==null?rl(_,g):Ie(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:s.dir})}}class nr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}const qI=new gt(Ae.comparator);function ds(){return qI}const _E=new gt(Ae.comparator);function wo(...s){let e=_E;for(const n of s)e=e.insert(n.key,n);return e}function vE(s){let e=_E;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Qa(){return jo()}function TE(){return jo()}function jo(){return new nr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const HI=new gt(Ae.comparator),FI=new Pt(Ae.comparator);function He(...s){let e=FI;for(const n of s)e=e.add(n);return e}const GI=new Pt(qe);function QI(){return GI}function sg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function EE(s){return{integerValue:""+s}}function YI(s,e){return TI(e)?EE(e):sg(s,e)}class Ih{constructor(){this._=void 0}}function KI(s,e,n){return s instanceof oh?(function(o,c){const f={fields:{[iE]:{stringValue:nE},[aE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&eg(c)&&(c=bh(c)),c&&(f.fields[sE]=c),{mapValue:f}})(n,e):s instanceof Bo?bE(s,e):s instanceof qo?AE(s,e):(function(o,c){const f=SE(o,c),y=h0(f)+h0(o.Ae);return Tm(f)&&Tm(o.Ae)?EE(y):sg(o.serializer,y)})(s,e)}function XI(s,e,n){return s instanceof Bo?bE(s,e):s instanceof qo?AE(s,e):n}function SE(s,e){return s instanceof ch?(function(a){return Tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends Ih{}class Bo extends Ih{constructor(e){super(),this.elements=e}}function bE(s,e){const n=wE(e);for(const a of s.elements)n.some((o=>Pi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class qo extends Ih{constructor(e){super(),this.elements=e}}function AE(s,e){let n=wE(e);for(const a of s.elements)n=n.filter((o=>!Pi(o,a)));return{arrayValue:{values:n}}}class ch extends Ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h0(s){return bt(s.integerValue||s.doubleValue)}function wE(s){return tg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function $I(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Bo&&o instanceof Bo||a instanceof qo&&o instanceof qo?al(a.elements,o.elements,Pi):a instanceof ch&&o instanceof ch?Pi(a.Ae,o.Ae):a instanceof oh&&o instanceof oh})(s.transform,e.transform)}class JI{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function NE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ag(s.key,Qn.none()):new Xo(s.key,s.data,Qn.none());{const n=s.data,a=vn.empty();let o=new Pt(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new da(s.key,a,new xn(o.toArray()),Qn.none())}}function ZI(s,e,n){s instanceof Xo?(function(o,c,f){const y=o.value.clone(),_=f0(o.fieldTransforms,c,f.transformResults);y.setAll(_),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,n):s instanceof da?(function(o,c,f){if(!Yu(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=f0(o.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(IE(o)),_.setAll(y),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Oo(s,e,n,a){return s instanceof Xo?(function(c,f,y,_){if(!Yu(c.precondition,f))return y;const g=c.value.clone(),E=m0(c.fieldTransforms,_,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,e,n,a):s instanceof da?(function(c,f,y,_){if(!Yu(c.precondition,f))return y;const g=m0(c.fieldTransforms,_,f),E=f.data;return E.setAll(IE(c)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,n,a):(function(c,f,y){return Yu(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(s,e,n)}function WI(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=SE(a.transform,o||null);c!=null&&(n===null&&(n=vn.empty()),n.set(a.field,c))}return n||null}function d0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&al(a,o,((c,f)=>$I(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xo extends Ch{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class da extends Ch{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function f0(s,e,n){const a=new Map;Je(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,y=e.data.field(c.field);a.set(c.field,XI(f,y,n[o]))}return a}function m0(s,e,n){const a=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);a.set(o.field,KI(c,f,e))}return a}class ag extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eC extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&ZI(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Oo(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Oo(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=TE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=n.has(o.key)?null:y;const _=NE(f,y);_!==null&&a.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,((n,a)=>d0(n,a)))&&al(this.baseMutations,e.baseMutations,((n,a)=>d0(n,a)))}}class rg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return HI})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new rg(e,n,a,o)}}class nC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,Ge;function sC(s){switch(s){case te.OK:return Ie(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie(15467,{code:s})}}function CE(s){if(s===void 0)return hs("GRPC error has no .code"),te.UNKNOWN;switch(s){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return Ie(39323,{code:s})}}(Ge=Mt||(Mt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function aC(){return new TextEncoder}const rC=new ia([4294967295,4294967295],0);function g0(s){const e=aC().encode(s),n=new HT;return n.update(e),new Uint8Array(n.digest())}function p0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ia([n,a],0),new ia([o,c],0)]}class lg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(a<0)throw new No(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ia.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ia.fromNumber(a)));return o.compare(rC)===1&&(o=new ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g0(e),[a,o]=p0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new lg(c,o,n);return a.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const n=g0(e),[a,o]=p0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Rh(xe.min(),o,new gt(qe),ds(),He())}}class $o{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new $o(a,n,He(),He(),He())}}class Ku{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class RE{constructor(e,n){this.targetId=e,this.Ce=n}}class xE{constructor(e,n,a=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),a=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ie(38017,{changeType:c})}})),new $o(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=_0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Vu(),this.He=Vu(),this.Ye=new gt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Sm(c))if(a===0){const f=new Ae(c.path);this.et(n,f,sn.newNoDocument(f,xe.min()))}else Je(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const y=this.ut(e),_=y?this.ct(y,e,f):1;if(_!==0){this.it(n);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let f,y;try{f=la(a).toUint8Array()}catch(_){if(_ instanceof tE)return sl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new lg(f,o,c)}catch(_){return sl(_ instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&Sm(y.target)){const _=new Ae(y.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,sn.newNoDocument(_,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let a=He();this.He.forEach(((c,f)=>{let y=!0;f.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Rh(e,n,this.Ye,this.je,a);return this.je=ds(),this.Je=Vu(),this.He=Vu(),this.Ye=new gt(qe),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new y0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vu(){return new gt(Ae.comparator)}function _0(){return new gt(Ae.comparator)}const oC={asc:"ASCENDING",desc:"DESCENDING"},cC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uC={and:"AND",or:"OR"};class hC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function dC(s,e){return uh(s,e.toTimestamp())}function Vi(s){return Je(!!s,49232),xe.fromTimestamp((function(n){const a=ra(n);return new ht(a.seconds,a.nanos)})(s))}function og(s,e){return Nm(s,e).canonicalString()}function Nm(s,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function jE(s){const e=ot.fromString(s);return Je(UE(e),10190,{key:e.toString()}),e}function Im(s,e){return og(s.databaseId,e.path)}function nm(s,e){const n=jE(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ae(ME(n))}function OE(s,e){return og(s.databaseId,e)}function fC(s){const e=jE(s);return e.length===4?ot.emptyPath():ME(e)}function Cm(s){return new ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function v0(s,e,n){return{name:Im(s,e),fields:n.value.mapValue.fields}}function mC(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(Je(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(g){const E=g.code===void 0?te.UNKNOWN:CE(g.code);return new fe(E,g.message||"")})(f);n=new xE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=nm(s,a.document.name),c=Vi(a.document.updateTime),f=a.document.createTime?Vi(a.document.createTime):xe.min(),y=new vn({mapValue:{fields:a.document.fields}}),_=sn.newFoundDocument(o,c,f,y),g=a.targetIds||[],E=a.removedTargetIds||[];n=new Ku(g,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=nm(s,a.document),c=a.readTime?Vi(a.readTime):xe.min(),f=sn.newNoDocument(o,c),y=a.removedTargetIds||[];n=new Ku([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=nm(s,a.document),c=a.removedTargetIds||[];n=new Ku([],c,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new iC(o,c),y=a.targetId;n=new RE(y,f)}}return n}function gC(s,e){let n;if(e instanceof Xo)n={update:v0(s,e.key,e.value)};else if(e instanceof ag)n={delete:Im(s,e.key)};else if(e instanceof da)n={update:v0(s,e.key,e.data),updateMask:AC(e.fieldMask)};else{if(!(e instanceof eC))return Ie(16599,{Vt:e.type});n={verify:Im(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const y=f.transform;if(y instanceof oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Bo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof qo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ch)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw Ie(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:dC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)})(s,e.precondition)),n}function pC(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?Vi(o.updateTime):Vi(c);return f.isEqual(xe.min())&&(f=Vi(c)),new JI(f,o.transformResults||[])})(n,e)))):[]}function yC(s,e){return{documents:[OE(s,e.path)]}}function _C(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=OE(s,o);const c=(function(g){if(g.length!==0)return kE(ci.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:Kr(R.field),direction:EC(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const y=wm(s,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function vC(s){let e=fC(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Je(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(b){const R=VE(b);return R instanceof ci&&hE(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(H){return new zo(Xr(H.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let y=null;n.limit&&(y=(function(b){let R;return R=typeof b=="object"?b.value:b,Sh(R)?null:R})(n.limit));let _=null;n.startAt&&(_=(function(b){const R=!!b.before,k=b.values||[];return new lh(k,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const R=!b.before,k=b.values||[];return new lh(k,R)})(n.endAt)),LI(e,o,f,c,y,"F",_,g)}function TC(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Xr(n.unaryFilter.field);return Vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Xr(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xr(n.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xr(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Vt.create(Xr(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((a=>VE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(s):Ie(30097,{filter:s})}function EC(s){return oC[s]}function SC(s){return cC[s]}function bC(s){return uC[s]}function Kr(s){return{fieldPath:s.canonicalString()}}function Xr(s){return Zt.fromServerFormat(s.fieldPath)}function kE(s){return s instanceof Vt?(function(n){if(n.op==="=="){if(r0(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NAN"}};if(a0(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r0(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NOT_NAN"}};if(a0(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(n.field),op:SC(n.op),value:n.value}}})(s):s instanceof ci?(function(n){const a=n.getFilters().map((o=>kE(o)));return a.length===1?a[0]:{compositeFilter:{op:bC(n.op),filters:a}}})(s):Ie(54877,{filter:s})}function AC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ws{constructor(e,n,a,o,c=xe.min(),f=xe.min(),y=Wt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wC{constructor(e){this.yt=e}}function NC(s){const e=vC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(e,e.limit,"L"):e}class IC{constructor(){this.Cn=new CC}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(aa.min())}updateCollectionGroup(e,n,a){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class CC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Pt(ot.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pt(ot.comparator)).toArray()}}const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LE=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(LE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const E0="LruGarbageCollector",RC=1048576;function S0([s,e],[n,a]){const o=qe(s,n);return o===0?qe(e,a):o}class xC{constructor(e){this.Ir=e,this.buffer=new Pt(S0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();S0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(E0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?_e(E0,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)}))}}class jC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Eh.ce);const a=new xC(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(T0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,f,y,_,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,y=Date.now(),this.removeTargets(e,a,n)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(g=Date.now(),Qr()<=Be.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(_-y)+`ms
	Removed ${b} documents in `+(g-_)+`ms
Total Duration: ${g-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function OC(s,e){return new jC(s,e)}class MC{constructor(){this.changes=new nr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?se.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Oo(a.mutation,o,xn.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=He()){const o=Qa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let f=wo();return c.forEach(((y,_)=>{f=f.insert(y,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,He())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,y)=>{n.set(f,y)}))}))}computeViews(e,n,a,o){let c=ds();const f=jo(),y=(function(){return jo()})();return n.forEach(((_,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof da)?c=c.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Oo(E.mutation,g,E.mutation.getFieldMask(),ht.now())):f.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>y.set(g,new VC(E,f.get(g)??null)))),y)))}recalculateAndSaveOverlays(e,n){const a=jo();let o=new gt(((f,y)=>f-y)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const y of f)y.keys().forEach((_=>{const g=n.get(_);if(g===null)return;let E=a.get(_)||xn.empty();E=y.applyToLocalView(g,E),a.set(_,E);const b=(o.get(y.batchId)||He()).add(_);o=o.insert(y.batchId,b)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),g=_.key,E=_.value,b=TE();E.forEach((R=>{if(!c.has(R)){const k=NE(n.get(R),a.get(R));k!==null&&b.set(R,k),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return se.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):se.resolve(Qa());let y=ko,_=c;return f.next((g=>se.forEach(g,((E,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),c.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{_=_.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,_,g,He()))).next((E=>({batchId:y,changes:vE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((a=>{let o=wo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let f=wo();return this.indexManager.getCollectionParents(e,c).next((y=>se.forEach(y,(_=>{const g=(function(b,R){return new pl(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((f=>{c.forEach(((_,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))}));let y=wo();return f.forEach(((_,g)=>{const E=c.get(_);E!==void 0&&Oo(E.mutation,g,xn.empty(),ht.now()),Nh(n,g)&&(y=y.insert(_,g))})),y}))}}class UC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:NC(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),se.resolve()}}class LC{constructor(){this.overlays=new gt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Qa();return se.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),se.resolve()}getOverlaysForCollection(e,n,a){const o=Qa(),c=n.length+1,f=new Ae(n.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const _=y.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new gt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=c.get(g.largestBatchId);E===null&&(E=Qa(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const y=Qa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,E)=>y.set(g,E))),!(y.size()>=o)););return se.resolve(y)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new nC(n,a));let c=this.qr.get(n);c===void 0&&(c=He(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}class PC{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class cg{constructor(){this.Qr=new Pt(Ht.$r),this.Ur=new Pt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Ht(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Ae(new ot([])),a=new Ht(n,e),o=new Ht(n,e+1),c=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new ot([])),a=new Ht(n,e),o=new Ht(n,e+1);let c=He();return this.Ur.forEachInRange([a,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Ht(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}class zC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ht.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tC(c,n,a,o);this.mutationQueue.push(f);for(const y of o)this.Zr=this.Zr.add(new Ht(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(f=>{const y=this.Xr(f.Yr);c.push(y)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Pt(qe);return n.forEach((o=>{const c=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(y=>{a=a.add(y.Yr)}))})),se.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;Ae.isDocumentKey(c)||(c=c.child(""));const f=new Ht(new Ae(c),0);let y=new Pt(qe);return this.Zr.forEachWhile((_=>{const g=_.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(y=y.add(_.Yr)),!0)}),f),se.resolve(this.ti(y))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return se.forEach(n.mutations,(o=>{const c=new Ht(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Ht(n,0),o=this.Zr.firstAfterOrEqual(a);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BC{constructor(e){this.ri=e,this.docs=(function(){return new gt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return se.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=ds();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():sn.newInvalidDocument(o))})),se.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=ds();const f=n.path,y=new Ae(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:g,value:{document:E}}=_.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||pI(gI(E),a)<=0||(o.has(E.key)||Nh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,a,o){Ie(9500)}ii(e,n){return se.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new qC(this)}getSize(e){return se.resolve(this.size)}}class qC extends MC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class HC{constructor(e){this.persistence=e,this.si=new nr((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach(((f,y)=>{y.sequenceNumber<=n&&a.get(y.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return se.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),se.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return se.resolve(a)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class PE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new PC,this.referenceDelegate=e(this),this.Pi=new HC(this),this.indexManager=new IC,this.remoteDocumentCache=(function(o){return new BC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new wC(n),this.Ii=new UC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new zC(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){_e("MemoryPersistence","Starting transaction:",e);const o=new FC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class FC extends _I{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new ug(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),se.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(a=>{const o=Ae.fromPath(a);return this.gi(e,o).next((c=>{c||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.pi=new nr((a=>EI(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=OC(this,n)}static mi(e,n){return new hh(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?se.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((y=>{y||(a++,c.removeEntry(f,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gu(e.data.value)),n}br(e,n,a){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return se.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=He(),o=He();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(e,n.fromCache,a,o)}}class GC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kA()?8:vI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new GC;return this.Ss(e,n,f).next((y=>{if(c.result=y,this.Vs)return this.bs(e,n,f,y.size)}))})).next((()=>c.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Qr()<=Be.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Yr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Qr()<=Be.DEBUG&&_e("QueryEngine","Query:",Yr(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Qr()<=Be.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Yr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):se.resolve())}ys(e,n){if(u0(n))return se.resolve(null);let a=Mi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),a=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=He(...c);return this.ps.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,a).next((_=>{const g=this.Ds(n,y);return this.Cs(n,g,f,_.readTime)?this.ys(e,Am(n,null,"F")):this.vs(e,g,n,_)}))))})))))}ws(e,n,a,o){return u0(n)||o.isEqual(xe.min())?se.resolve(null):this.ps.getDocuments(e,a).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,a,o)?se.resolve(null):(Qr()<=Be.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yr(n)),this.vs(e,f,n,mI(o,ko)).next((y=>y)))}))}Ds(e,n){let a=new Pt(yE(e));return n.forEach(((o,c)=>{Nh(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return Qr()<=Be.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Yr(n)),this.ps.getDocumentsMatchingQuery(e,n,aa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const dg="LocalStore",YC=3e8;class KC{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new gt(qe),this.xs=new nr((c=>ng(c)),ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function XC(s,e,n,a){return new KC(s,e,n,a)}async function zE(s,e){const n=je(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],y=[];let _=He();for(const g of o){f.push(g.batchId);for(const E of g.mutations)_=_.add(E.key)}for(const g of c){y.push(g.batchId);for(const E of g.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(a,_).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:y})))}))}))}function $C(s,e){const n=je(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,g,E){const b=g.batch,R=b.keys();let k=se.resolve();return R.forEach((H=>{k=k.next((()=>E.getEntry(_,H))).next((J=>{const X=g.docVersions.get(H);Je(X!==null,48541),J.version.compareTo(X)<0&&(b.applyToRemoteDocument(J,g),J.isValidDocument()&&(J.setReadTime(g.commitVersion),E.addEntry(J)))}))})),k.next((()=>y.mutationQueue.removeMutationBatch(_,b)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let _=He();for(let g=0;g<y.mutationResults.length;++g)y.mutationResults[g].transformResults.length>0&&(_=_.add(y.batch.mutations[g].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function BE(s){const e=je(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JC(s,e){const n=je(s),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const y=[];e.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;y.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,b))));let k=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Wt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,a)),o=o.insert(b,k),(function(J,X,z){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=YC?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(R,k,E)&&y.push(n.Pi.updateTargetData(c,k))}));let _=ds(),g=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),y.push(ZC(c,f,e.documentUpdates).next((E=>{_=E.ks,g=E.qs}))),!a.isEqual(xe.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(E)}return se.waitFor(y).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,g))).next((()=>_))})).then((c=>(n.Ms=o,c)))}function ZC(s,e,n){let a=He(),o=He();return n.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let f=ds();return n.forEach(((y,_)=>{const g=c.get(y);_.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(y,_.readTime),f=f.insert(y,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),f=f.insert(y,_)):_e(dg,"Ignoring outdated watch update for ",y,". Current version:",g.version," Watch version:",_.version)})),{ks:f,qs:o}}))}function WC(s,e){const n=je(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function eR(s,e){const n=je(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((c=>c?(o=c,se.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new Ws(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Rm(s,e,n){const a=je(s),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!gl(f))throw f;_e(dg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function b0(s,e,n){const a=je(s);let o=xe.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,g,E){const b=je(_),R=b.xs.get(E);return R!==void 0?se.resolve(b.Ms.get(R)):b.Pi.getTargetData(g,E)})(a,f,Mi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,y.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?c:He()))).next((y=>(tR(a,zI(e),y),{documents:y,Qs:c})))))}function tR(s,e,n){let a=s.Os.get(e)||xe.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class A0{constructor(){this.activeTargetIds=QI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.Mo=new A0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iR{Oo(e){}shutdown(){}}const w0="ConnectivityMonitor";class N0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(w0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ku=null;function xm(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}const im="RestConnection",sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const f=xm(),y=this.zo(e,n.toUriEncodedString());_e(im,`Sending RPC '${e}' ${f}:`,y,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:g}=new URL(y),E=ul(g);return this.Jo(e,y,_,a,E).then((b=>(_e(im,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw sl(im,`RPC '${e}' ${f} failed with error: `,b,"url: ",y,"request:",a),b}))}Ho(e,n,a,o,c,f){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const a=sR[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class rR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class lR extends aR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const f=xm();return new Promise(((y,_)=>{const g=new FT;g.setWithCredentials(!0),g.listenOnce(GT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fu.NO_ERROR:const b=g.getResponseJson();_e(tn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),y(b);break;case Fu.TIMEOUT:_e(tn,`RPC '${e}' ${f} timed out`),_(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const R=g.getStatus();if(_e(tn,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const J=(function(z){const ie=z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ie)>=0?ie:te.UNKNOWN})(H.status);_(new fe(J,H.message))}else _(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(tn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);_e(tn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=KT(),y=YT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(_.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,a),_.encodeInitMessageHeaders=!0;const E=c.join("");_e(tn,`Creating RPC '${e}' stream ${o}: ${E}`,_);const b=f.createWebChannel(E,_);this.I_(b);let R=!1,k=!1;const H=new rR({Yo:X=>{k?_e(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(R||(_e(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),_e(tn,`RPC '${e}' stream ${o} sending:`,X),b.send(X))},Zo:()=>b.close()}),J=(X,z,ie)=>{X.listen(z,($=>{try{ie($)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return J(b,Ao.EventType.OPEN,(()=>{k||(_e(tn,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),J(b,Ao.EventType.CLOSE,(()=>{k||(k=!0,_e(tn,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(b))})),J(b,Ao.EventType.ERROR,(X=>{k||(k=!0,sl(tn,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),H.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),J(b,Ao.EventType.MESSAGE,(X=>{if(!k){const z=X.data[0];Je(!!z,16349);const ie=z,$=ie?.error||ie[0]?.error;if($){_e(tn,`RPC '${e}' stream ${o} received error:`,$);const ae=$.status;let pe=(function(N){const C=Mt[N];if(C!==void 0)return CE(C)})(ae),O=$.message;pe===void 0&&(pe=te.INTERNAL,O="Unknown error status: "+ae+" with message "+$.message),k=!0,H.a_(new fe(pe,O)),b.close()}else _e(tn,`RPC '${e}' stream ${o} received:`,z),H.u_(z)}})),J(y,QT.STAT_EVENT,(X=>{X.stat===ym.PROXY?_e(tn,`RPC '${e}' stream ${o} detected buffering proxy`):X.stat===ym.NOPROXY&&_e(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sm(){return typeof document<"u"?document:null}function xh(s){return new hC(s,!0)}class qE{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const I0="PersistentStream";class HE{constructor(e,n,a,o,c,f,y,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oR extends HE{constructor(e,n,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Vi(f.readTime):xe.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Cm(this.serializer),n.addTarget=(function(c,f){let y;const _=f.target;if(y=Sm(_)?{documents:yC(c,_)}:{query:_C(c,_).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=DE(c,f.resumeToken);const g=wm(c,f.expectedCount);g!==null&&(y.expectedCount=g)}else if(f.snapshotVersion.compareTo(xe.min())>0){y.readTime=uh(c,f.snapshotVersion.toTimestamp());const g=wm(c,f.expectedCount);g!==null&&(y.expectedCount=g)}return y})(this.serializer,e);const a=TC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.q_(n)}}class cR extends HE{constructor(e,n,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pC(e.writeResults,e.commitTime),a=Vi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>gC(this.serializer,a)))};this.q_(n)}}class uR{}class hR extends uR{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Nm(n,a),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.Ho(e,Nm(n,a),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const er="RemoteStore";class fR{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{ir(this)&&(_e(er,"Restarting streams for network reachability change."),await(async function(_){const g=je(_);g.Ea.add(4),await Jo(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Dh(g)})(this))}))})),this.Ra=new dR(a,o)}}async function Dh(s){if(ir(s))for(const e of s.da)await e(!0)}async function Jo(s){for(const e of s.da)await e(!1)}function FE(s,e){const n=je(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?gg(n):yl(n).O_()&&mg(n,e))}function fg(s,e){const n=je(s),a=yl(n);n.Ia.delete(e),a.O_()&&GE(n,e),n.Ia.size===0&&(a.O_()?a.L_():ir(n)&&n.Ra.set("Unknown"))}function mg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(s).Y_(e)}function GE(s,e){s.Va.Ue(e),yl(s).Z_(e)}function gg(s){s.Va=new lC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yl(s).start(),s.Ra.ua()}function pg(s){return ir(s)&&!yl(s).x_()&&s.Ia.size>0}function ir(s){return je(s).Ea.size===0}function QE(s){s.Va=void 0}async function mR(s){s.Ra.set("Online")}async function gR(s){s.Ia.forEach(((e,n)=>{mg(s,e)}))}async function pR(s,e){QE(s),pg(s)?(s.Ra.ha(e),gg(s)):s.Ra.set("Unknown")}async function yR(s,e,n){if(s.Ra.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(a){_e(er,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await dh(s,a)}else if(e instanceof Ku?s.Va.Ze(e):e instanceof RE?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const a=await BE(s.localStore);n.compareTo(a)>=0&&await(function(c,f){const y=c.Va.Tt(f);return y.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(_.resumeToken,f))}})),y.targetMismatches.forEach(((_,g)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),GE(c,_);const b=new Ws(E.target,_,g,E.sequenceNumber);mg(c,b)})),c.remoteSyncer.applyRemoteEvent(y)})(s,n)}catch(a){_e(er,"Failed to raise snapshot:",a),await dh(s,a)}}async function dh(s,e,n){if(!gl(e))throw e;s.Ea.add(1),await Jo(s),s.Ra.set("Offline"),n||(n=()=>BE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{_e(er,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Dh(s)}))}function YE(s,e){return e().catch((n=>dh(s,n,e)))}async function jh(s){const e=je(s),n=ca(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;_R(e);)try{const o=await WC(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,vR(e,o)}catch(o){await dh(e,o)}KE(e)&&XE(e)}function _R(s){return ir(s)&&s.Ta.length<10}function vR(s,e){s.Ta.push(e);const n=ca(s);n.O_()&&n.X_&&n.ea(e.mutations)}function KE(s){return ir(s)&&!ca(s).x_()&&s.Ta.length>0}function XE(s){ca(s).start()}async function TR(s){ca(s).ra()}async function ER(s){const e=ca(s);for(const n of s.Ta)e.ea(n.mutations)}async function SR(s,e,n){const a=s.Ta.shift(),o=rg.from(a,e,n);await YE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await jh(s)}async function bR(s,e){e&&ca(s).X_&&await(async function(a,o){if((function(f){return sC(f)&&f!==te.ABORTED})(o.code)){const c=a.Ta.shift();ca(a).B_(),await YE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(a)}})(s,e),KE(s)&&XE(s)}async function C0(s,e){const n=je(s);n.asyncQueue.verifyOperationInProgress(),_e(er,"RemoteStore received new credentials");const a=ir(n);n.Ea.add(3),await Jo(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dh(n)}async function AR(s,e){const n=je(s);e?(n.Ea.delete(2),await Dh(n)):e||(n.Ea.add(2),await Jo(n),n.Ra.set("Unknown"))}function yl(s){return s.ma||(s.ma=(function(n,a,o){const c=je(n);return c.sa(),new oR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:mR.bind(null,s),t_:gR.bind(null,s),r_:pR.bind(null,s),H_:yR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),QE(s))}))),s.ma}function ca(s){return s.fa||(s.fa=(function(n,a,o){const c=je(n);return c.sa(),new cR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:TR.bind(null,s),r_:bR.bind(null,s),ta:ER.bind(null,s),na:SR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(_e(er,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const f=Date.now()+a,y=new yg(e,n,f,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,e){if(hs("AsyncQueue",`${e}: ${s}`),gl(s))return new fe(te.UNAVAILABLE,`${e}: ${s}`);throw s}class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ae.comparator(n.key,a.key):(n,a)=>Ae.comparator(n.key,a.key),this.keyedMap=wo(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new el;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class R0{constructor(){this.ga=new gt(Ae.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class cl{constructor(e,n,a,o,c,f,y,_,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,c){const f=[];return n.forEach((y=>{f.push({type:0,doc:y})})),new cl(e,n,el.emptySet(n),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class wR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NR{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=je(n),c=o.queries;o.queries=x0(),c.forEach(((f,y)=>{for(const _ of y.Sa)_.onError(a)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function x0(){return new nr((s=>pE(s)),wh)}async function vg(s,e){const n=je(s);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new wR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const y=_g(f,`Initialization of query '${Yr(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Eg(n)}async function Tg(s,e){const n=je(s),a=e.query;let o=3;const c=n.queries.get(a);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function IR(s,e){const n=je(s);let a=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const y of f.Sa)y.Fa(o)&&(a=!0);f.wa=o}}a&&Eg(n)}function CR(s,e,n){const a=je(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function Eg(s){s.Ca.forEach((e=>{e.next()}))}var Dm,D0;(D0=Dm||(Dm={})).Ma="default",D0.Cache="cache";class Sg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new cl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dm.Cache}}class $E{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class RR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=yE(e),this.tu=new el(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new R0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const R=o.get(E),k=Nh(this.query,b)?b:null,H=!!R&&this.mutatedKeys.has(R.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;R&&k?R.data.isEqual(k.data)?H!==J&&(a.track({type:3,doc:k}),X=!0):this.su(R,k)||(a.track({type:2,doc:k}),X=!0,(_&&this.eu(k,_)>0||g&&this.eu(k,g)<0)&&(y=!0)):!R&&k?(a.track({type:0,doc:k}),X=!0):R&&!k&&(a.track({type:1,doc:R}),X=!0,(_||g)&&(y=!0)),X&&(k?(f=f.add(k),c=J?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:y,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(k,H){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:X})}};return J(k)-J(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),o=o??!1;const y=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,g=_!==this.Za;return this.Za=_,f.length!==0||g?{snapshot:new cl(this.query,e.tu,c,f,e.mutatedKeys,_===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new JE(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new $E(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class xR{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class DR{constructor(e){this.key=e,this.hu=!1}}class jR{constructor(e,n,a,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new nr((y=>pE(y)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Ae.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OR(s,e,n=!0){const a=iS(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ZE(a,e,n,!0),o}async function MR(s,e){const n=iS(s);await ZE(n,e,!0,!1)}async function ZE(s,e,n,a){const o=await eR(s.localStore,Mi(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let y;return a&&(y=await VR(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&FE(s.remoteStore,o),y}async function VR(s,e,n,a,o){s.pu=(b,R,k)=>(async function(J,X,z,ie){let $=X.view.ru(z);$.Cs&&($=await b0(J.localStore,X.query,!1).then((({documents:w})=>X.view.ru(w,$))));const ae=ie&&ie.targetChanges.get(X.targetId),pe=ie&&ie.targetMismatches.get(X.targetId)!=null,O=X.view.applyChanges($,J.isPrimaryClient,ae,pe);return O0(J,X.targetId,O.au),O.snapshot})(s,b,R,k);const c=await b0(s.localStore,e,!0),f=new RR(e,c.Qs),y=f.ru(c.documents),_=$o.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),g=f.applyChanges(y,s.isPrimaryClient,_);O0(s,n,g.au);const E=new xR(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function kR(s,e,n){const a=je(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((f=>!wh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&fg(a.remoteStore,o.targetId),jm(a,o.targetId)})).catch(ml)):(jm(a,o.targetId),await Rm(a.localStore,o.targetId,!0))}async function UR(s,e){const n=je(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),fg(n.remoteStore,a.targetId))}async function LR(s,e,n){const a=GR(s);try{const o=await(function(f,y){const _=je(f),g=ht.now(),E=y.reduce(((k,H)=>k.add(H.key)),He());let b,R;return _.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=ds(),J=He();return _.Ns.getEntries(k,E).next((X=>{H=X,H.forEach(((z,ie)=>{ie.isValidDocument()||(J=J.add(z))}))})).next((()=>_.localDocuments.getOverlayedDocuments(k,H))).next((X=>{b=X;const z=[];for(const ie of y){const $=WI(ie,b.get(ie.key).overlayedDocument);$!=null&&z.push(new da(ie.key,$,oE($.value.mapValue),Qn.exists(!0)))}return _.mutationQueue.addMutationBatch(k,g,z,y)})).next((X=>{R=X;const z=X.applyToLocalDocumentSet(b,J);return _.documentOverlayCache.saveOverlays(k,X.batchId,z)}))})).then((()=>({batchId:R.batchId,changes:vE(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,y,_){let g=f.Vu[f.currentUser.toKey()];g||(g=new gt(qe)),g=g.insert(y,_),f.Vu[f.currentUser.toKey()]=g})(a,o.batchId,n),await Zo(a,o.changes),await jh(a.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");n.reject(c)}}async function WE(s,e){const n=je(s);try{const a=await JC(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await Zo(n,a,e)}catch(a){await ml(a)}}function j0(s,e,n){const a=je(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((c,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const _=je(f);_.onlineState=y;let g=!1;_.queries.forEach(((E,b)=>{for(const R of b.Sa)R.va(y)&&(g=!0)})),g&&Eg(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function PR(s,e,n){const a=je(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new gt(Ae.comparator);f=f.insert(c,sn.newNoDocument(c,xe.min()));const y=He().add(c),_=new Rh(xe.min(),new Map,new gt(qe),f,y);await WE(a,_),a.du=a.du.remove(c),a.Au.delete(e),Ag(a)}else await Rm(a.localStore,e,!1).then((()=>jm(a,e,n))).catch(ml)}async function zR(s,e){const n=je(s),a=e.batch.batchId;try{const o=await $C(n.localStore,e);tS(n,a,null),eS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Zo(n,o)}catch(o){await ml(o)}}async function BR(s,e,n){const a=je(s);try{const o=await(function(f,y){const _=je(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return _.mutationQueue.lookupMutationBatch(g,y).next((b=>(Je(b!==null,37113),E=b.keys(),_.mutationQueue.removeMutationBatch(g,b)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,E,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>_.localDocuments.getDocuments(g,E)))}))})(a.localStore,e);tS(a,e,n),eS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Zo(a,o)}catch(o){await ml(o)}}function eS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function tS(s,e,n){const a=je(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function jm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||nS(s,a)}))}function nS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(fg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Ag(s))}function O0(s,e,n){for(const a of n)a instanceof $E?(s.Ru.addReference(a.key,e),qR(s,a)):a instanceof JE?(_e(bg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||nS(s,a.key)):Ie(19791,{wu:a})}function qR(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(_e(bg,"New document in limbo: "+n),s.Eu.add(a),Ag(s))}function Ag(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ae(ot.fromString(e)),a=s.fu.next();s.Au.set(a,new DR(n)),s.du=s.du.insert(n,a),FE(s.remoteStore,new Ws(Mi(Ah(n.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function Zo(s,e,n){const a=je(s),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,_)=>{f.push(a.pu(_,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(g){o.push(g);const E=hg.As(_.targetId,g);c.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(_,g){const E=je(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(g,(R=>se.forEach(R.Es,(k=>E.persistence.referenceDelegate.addReference(b,R.targetId,k))).next((()=>se.forEach(R.ds,(k=>E.persistence.referenceDelegate.removeReference(b,R.targetId,k)))))))))}catch(b){if(!gl(b))throw b;_e(dg,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const k=E.Ms.get(R),H=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,J)}}})(a.localStore,c))}async function HR(s,e){const n=je(s);if(!n.currentUser.isEqual(e)){_e(bg,"User change. New user:",e.toKey());const a=await zE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((y=>{y.forEach((_=>{_.reject(new fe(te.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zo(n,a.Ls)}}function FR(s,e){const n=je(s),a=n.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const y=n.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function iS(s){const e=je(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PR.bind(null,e),e.Pu.H_=IR.bind(null,e.eventManager),e.Pu.yu=CR.bind(null,e.eventManager),e}function GR(s){const e=je(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BR.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XC(this.persistence,new QC,e.initialUser,this.serializer)}Cu(e){return new PE(ug.mi,this.serializer)}Du(e){return new nR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class QR extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new DC(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new PE((a=>hh.mi(a,n)),this.serializer)}}class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>j0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=HR.bind(null,this.syncEngine),await AR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NR})()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),a=(function(c){return new lR(c)})(e.databaseInfo);return(function(c,f,y,_){return new hR(c,f,y,_)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,f,y){return new fR(a,o,c,f,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>j0(this.syncEngine,n,0)),(function(){return N0.v()?new N0:new iR})())}createSyncEngine(e,n){return(function(o,c,f,y,_,g,E){const b=new jR(o,c,f,y,_,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=je(n);_e(er,"RemoteStore shutting down."),a.Ea.add(5),await Jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ua="FirestoreClient";class YR{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{_e(ua,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(_e(ua,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=_g(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function am(s,e){s.asyncQueue.verifyOperationInProgress(),_e(ua,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await zE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function M0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await KR(s);_e(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>C0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>C0(e.remoteStore,o))),s._onlineComponents=e}async function KR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){_e(ua,"Using user provided OfflineComponentProvider");try{await am(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await am(s,new fh)}}else _e(ua,"Using default OfflineComponentProvider"),await am(s,new QR(void 0));return s._offlineComponents}async function sS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(_e(ua,"Using user provided OnlineComponentProvider"),await M0(s,s._uninitializedComponentsProvider._online)):(_e(ua,"Using default OnlineComponentProvider"),await M0(s,new Om))),s._onlineComponents}function XR(s){return sS(s).then((e=>e.syncEngine))}async function mh(s){const e=await sS(s),n=e.eventManager;return n.onListen=OR.bind(null,e.syncEngine),n.onUnlisten=kR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UR.bind(null,e.syncEngine),n}function $R(s,e,n={}){const a=new os;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,_,g){const E=new wg({next:R=>{E.Nu(),f.enqueueAndForget((()=>Tg(c,b)));const k=R.docs.has(y);!k&&R.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&_&&_.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new Sg(Ah(y.path),E,{includeMetadataChanges:!0,qa:!0});return vg(c,b)})(await mh(s),s.asyncQueue,e,n,a))),a.promise}function JR(s,e,n={}){const a=new os;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,_,g){const E=new wg({next:R=>{E.Nu(),f.enqueueAndForget((()=>Tg(c,b))),R.fromCache&&_.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new Sg(y,E,{includeMetadataChanges:!0,qa:!0});return vg(c,b)})(await mh(s),s.asyncQueue,e,n,a))),a.promise}function aS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const V0=new Map;const rS="firestore.googleapis.com",k0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rS,this.ssl=k0}else this.host=e.host,this.ssl=e.ssl??k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RC)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new iI;switch(a.type){case"firstParty":return new lI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=V0.get(n);a&&(_e("ComponentProvider","Removing Datastore"),V0.delete(n),a.terminate())})(this),Promise.resolve()}}function ZR(s,e,n,a={}){s=Tn(s,Oh);const o=ul(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${n}`;o&&(aT(`https://${y}`),rT("Firestore",!0)),c.host!==rS&&c.host!==y&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:y,ssl:o,emulatorOptions:a};if(!$a(_,f)&&(s._setSettings(_),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=nn.MOCK_USER;else{g=IA(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(b)}s._authCredentials=new sI(new $T(g,E))}}class fa{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class _t{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Ko(n,_t._jsonSchema))return new _t(e,a||null,new Ae(ot.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:kt("string",_t._jsonSchemaVersion),referencePath:kt("string")};class sa extends fa{constructor(e,n,a){super(e,n,Ah(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new Ae(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function sr(s,e,...n){if(s=Ft(s),JT("collection","path",e),s instanceof Oh){const a=ot.fromString(e,...n);return $v(a),new sa(s,null,a)}{if(!(s instanceof _t||s instanceof sa))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ot.fromString(e,...n));return $v(a),new sa(s.firestore,null,a)}}function ui(s,e,...n){if(s=Ft(s),arguments.length===1&&(e=Zm.newId()),JT("doc","path",e),s instanceof Oh){const a=ot.fromString(e,...n);return Xv(a),new _t(s,null,new Ae(a))}{if(!(s instanceof _t||s instanceof sa))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ot.fromString(e,...n));return Xv(a),new _t(s.firestore,s instanceof sa?s.converter:null,new Ae(a))}}const L0="AsyncQueue";class P0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&_e(L0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;_e(L0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",z0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function z0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function B0(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class fs extends Oh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new P0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P0(e),this._firestoreClient=void 0,await e}}}function WR(s,e){const n=typeof s=="object"?s:uT(),a=typeof s=="string"?s:ah,o=zm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=wA("firestore");c&&ZR(o,...c)}return o}function Mh(s){if(s._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||e2(s),s._firestoreClient}function e2(s){const e=s._freezeSettings(),n=(function(o,c,f,y){return new AI(o,c,f,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,aS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new YR(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Wt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ko(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:kt("string",Gn._jsonSchemaVersion),bytes:kt("string")};class Vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ng{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Ko(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:kt("string",ki._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ko(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:kt("string",Ui._jsonSchemaVersion),vectorValues:kt("object")};const t2=/^__.*__$/;class n2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xo(e,this.data,n,this.fieldTransforms)}}class lS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:s})}}class Ig{constructor(e,n,a,o,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oS(this.Ac)&&t2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class i2{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||xh(e)}Cc(e,n,a,o=!1){return new Ig({Ac:e,methodName:n,Dc:a,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kh(s){const e=s._freezeSettings(),n=xh(s._databaseId);return new i2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function cS(s,e,n,a,o,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);Cg("Data must be an object, but it was:",f,a);const y=uS(a,f);let _,g;if(c.merge)_=new xn(f.fieldMask),g=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const R=Mm(e,b,n);if(!f.contains(R))throw new fe(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);dS(E,R)||E.push(R)}_=new xn(E),g=f.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,g=f.fieldTransforms;return new n2(new vn(y),_,g)}class Uh extends Ng{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function s2(s,e,n,a){const o=s.Cc(1,e,n);Cg("Data must be an object, but it was:",o,a);const c=[],f=vn.empty();ha(a,((_,g)=>{const E=Rg(e,_,n);g=Ft(g);const b=o.yc(E);if(g instanceof Uh)c.push(E);else{const R=Wo(g,b);R!=null&&(c.push(E),f.set(E,R))}}));const y=new xn(c);return new lS(f,y,o.fieldTransforms)}function a2(s,e,n,a,o,c){const f=s.Cc(1,e,n),y=[Mm(e,a,n)],_=[o];if(c.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)y.push(Mm(e,c[R])),_.push(c[R+1]);const g=[],E=vn.empty();for(let R=y.length-1;R>=0;--R)if(!dS(g,y[R])){const k=y[R];let H=_[R];H=Ft(H);const J=f.yc(k);if(H instanceof Uh)g.push(k);else{const X=Wo(H,J);X!=null&&(g.push(k),E.set(k,X))}}const b=new xn(g);return new lS(E,b,f.fieldTransforms)}function r2(s,e,n,a=!1){return Wo(n,s.Cc(a?4:3,e))}function Wo(s,e){if(hS(s=Ft(s)))return Cg("Unsupported field value:",e,s),uS(s,e);if(s instanceof Ng)return(function(a,o){if(!oS(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let f=0;for(const y of a){let _=Wo(y,o.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Ft(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return YI(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ht.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof ht){const c=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:DE(o.serializer,a._byteString)};if(a instanceof _t){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ui)return(function(f,y){return{mapValue:{fields:{[rE]:{stringValue:lE},[rh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw y.Sc("VectorValues must only contain numeric values.");return sg(y.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Th(a)}`)})(s,e)}function uS(s,e){const n={};return eE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(s,((a,o)=>{const c=Wo(o,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function hS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof ki||s instanceof Gn||s instanceof _t||s instanceof Ng||s instanceof Ui)}function Cg(s,e,n){if(!hS(n)||!ZT(n)){const a=Th(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Mm(s,e,n){if((e=Ft(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return Rg(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,n)}const l2=new RegExp("[~\\*/\\[\\]]");function Rg(s,e,n){if(e.search(l2)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Vh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function gh(s,e,n,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${a}`),f&&(_+=` in document ${o}`),_+=")"),new fe(te.INVALID_ARGUMENT,y+s+_)}function dS(s,e){return s.some((n=>n.isEqual(e)))}class fS{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o2 extends fS{data(){return super.data()}}function Lh(s,e){return typeof e=="string"?Rg(s,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function mS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class gS extends xg{}function Ph(s,e,...n){let a=[];e instanceof xg&&a.push(e),a=a.concat(n),(function(c){const f=c.filter((_=>_ instanceof Dg)).length,y=c.filter((_=>_ instanceof zh)).length;if(f>1||f>0&&y>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class zh extends gS{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new zh(e,n,a)}_apply(e){const n=this._parse(e);return pS(e._query,n),new fa(e.firestore,e.converter,bm(e._query,n))}_parse(e){const n=kh(e.firestore);return(function(c,f,y,_,g,E,b){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){H0(b,E);const H=[];for(const J of b)H.push(q0(_,c,J));R={arrayValue:{values:H}}}else R=q0(_,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||H0(b,E),R=r2(y,f,b,E==="in"||E==="not-in");return Vt.create(g,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function c2(s,e,n){const a=e,o=Lh("where",s);return zh._create(o,a,n)}class Dg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const _ of y)pS(f,_),f=bm(f,_)})(e._query,n),new fa(e.firestore,e.converter,bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends gS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zo(c,f)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new pl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Bh(s,e="asc"){const n=e,a=Lh("orderBy",s);return jg._create(a,n)}function q0(s,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ot.fromString(n));if(!Ae.isDocumentKey(a))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return s0(s,new Ae(a))}if(n instanceof _t)return s0(s,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function H0(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(s,e){const n=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u2{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ha(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[rh].arrayValue?.values?.map((a=>bt(a.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new ki(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const n=ra(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ot.fromString(e);Je(UE(a),9688,{name:e});const o=new Lo(a.get(1),a.get(3)),c=new Ae(a.popFirst(5));return o.isEqual(n)||hs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function yS(s,e,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,a}class Io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends fS{constructor(e,n,a,o,c,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Lh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:kt("string",Ka._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Xu extends Ka{data(e={}){return super.data(e)}}class Xa{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Io(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Xu(this._firestore,this._userDataWriter,a.key,a,new Io(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const _=new Xu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Io(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const _=new Xu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Io(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return y.type!==0&&(g=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),E=f.indexOf(y.doc.key)),{type:h2(y.type),doc:_,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:s})}}function d2(s){s=Tn(s,_t);const e=Tn(s.firestore,fs);return $R(Mh(e),s._key).then((n=>vS(e,s,n)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:kt("string",Xa._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class Og extends u2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Mg(s){s=Tn(s,fa);const e=Tn(s.firestore,fs),n=Mh(e),a=new Og(e);return mS(s._query),JR(n,s._query).then((o=>new Xa(e,a,s,o)))}function _S(s,e,n){s=Tn(s,_t);const a=Tn(s.firestore,fs),o=yS(s.converter,e,n);return qh(a,[cS(kh(a),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Qn.none())])}function Vg(s,e,n,...a){s=Tn(s,_t);const o=Tn(s.firestore,fs),c=kh(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof Vh?a2(c,"updateDoc",s._key,e,n,a):s2(c,"updateDoc",s._key,e),qh(o,[f.toMutation(s._key,Qn.exists(!0))])}function ec(s){return qh(Tn(s.firestore,fs),[new ag(s._key,Qn.none())])}function kg(s,e){const n=Tn(s.firestore,fs),a=ui(s),o=yS(s.converter,e);return qh(n,[cS(kh(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Qn.exists(!1))]).then((()=>a))}function f2(s,...e){s=Ft(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||B0(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B0(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,f,y;if(s instanceof _t)f=Tn(s.firestore,fs),y=Ah(s._key.path),c={next:_=>{e[a]&&e[a](vS(f,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Tn(s,fa);f=Tn(_.firestore,fs),y=_._query;const g=new Og(f);c={next:E=>{e[a]&&e[a](new Xa(f,g,_,E))},error:e[a+1],complete:e[a+2]},mS(s._query)}return(function(g,E,b,R){const k=new wg(R),H=new Sg(E,k,b);return g.asyncQueue.enqueueAndForget((async()=>vg(await mh(g),H))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>Tg(await mh(g),H)))}})(Mh(f),y,o,c)}function qh(s,e){return(function(a,o){const c=new os;return a.asyncQueue.enqueueAndForget((async()=>LR(await XR(a),o,c))),c.promise})(Mh(s),e)}function vS(s,e,n){const a=n.docs.get(e._key),o=new Og(s);return new Ka(s,o,e._key,a,new Io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){fl=o})(hl),nl(new Ja("firestore",((a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),y=new fs(new aI(a.getProvider("auth-internal")),new oI(f,a.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(g.options.projectId,E)})(f,o),f);return c={useFetchStreams:n,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),na(Gv,Qv,e),na(Gv,Qv,"esm2020")})();const m2={apiKey:"AIzaSyA4Dg6dUSUljW3lRZGMndbzSnsbcwkEuv8",authDomain:"studyapp-28e08.firebaseapp.com",projectId:"studyapp-28e08",storageBucket:"studyapp-28e08.firebasestorage.app",messagingSenderId:"929036775806",appId:"1:929036775806:web:50c21242a761566e31c32f"},TS=cT(m2),rm=tI(TS),g2=new as,Dn=WR(TS);function F0({onAuthChange:s}){const[e,n]=ue.useState(null),[a,o]=ue.useState(!0);ue.useEffect(()=>{const y=Hw(rm,_=>{n(_),o(!1),s&&s(_)});return()=>y()},[s]);const c=async()=>{try{await uN(rm,g2)}catch(y){console.error("Error signing in with Google:",y),alert(": "+y.message)}},f=async()=>{try{await Fw(rm)}catch(y){console.error("Error signing out:",y),alert(": "+y.message)}};return a?m.jsx("div",{className:"auth-container",children:m.jsx("div",{className:"auth-loading",children:"..."})}):e?m.jsxs("div",{className:"auth-user-info",children:[m.jsxs("div",{className:"user-profile",children:[e.photoURL&&m.jsx("img",{src:e.photoURL,alt:"Profile",className:"user-avatar"}),m.jsx("span",{className:"user-name",children:e.displayName||e.email})]}),m.jsx("button",{onClick:f,className:"signout-btn",children:""})]}):m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-card",children:[m.jsx("h2",{children:" SAPIX "}),m.jsxs("p",{className:"auth-description",children:["Google",m.jsx("br",{}),""]}),m.jsxs("button",{onClick:c,className:"google-signin-btn",children:[m.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),m.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),m.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),m.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})]}),"Google"]})]})})}const Yn={:"",:"",:"",:""},an={:"#10b981",:"#ef4444",:"#3b82f6",:"#f59e0b"},G0=["","","","","","",""];function p2({tasks:s,onToggleTask:e,onDeleteTask:n,onEditTask:a}){const[o,c]=ue.useState("today");function f(E){const b=E.getFullYear(),R=String(E.getMonth()+1).padStart(2,"0"),k=String(E.getDate()).padStart(2,"0");return`${b}-${R}-${k}`}function y(){const E=f(new Date);return s.filter(b=>b.dueDate===E)}const _=y(),g=E=>{c(o===E?null:E)};return m.jsx("div",{className:"today-week-view",children:m.jsxs("div",{className:"priority-section today-section",children:[m.jsxs("div",{className:"section-header",onClick:()=>g("today"),children:[m.jsxs("h2",{children:[" ",m.jsxs("span",{className:"task-count",children:[_.filter(E=>!E.completed).length," / ",_.length]})]}),m.jsx("span",{className:"toggle-icon",children:o==="today"?"":""})]}),o==="today"&&m.jsx("div",{className:"task-grid",children:_.length===0?m.jsx("div",{className:"no-tasks-message",children:""}):_.map(E=>{const b=an[E.subject]||"#64748b";return m.jsxs("div",{className:`priority-task ${E.completed?"completed":""}`,style:{borderColor:b,backgroundColor:`${b}15`,boxShadow:`0 2px 8px ${b}25`},children:[m.jsx("input",{type:"checkbox",checked:E.completed,onChange:()=>e(E.id),className:"task-checkbox"}),m.jsx("span",{className:"subject-emoji",children:Yn[E.subject]}),m.jsx("span",{className:"subject-badge",style:{color:b},children:E.subject}),m.jsx("span",{className:"task-title",children:E.title}),E.priority&&m.jsx("span",{className:"task-priority-badge",children:E.priority}),m.jsxs("div",{className:"task-actions",children:[a&&m.jsx("button",{className:"edit-btn",onClick:()=>a(E),title:"",children:""}),m.jsx("button",{className:"delete-btn",onClick:()=>n(E.id),title:"",children:""})]})]},E.id)})})]})})}const y2="modulepreload",_2=function(s){return"/New_Repository/"+s},Q0={},v2=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let g=function(E){return Promise.all(E.map(b=>Promise.resolve(b).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};var f=g;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),_=y?.nonce||y?.getAttribute("nonce");o=g(n.map(E=>{if(E=_2(E),E in Q0)return;Q0[E]=!0;const b=E.endsWith(".css"),R=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${R}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":y2,b||(k.as="script"),k.crossOrigin="",k.href=E,_&&k.setAttribute("nonce",_),document.head.appendChild(k),b)return new Promise((H,J)=>{k.addEventListener("load",H),k.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(y){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=y,window.dispatchEvent(_),!_.defaultPrevented)throw y}return o.then(y=>{for(const _ of y||[])_.status==="rejected"&&c(_.reason);return e().catch(c)})},tl={:{"3":[{id:"math3_01",name:"",category:""},{id:"math3_02",name:"",category:""},{id:"math3_03",name:"",category:""},{id:"math3_04",name:"",category:""},{id:"math3_05",name:"",category:""},{id:"math3_06",name:"",category:""},{id:"math3_07",name:"",category:""},{id:"math3_08",name:"",category:""},{id:"math3_09",name:"",category:""},{id:"math3_10",name:"",category:""},{id:"math3_11",name:"",category:""},{id:"math3_12",name:"",category:""}],"4":[{id:"math4_01",name:"",category:""},{id:"math4_02",name:"",category:""},{id:"math4_03",name:"",category:""},{id:"math4_04",name:"",category:""},{id:"math4_05",name:"",category:""},{id:"math4_06",name:"",category:""},{id:"math4_07",name:"",category:""},{id:"math4_08",name:"",category:""},{id:"math4_09",name:"",category:""},{id:"math4_10",name:"",category:""},{id:"math4_11",name:"",category:""},{id:"math4_12",name:"",category:""},{id:"math4_13",name:"",category:""},{id:"math4_14",name:"",category:""},{id:"math4_15",name:"",category:""}],"5":[{id:"math5_01",name:"",category:""},{id:"math5_02",name:"",category:""},{id:"math5_03",name:"",category:""},{id:"math5_04",name:"",category:""},{id:"math5_05",name:"",category:""},{id:"math5_06",name:"",category:""},{id:"math5_07",name:"",category:""},{id:"math5_08",name:"",category:""},{id:"math5_09",name:"",category:""},{id:"math5_10",name:"",category:""},{id:"math5_11",name:"",category:""},{id:"math5_12",name:"",category:""},{id:"math5_13",name:"",category:""},{id:"math5_14",name:"",category:""},{id:"math5_15",name:"N",category:""},{id:"math5_16",name:"",category:""},{id:"math5_17",name:"",category:""},{id:"math5_18",name:"",category:""}],"6":[{id:"math6_01",name:"",category:""},{id:"math6_02",name:"",category:""},{id:"math6_03",name:"",category:""},{id:"math6_04",name:"",category:""},{id:"math6_05",name:"",category:""},{id:"math6_06",name:"",category:""},{id:"math6_07",name:"",category:""},{id:"math6_08",name:"",category:""},{id:"math6_09",name:"",category:""},{id:"math6_10",name:"",category:""},{id:"math6_11",name:"",category:""},{id:"math6_12",name:"",category:""}]},:{"3":[{id:"lang3_01",name:"3",category:""},{id:"lang3_02",name:"",category:""},{id:"lang3_03",name:"",category:""},{id:"lang3_04",name:"",category:""},{id:"lang3_05",name:"",category:""},{id:"lang3_06",name:"",category:""},{id:"lang3_07",name:"",category:""},{id:"lang3_08",name:"",category:""}],"4":[{id:"lang4_01",name:"4",category:""},{id:"lang4_02",name:"",category:""},{id:"lang4_03",name:"",category:""},{id:"lang4_04",name:"",category:""},{id:"lang4_05",name:"",category:""},{id:"lang4_06",name:"",category:""},{id:"lang4_07",name:"",category:""},{id:"lang4_08",name:"",category:""},{id:"lang4_09",name:"",category:""},{id:"lang4_10",name:"",category:""}],"5":[{id:"lang5_01",name:"5",category:""},{id:"lang5_02",name:"",category:""},{id:"lang5_03",name:"",category:""},{id:"lang5_04",name:"",category:""},{id:"lang5_05",name:"",category:""},{id:"lang5_06",name:"",category:""},{id:"lang5_07",name:"",category:""},{id:"lang5_08",name:"",category:""},{id:"lang5_09",name:"",category:""},{id:"lang5_10",name:"",category:""},{id:"lang5_11",name:"",category:""}],"6":[{id:"lang6_01",name:"6",category:""},{id:"lang6_02",name:"",category:""},{id:"lang6_03",name:"",category:""},{id:"lang6_04",name:"",category:""},{id:"lang6_05",name:"",category:""},{id:"lang6_06",name:"",category:""},{id:"lang6_07",name:"",category:""},{id:"lang6_08",name:"",category:""},{id:"lang6_09",name:"",category:""},{id:"lang6_10",name:"",category:""}]},:{"3":[{id:"sci3_01",name:"",category:""},{id:"sci3_02",name:"",category:""},{id:"sci3_03",name:"",category:""},{id:"sci3_04",name:"",category:""},{id:"sci3_05",name:"",category:""},{id:"sci3_06",name:"",category:""},{id:"sci3_07",name:"",category:""},{id:"sci3_08",name:"",category:""}],"4":[{id:"sci4_01",name:"",category:""},{id:"sci4_02",name:"",category:""},{id:"sci4_03",name:"",category:""},{id:"sci4_04",name:"",category:""},{id:"sci4_05",name:"",category:""},{id:"sci4_06",name:"",category:""},{id:"sci4_07",name:"",category:""},{id:"sci4_08",name:"",category:""},{id:"sci4_09",name:"",category:""},{id:"sci4_10",name:"",category:""},{id:"sci4_11",name:"",category:""}],"5":[{id:"sci5_01",name:"",category:""},{id:"sci5_02",name:"",category:""},{id:"sci5_03",name:"",category:""},{id:"sci5_04",name:"",category:""},{id:"sci5_05",name:"",category:""},{id:"sci5_06",name:"",category:""},{id:"sci5_07",name:"",category:""},{id:"sci5_08",name:"",category:""},{id:"sci5_09",name:"",category:""},{id:"sci5_10",name:"",category:""},{id:"sci5_11",name:"",category:""},{id:"sci5_12",name:"",category:""}],"6":[{id:"sci6_01",name:"",category:""},{id:"sci6_02",name:"",category:""},{id:"sci6_03",name:"",category:""},{id:"sci6_04",name:"",category:""},{id:"sci6_05",name:"",category:""},{id:"sci6_06",name:"",category:""},{id:"sci6_07",name:"",category:""},{id:"sci6_08",name:"",category:""},{id:"sci6_09",name:"",category:""},{id:"sci6_10",name:"",category:""}]},:{"3":[{id:"soc3_01",name:"",category:""},{id:"soc3_02",name:"",category:""},{id:"soc3_03",name:"",category:""},{id:"soc3_04",name:"",category:""},{id:"soc3_05",name:"",category:""},{id:"soc3_06",name:"",category:""}],"4":[{id:"soc4_01",name:"",category:""},{id:"soc4_02",name:"",category:""},{id:"soc4_03",name:"",category:""},{id:"soc4_04",name:"",category:""},{id:"soc4_05",name:"",category:""},{id:"soc4_06",name:"",category:""},{id:"soc4_07",name:"",category:""},{id:"soc4_08",name:"",category:""},{id:"soc4_09",name:"",category:""}],"5":[{id:"soc5_01",name:"",category:""},{id:"soc5_02",name:"",category:""},{id:"soc5_03",name:"",category:""},{id:"soc5_04",name:"",category:""},{id:"soc5_05",name:"",category:""},{id:"soc5_06",name:"",category:""},{id:"soc5_07",name:"",category:""},{id:"soc5_08",name:"",category:""},{id:"soc5_09",name:"",category:""},{id:"soc5_10",name:"",category:""},{id:"soc5_11",name:"",category:""},{id:"soc5_12",name:"",category:""},{id:"soc5_13",name:"",category:""},{id:"soc5_14",name:"",category:""}],"6":[{id:"soc6_01",name:"",category:""},{id:"soc6_02",name:"",category:""},{id:"soc6_03",name:"",category:""},{id:"soc6_04",name:"",category:""},{id:"soc6_05",name:"",category:""},{id:"soc6_06",name:"",category:""},{id:"soc6_07",name:"",category:""},{id:"soc6_08",name:"",category:""},{id:"soc6_09",name:"",category:""}]}},$r=["","","",""],tr=["3","4","5","6"];function ES({customUnitName:s,setCustomUnitName:e,customUnitCategory:n,setCustomUnitCategory:a,onAdd:o,onCancel:c}){return m.jsxs("div",{className:"custom-unit-form",children:[m.jsx("h3",{children:" "}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group half",children:[m.jsx("label",{htmlFor:"customUnitName",children:""}),m.jsx("input",{type:"text",id:"customUnitName",value:s,onChange:f=>e(f.target.value),placeholder:": 20231"})]}),m.jsxs("div",{className:"form-group half",children:[m.jsx("label",{htmlFor:"customUnitCategory",children:""}),m.jsxs("select",{id:"customUnitCategory",value:n,onChange:f=>a(f.target.value),children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""})]})]})]}),m.jsxs("div",{className:"custom-unit-actions",children:[m.jsx("button",{type:"button",className:"btn-secondary",onClick:c,children:""}),m.jsx("button",{type:"button",className:"btn-primary",onClick:o,children:""})]})]})}function T2({schoolName:s,setSchoolName:e,year:n,setYear:a,round:o,setRound:c,relatedUnits:f,onToggleRelatedUnit:y,currentUnits:_}){return m.jsxs("div",{className:"pastpaper-fields",children:[m.jsxs("div",{className:"form-row three-cols",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"schoolName",children:""}),m.jsx("input",{type:"text",id:"schoolName",value:s,onChange:g=>e(g.target.value),placeholder:": "})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"year",children:""}),m.jsx("input",{type:"text",id:"year",value:n,onChange:g=>a(g.target.value),placeholder:": 2023"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"round",children:""}),m.jsxs("select",{id:"round",value:o,onChange:g=>c(g.target.value),children:[m.jsx("option",{value:"1",children:"1"}),m.jsx("option",{value:"2",children:"2"}),m.jsx("option",{value:"3",children:"3"}),m.jsx("option",{value:"4",children:"4"})]})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:""}),m.jsx("div",{className:"related-units-checkboxes",children:_.map(g=>m.jsxs("label",{className:"unit-checkbox-label",children:[m.jsx("input",{type:"checkbox",checked:f.includes(g.id),onChange:()=>y(g.id)}),m.jsx("span",{children:g.name})]},g.id))})]})]})}function Y0({onAddTask:s,onUpdateTask:e,editingTask:n,onCancelEdit:a,customUnits:o=[],onAddCustomUnit:c}){const[f,y]=ue.useState(""),[_,g]=ue.useState(""),[E,b]=ue.useState("4"),[R,k]=ue.useState(""),[H,J]=ue.useState("daily"),[X,z]=ue.useState("B"),[ie,$]=ue.useState(""),[ae,pe]=ue.useState(!1),[O,w]=ue.useState(""),[N,C]=ue.useState(""),[D,x]=ue.useState(null),[U,I]=ue.useState(""),[le,Se]=ue.useState(""),[Q,re]=ue.useState("1"),[ve,ke]=ue.useState([]);ue.useEffect(()=>{n&&(y(n.title||""),g(n.subject||""),b(n.grade||"4"),k(n.unitId||""),J(n.taskType||"daily"),z(n.priority||"B"),$(n.dueDate||""),I(n.schoolName||""),Se(n.year||""),re(n.round||"1"),ke(n.relatedUnits||[]))},[n]);const Qe=de=>{if(de.preventDefault(),f.trim()){const ge=V(R),dt={title:f.trim(),subject:_,grade:E,unitId:R,unit:ge,taskType:H,priority:X,dueDate:ie||null};H==="pastpaper"&&(dt.schoolName=U.trim(),dt.year=le.trim(),dt.round=Q,dt.relatedUnits=ve),n?e(n.id,dt):s(dt),y(""),k(""),x(null),I(""),Se(""),re("1"),ke([]),n&&a&&a()}},V=de=>{if(!de)return"";if(D&&D.id===de)return D.name;const dt=(tl[_]?.[E]||[]).find(un=>un.id===de);if(dt)return dt.name;const At=o.find(un=>un.id===de);return At?At.name:""},ee=async()=>{if(!O.trim()){alert("");return}if(!c){alert("");return}const{generateCustomUnitId:de}=await v2(async()=>{const{generateCustomUnitId:un}=await Promise.resolve().then(()=>sx);return{generateCustomUnitId:un}},void 0),dt={id:de(_,E,O),subject:_,grade:E,name:O.trim(),category:N},At=await c(dt);if(At.success){const un=O.trim();x({id:At.data.id,name:un}),w(""),C(""),pe(!1),k(At.data.id),alert(` ${un}`)}else alert(` : ${At.error||""}`)},ce=()=>{y(""),k(""),a&&a()},me=de=>{ve.includes(de)?ke(ve.filter(ge=>ge!==de)):ke([...ve,de])},Ne=[{value:"daily",label:"",emoji:""},{value:"basic",label:"",emoji:""},{value:"test",label:"",emoji:""},{value:"pastpaper",label:"",emoji:""},{value:"weakness",label:"",emoji:""}],Re=[{value:"A",label:"A ()",color:"#ef4444"},{value:"B",label:"B ()",color:"#f59e0b"},{value:"C",label:"C ()",color:"#3b82f6"}],G=["","","",""],he=tl[_]?.[E]||[],ye=o.filter(de=>de.subject===_&&de.grade===E),Ze=[...he,...ye];return m.jsxs("form",{className:"task-form sapix-form",onSubmit:Qe,children:[m.jsx("h2",{children:n?" ":" "}),m.jsxs("div",{className:"form-row three-cols",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"subject",children:""}),m.jsx("select",{id:"subject",value:_,onChange:de=>{g(de.target.value),k("")},children:G.map(de=>m.jsx("option",{value:de,children:de},de))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"grade",children:""}),m.jsx("select",{id:"grade",value:E,onChange:de=>{b(de.target.value),k("")},children:tr.map(de=>m.jsx("option",{value:de,children:de},de))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"unit",children:""}),m.jsxs("div",{className:"unit-select-container",children:[m.jsxs("select",{id:"unit",value:R,onChange:de=>k(de.target.value),children:[m.jsx("option",{value:"",children:""}),he.length>0&&m.jsx("optgroup",{label:"",children:he.map(de=>m.jsxs("option",{value:de.id,children:[de.name," (",de.category,")"]},de.id))}),ye.length>0&&m.jsx("optgroup",{label:"",children:ye.map(de=>m.jsxs("option",{value:de.id,children:[de.name," (",de.category,")"]},de.id))})]}),m.jsx("button",{type:"button",className:"add-custom-unit-btn",onClick:()=>pe(!ae),title:"",children:""})]})]})]}),ae&&m.jsx(ES,{customUnitName:O,setCustomUnitName:w,customUnitCategory:N,setCustomUnitCategory:C,onAdd:ee,onCancel:()=>{pe(!1),w(""),C("")}}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"title",children:""}),m.jsx("input",{type:"text",id:"title",value:f,onChange:de=>y(de.target.value),placeholder:":  No.23 p.12-15",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:""}),m.jsx("div",{className:"task-type-buttons",children:Ne.map(de=>m.jsxs("button",{type:"button",className:`type-btn ${H===de.value?"active":""}`,onClick:()=>J(de.value),children:[de.emoji," ",de.label]},de.value))})]}),H==="pastpaper"&&m.jsx(T2,{schoolName:U,setSchoolName:I,year:le,setYear:Se,round:Q,setRound:re,relatedUnits:ve,onToggleRelatedUnit:me,currentUnits:Ze}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group half",children:[m.jsx("label",{children:""}),m.jsx("div",{className:"priority-buttons",children:Re.map(de=>m.jsx("button",{type:"button",className:`priority-btn ${X===de.value?"active":""}`,style:{borderColor:X===de.value?de.color:"#e0e0e0",backgroundColor:X===de.value?de.color:"white",color:X===de.value?"white":"#333"},onClick:()=>z(de.value),children:de.label},de.value))})]}),m.jsxs("div",{className:"form-group half",children:[m.jsx("label",{htmlFor:"dueDate",children:" "}),m.jsx("input",{type:"date",id:"dueDate",value:ie,onChange:de=>$(de.target.value)})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"submit",className:"submit-btn sapix-btn",children:n?" ":" "}),n&&m.jsx("button",{type:"button",className:"cancel-btn",onClick:ce,children:" "})]})]})}function E2({task:s,onToggle:e,onDelete:n,onEdit:a}){const o=an[s.subject]||"#007AFF";return m.jsxs("div",{className:`task-item ${s.completed?"completed":""}`,style:{borderColor:o,backgroundColor:`${o}15`,boxShadow:`0 2px 8px ${o}25`},children:[m.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>e(s.id),className:"task-checkbox"}),m.jsx("span",{className:"subject-emoji",children:Yn[s.subject]}),m.jsx("span",{className:"subject-badge",style:{color:o},children:s.subject}),m.jsx("span",{className:"task-title",children:s.title}),m.jsxs("div",{className:"task-actions",children:[a&&m.jsx("button",{className:"edit-btn",onClick:()=>a(s),"aria-label":"",children:""}),m.jsx("button",{className:"delete-btn",onClick:()=>n(s.id),"aria-label":"",children:""})]})]})}function S2({tasks:s,onToggleTask:e,onDeleteTask:n,onBulkDeleteTasks:a,onEditTask:o}){const[c,f]=ue.useState(""),[y,_]=ue.useState("dueDate"),[g,E]=ue.useState([]),[b,R]=ue.useState(!1),[k,H]=ue.useState(""),J=[{name:"",emoji:"",color:"#64748b"},{name:"",emoji:"",color:"#10b981"},{name:"",emoji:"",color:"#ef4444"},{name:"",emoji:"",color:"#3b82f6"},{name:"",emoji:"",color:"#f59e0b"}],X=ue.useMemo(()=>{let O=[...s];if(O=O.filter(w=>w.taskType!=="pastpaper"),k!==""&&(O=O.filter(w=>w.subject===k)),c.trim()){const w=c.toLowerCase();O=O.filter(N=>N.title.toLowerCase().includes(w)||N.subject?.toLowerCase().includes(w)||N.unit?.toLowerCase().includes(w))}return O.sort((w,N)=>{switch(y){case"dueDate":return new Date(w.dueDate)-new Date(N.dueDate);case"subject":return(w.subject||"").localeCompare(N.subject||"");case"priority":{const C={A:0,B:1,C:2};return(C[w.priority]||3)-(C[N.priority]||3)}case"created":return new Date(N.createdAt)-new Date(w.createdAt);default:return 0}}),O},[s,c,y,k]),z=ue.useMemo(()=>{const O=s.filter(I=>I.taskType!=="pastpaper"),w=O.length,N=O.filter(I=>I.completed).length,C=w-N,D=w>0?Math.round(N/w*100):0,x={};O.forEach(I=>{const le=I.subject||"";x[le]||(x[le]={total:0,completed:0}),x[le].total++,I.completed&&x[le].completed++});const U={};return O.forEach(I=>{const le=I.priority||"";U[le]||(U[le]={total:0,completed:0}),U[le].total++,I.completed&&U[le].completed++}),{total:w,completed:N,pending:C,completionRate:D,bySubject:x,byPriority:U}},[s]),ie=()=>{g.length===X.length?E([]):E(X.map(O=>O.id))},$=O=>{g.includes(O)?E(g.filter(w=>w!==O)):E([...g,O])},ae=()=>{window.confirm(`${g.length}`)&&(g.forEach(O=>{const w=s.find(N=>N.id===O);w&&!w.completed&&e(O)}),E([]),R(!1))},pe=()=>{window.confirm(`${g.length}`)&&(a?a(g):g.forEach(O=>{n(O)}),E([]),R(!1))};return s.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx("p",{children:" "}),m.jsx("p",{children:""})]}):m.jsxs("div",{className:"enhanced-task-list",children:[m.jsxs("div",{className:"task-statistics",children:[m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsx("div",{className:"stat-value",children:z.total})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsx("div",{className:"stat-value",children:z.completed})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsx("div",{className:"stat-value",children:z.pending})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsxs("div",{className:"stat-value",children:[z.completionRate,"%"]})]})]}),m.jsx("div",{className:"subject-filter",children:J.map(O=>m.jsxs("button",{className:`subject-filter-btn ${k===O.name?"active":""}`,onClick:()=>H(O.name),children:[m.jsx("span",{className:"subject-filter-emoji",children:O.emoji}),m.jsx("span",{children:O.name})]},O.name))}),m.jsxs("div",{className:"task-controls",children:[m.jsxs("div",{className:"search-box",children:[m.jsx("span",{className:"search-icon",children:""}),m.jsx("input",{type:"text",placeholder:"...",value:c,onChange:O=>f(O.target.value),className:"search-input"}),c&&m.jsx("button",{className:"clear-search",onClick:()=>f(""),title:"",children:""})]}),m.jsxs("div",{className:"sort-box",children:[m.jsx("label",{children:":"}),m.jsxs("select",{value:y,onChange:O=>_(O.target.value),className:"sort-select",children:[m.jsx("option",{value:"dueDate",children:""}),m.jsx("option",{value:"subject",children:""}),m.jsx("option",{value:"priority",children:""}),m.jsx("option",{value:"created",children:""})]})]}),m.jsx("button",{className:`bulk-mode-btn ${b?"active":""}`,onClick:()=>{R(!b),E([])},children:b?" ":" "})]}),b&&m.jsxs("div",{className:"bulk-actions-bar",children:[m.jsxs("div",{className:"bulk-select",children:[m.jsx("input",{type:"checkbox",checked:g.length===X.length&&X.length>0,onChange:ie,id:"select-all"}),m.jsxs("label",{htmlFor:"select-all",children:[" (",g.length,"/",X.length,")"]})]}),g.length>0&&m.jsxs("div",{className:"bulk-buttons",children:[m.jsxs("button",{className:"bulk-complete-btn",onClick:ae,children:["  (",g.length,")"]}),m.jsxs("button",{className:"bulk-delete-btn",onClick:pe,children:["  (",g.length,")"]})]})]}),c&&m.jsxs("div",{className:"search-results-info",children:[' "',c,'" : ',X.length,""]}),m.jsx("div",{className:"task-list",children:X.length===0?m.jsxs("div",{className:"no-results",children:[m.jsx("p",{children:" "}),m.jsx("button",{onClick:()=>f(""),className:"reset-search-btn",children:""})]}):X.map(O=>m.jsxs("div",{className:`task-item-wrapper ${b?"bulk-mode":""}`,children:[b&&m.jsx("input",{type:"checkbox",checked:g.includes(O.id),onChange:()=>$(O.id),className:"task-checkbox"}),m.jsx(E2,{task:O,onToggle:e,onDelete:n,onEdit:o})]},O.id))})]})}function lm(s){const e=new Date(s),n=e.getDay(),a=e.getDate()-n;return new Date(e.setDate(a))}function Uu(s){const e=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0");return`${e}-${n}-${a}`}function om(s,e){const n=new Date(s);return n.setDate(n.getDate()+e),n}function K0(s){return s===0?"":s===1?"":s<7?`${s}`:s<30?`${Math.floor(s/7)}`:`${Math.floor(s/30)}`}function b2({tasks:s,onToggleTask:e,onDeleteTask:n,onEditTask:a}){const o=()=>{if(s.length>0){const O=s.filter(w=>w.dueDate);if(O.length>0)return new Date(O[0].dueDate)}return new Date},[c,f]=ue.useState(lm(o())),[y,_]=ue.useState("week"),[g,E]=ue.useState(o());function b(){f(om(c,-7))}function R(){f(om(c,7))}function k(){const O=new Date(g);O.setMonth(O.getMonth()-1),E(O)}function H(){const O=new Date(g);O.setMonth(O.getMonth()+1),E(O)}function J(){const O=new Date;f(lm(O)),E(O)}function X(){E(new Date(c)),_("month")}function z(){f(lm(g)),_("week")}const ie=Array.from({length:7},(O,w)=>om(c,w));function $(){const O=g.getFullYear(),w=g.getMonth(),N=new Date(O,w,1),C=new Date(N);C.setDate(C.getDate()-C.getDay());const D=[];let x=new Date(C);for(;D.length<42;)D.push(new Date(x)),x.setDate(x.getDate()+1);return D}function ae(O){const w=Uu(O);return s.filter(C=>C.dueDate===w)}const pe=Uu(new Date);return m.jsxs("div",{className:"weekly-calendar",children:[m.jsxs("div",{className:"calendar-header",children:[m.jsx("button",{onClick:y==="week"?b:k,className:"nav-btn",children:""}),m.jsx("div",{className:"calendar-title",children:y==="week"?m.jsxs(m.Fragment,{children:[m.jsxs("h2",{children:[" ",ie[0].getMonth()+1," "]}),m.jsxs("div",{className:"calendar-controls",children:[m.jsx("button",{onClick:J,className:"today-btn",children:" "}),m.jsx("button",{onClick:X,className:"view-mode-btn",children:""})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("h2",{children:[" ",g.getFullYear()," ",g.getMonth()+1,""]}),m.jsxs("div",{className:"calendar-controls",children:[m.jsx("button",{onClick:J,className:"today-btn",children:" "}),m.jsx("button",{onClick:z,className:"view-mode-btn",children:""})]})]})}),m.jsx("button",{onClick:y==="week"?R:H,className:"nav-btn",children:""})]}),y==="week"?m.jsx("div",{className:"calendar-grid weekly-grid",children:ie.map((O,w)=>{const N=Uu(O),C=ae(O),D=N===pe;return m.jsxs("div",{className:`calendar-day ${D?"today":""}`,children:[m.jsxs("div",{className:"day-header",children:[m.jsx("div",{className:"day-name",children:G0[w]}),m.jsxs("div",{className:"day-date",children:[O.getMonth()+1,"/",O.getDate()]})]}),m.jsx("div",{className:"day-tasks",children:C.length===0?m.jsx("div",{className:"no-tasks",children:""}):C.map(x=>m.jsxs("div",{className:`calendar-task ${x.completed?"completed":""}`,children:[m.jsxs("div",{className:"task-header",children:[m.jsx("input",{type:"checkbox",checked:x.completed,onChange:()=>e(x.id),className:"task-checkbox-small"}),m.jsx("span",{className:"task-emoji",children:Yn[x.subject]})]}),m.jsx("div",{className:"task-title-small clickable",onClick:()=>a&&a(x),title:"",children:x.title}),m.jsx("button",{className:"delete-btn-small",onClick:()=>n(x.id),children:""})]},x.id))})]},w)})}):m.jsxs("div",{className:"calendar-grid monthly-grid",children:[m.jsx("div",{className:"month-weekdays",children:G0.map((O,w)=>m.jsx("div",{className:"weekday-header",children:O},w))}),m.jsx("div",{className:"month-days",children:$().map((O,w)=>{const N=Uu(O),C=ae(O),D=N===pe,x=O.getMonth()===g.getMonth();return m.jsxs("div",{className:`month-day ${D?"today":""} ${x?"":"other-month"}`,children:[m.jsx("div",{className:"month-day-date",children:O.getDate()}),m.jsx("div",{className:"month-day-tasks",children:C.length>0&&m.jsxs("div",{className:"task-indicators",children:[C.slice(0,3).map(U=>m.jsx("div",{className:`task-dot ${U.completed?"completed":""} clickable`,title:`${U.title} ()`,onClick:()=>a&&a(U),children:Yn[U.subject]},U.id)),C.length>3&&m.jsxs("div",{className:"more-tasks",children:["+",C.length-3]})]})})]},w)})})]}),m.jsxs("div",{className:"unscheduled-tasks",children:[m.jsx("h3",{children:" "}),m.jsxs("div",{className:"unscheduled-list",children:[s.filter(O=>!O.dueDate).map(O=>m.jsxs("div",{className:`unscheduled-task ${O.completed?"completed":""}`,children:[m.jsx("input",{type:"checkbox",checked:O.completed,onChange:()=>e(O.id),className:"task-checkbox-small"}),m.jsx("span",{className:"task-emoji",children:Yn[O.subject]}),m.jsx("span",{className:"task-title-small clickable",onClick:()=>a&&a(O),title:"",children:O.title}),m.jsx("button",{className:"delete-btn-small",onClick:()=>n(O.id),children:""})]},O.id)),s.filter(O=>!O.dueDate).length===0&&m.jsx("div",{className:"no-tasks",children:""})]})]})]})}const SS="sapix_study_sessions";function bS(){const s=localStorage.getItem(SS);return s?JSON.parse(s):[]}function A2(s){localStorage.setItem(SS,JSON.stringify(s))}function w2(s){const e=bS(),n={id:`session_${Date.now()}`,date:new Date().toISOString().split("T")[0],duration:0,masteryLevel:3,notes:"",testScore:null,needsReview:"medium",...s};return e.push(n),A2(e),n}function Ug(s){return bS().filter(n=>n.unitId===s).sort((n,a)=>new Date(a.date)-new Date(n.date))}function N2(s){const e=Ug(s);if(e.length===0)return{studyCount:0,totalDuration:0,averageMastery:0,lastStudyDate:null,needsReview:!1};const n=e.reduce((y,_)=>y+(_.duration||0),0),a=e.reduce((y,_)=>y+_.masteryLevel,0)/e.length,o=e[0].date,c=Math.floor((new Date-new Date(o))/(1e3*60*60*24)),f=c>7||a<3;return{studyCount:e.length,totalDuration:n,averageMastery:Math.round(a*10)/10,lastStudyDate:o,daysSinceLastStudy:c,needsReview:f}}function I2(s,e,n){const a=n.filter(y=>Ug(y.id).length>0),o=n.length,c=a.length,f=o>0?Math.round(c/o*100):0;return{totalUnits:o,studiedCount:c,unstudiedCount:o-c,percentage:f}}function Lu(s){return"".repeat(s)+"".repeat(5-s)}let Xs=null;function Pu(s,e="info"){Xs||(Xs=document.createElement("div"),Xs.className="toast-container",document.body.appendChild(Xs));const n=document.createElement("div");n.className=`toast toast-${e}`;const a=C2(e);n.innerHTML=`
    <span class="toast-icon">${a}</span>
    <span class="toast-message">${s}</span>
  `,Xs.appendChild(n),setTimeout(()=>{n.classList.add("toast-show")},10),setTimeout(()=>{n.classList.remove("toast-show"),setTimeout(()=>{Xs&&Xs.contains(n)&&Xs.removeChild(n)},300)},3e3)}function C2(s){const e={success:"",error:"",warning:"",info:""};return e[s]||e.info}const lt={success:s=>Pu(s,"success"),error:s=>Pu(s,"error"),warning:s=>Pu(s,"warning"),info:s=>Pu(s,"info")};function R2({tasks:s,onEditTask:e,customUnits:n=[]}){const[a,o]=ue.useState("4"),[c,f]=ue.useState(""),[y,_]=ue.useState(null),[g,E]=ue.useState(!1),[b,R]=ue.useState({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),k=tl[c]?.[a]||[],H=n.filter(ae=>ae.subject===c&&ae.grade===a),J=[...k,...H],X=I2(c,a,J),z=ae=>{try{w2({unitId:ae,...b}),E(!1),R({duration:30,masteryLevel:3,notes:"",needsReview:"medium"}),o(a),lt.success("")}catch(pe){lt.error(": "+pe.message)}},ie=ae=>{y===ae?(_(null),E(!1)):(_(ae),E(!1))},$=ae=>s?s.filter(O=>O.unitId===ae):[];return m.jsxs("div",{className:"unit-dashboard",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsxs("div",{className:"selection-area",children:[m.jsx("label",{children:":"}),tr.map(ae=>m.jsx("button",{className:`grade-btn ${a===ae?"active":""}`,onClick:()=>o(ae),children:ae},ae))]}),m.jsx("div",{className:"subject-grid",children:$r.map(ae=>m.jsxs("button",{className:`dashboard-subject-btn ${c===ae?"active":""}`,onClick:()=>f(ae),style:{borderColor:c===ae?an[ae]:"#e2e8f0",background:c===ae?`${an[ae]}15`:"white",padding:"12px",fontSize:"0.9rem",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"10px",whiteSpace:"nowrap"},children:[m.jsx("span",{className:"subject-emoji",children:Yn[ae]}),m.jsx("span",{children:ae})]},ae))})]}),m.jsxs("div",{className:"progress-summary",children:[m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-label",children:""}),m.jsx("div",{className:"summary-value",children:X.totalUnits})]}),m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-label",children:""}),m.jsx("div",{className:"summary-value",style:{color:an[c]},children:X.studiedCount})]}),m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-label",children:""}),m.jsx("div",{className:"summary-value",children:X.unstudiedCount})]}),m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-label",children:""}),m.jsxs("div",{className:"summary-value",children:[X.percentage,"%"]})]})]}),m.jsx("div",{className:"units-grid",children:J.map(ae=>{const pe=N2(ae.id),O=Ug(ae.id),w=y===ae.id,N=`${an[c]}26`,C=$(ae.id);return m.jsxs("div",{className:`unit-card ${pe.needsReview?"needs-review":""} ${pe.studyCount===0?"unstudied":""} ${w?"expanded":""}`,style:{backgroundColor:N},children:[m.jsxs("div",{className:"unit-header clickable",onClick:()=>ie(ae.id),children:[m.jsxs("div",{className:"unit-title",children:[m.jsx("span",{className:"unit-name",children:ae.name}),m.jsx("span",{className:"unit-category",children:ae.category})]}),m.jsxs("div",{className:"unit-header-right",children:[pe.studyCount>0&&m.jsxs("div",{className:"unit-badge",children:[pe.studyCount,""]}),m.jsx("span",{className:"expand-icon",children:w?"":""})]})]}),!w&&m.jsx("div",{className:"unit-compact",children:pe.studyCount>0?m.jsxs("div",{className:"compact-info",children:[m.jsx("span",{className:"compact-mastery",children:Lu(Math.round(pe.averageMastery))}),m.jsx("span",{className:"compact-last-study",children:K0(pe.daysSinceLastStudy)}),pe.needsReview&&m.jsx("span",{className:"compact-alert",children:""})]}):m.jsx("div",{className:"unit-unstudied",children:" "})}),w&&m.jsxs("div",{className:"unit-details",children:[pe.studyCount>0&&m.jsxs("div",{className:"unit-stats",children:[m.jsxs("div",{className:"stat-row",children:[m.jsx("span",{className:"stat-label",children:":"}),m.jsx("span",{className:"stat-value mastery",children:Lu(Math.round(pe.averageMastery))})]}),m.jsxs("div",{className:"stat-row",children:[m.jsx("span",{className:"stat-label",children:":"}),m.jsx("span",{className:"stat-value",children:K0(pe.daysSinceLastStudy)})]}),m.jsxs("div",{className:"stat-row",children:[m.jsx("span",{className:"stat-label",children:":"}),m.jsxs("span",{className:"stat-value",children:[pe.totalDuration,""]})]}),pe.needsReview&&m.jsx("div",{className:"review-alert",children:" "})]}),m.jsx("button",{className:"add-session-btn",onClick:D=>{D.stopPropagation(),E(!g)},children:g?" ":"+ "}),g&&m.jsxs("div",{className:"session-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"number",value:b.duration,onChange:D=>R({...b,duration:parseInt(D.target.value)}),min:"0",step:"5"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:":"}),m.jsx("div",{className:"mastery-buttons",children:[1,2,3,4,5].map(D=>m.jsx("button",{className:`mastery-btn ${b.masteryLevel===D?"active":""}`,onClick:()=>R({...b,masteryLevel:D}),children:Lu(D)},D))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:":"}),m.jsx("textarea",{value:b.notes,onChange:D=>R({...b,notes:D.target.value}),placeholder:"...",rows:"3"})]}),m.jsx("button",{className:"save-session-btn",onClick:()=>z(ae.id),children:" "})]}),O.length>0&&m.jsxs("div",{className:"session-history",children:[m.jsx("div",{className:"history-header",children:":"}),O.map(D=>m.jsxs("div",{className:"session-item",children:[m.jsx("span",{className:"session-date",children:D.date}),m.jsx("span",{className:"session-mastery",children:Lu(D.masteryLevel)}),m.jsxs("span",{className:"session-duration",children:[D.duration,""]})]},D.id))]}),C.length>0&&m.jsxs("div",{className:"related-tasks",children:[m.jsxs("div",{className:"related-header",children:["  (",C.length,")"]}),C.map(D=>m.jsxs("div",{className:"related-task-item",children:[m.jsxs("div",{className:"related-task-info",children:[m.jsx("span",{className:`task-status ${D.completed?"completed":""}`,children:D.completed?"":""}),m.jsx("span",{className:"related-task-title",children:D.title})]}),e&&m.jsx("button",{className:"edit-task-btn",onClick:x=>{x.stopPropagation(),e(D)},title:"",children:""})]},D.id))]})]})]},ae.id)})})]})}function x2({data:s,subjects:e,type:n="line"}){const[a,o]=ue.useState(["",...e]),c={:"#6366f1",...an},f=$=>{a.includes($)?a.length>1&&o(a.filter(ae=>ae!==$)):o([...a,$])},y=$=>s.map(ae=>$===""?ae.overall.percentage:ae.subjects[$]?.percentage||null),_=100,g=0,E=200,b={top:20,right:20,bottom:40,left:50},R=E-b.top-b.bottom,k=600,H=$=>$==null?null:b.top+R*(1-($-g)/(_-g)),J=$=>b.left+k/(s.length-1)*$,X=$=>{if(!$||$.length===0)return"";let ae="",pe=-1;return $.forEach((O,w)=>{if(O!==null){const N=J(w),C=H(O);pe===-1?ae+=`M ${N} ${C}`:ae+=` L ${N} ${C}`,pe=w}}),ae},z=()=>{const $=Math.ceil(s.length/6);return s.map((ae,pe)=>pe%$===0||pe===s.length-1?{x:J(pe),label:ie(ae.date)}:null).filter(Boolean)},ie=$=>{if(!$)return"";const ae=new Date($);return`${ae.getMonth()+1}/${ae.getDate()}`};return m.jsxs("div",{className:"progress-chart",children:[m.jsx("div",{className:"chart-legend",children:["",...e].map($=>m.jsxs("button",{className:`legend-item ${a.includes($)?"active":""}`,onClick:()=>f($),style:{borderColor:c[$],background:a.includes($)?`${c[$]}20`:"transparent"},children:[m.jsx("span",{className:"legend-color",style:{background:c[$]}}),m.jsx("span",{className:"legend-label",children:$})]},$))}),m.jsxs("div",{className:"chart-container",children:[m.jsxs("svg",{viewBox:`0 0 ${k+b.left+b.right} ${E}`,className:"chart-svg",children:[[0,25,50,75,100].map($=>m.jsxs("g",{children:[m.jsx("line",{x1:b.left,y1:H($),x2:b.left+k,y2:H($),stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:$===0||$===100?"0":"4 4"}),m.jsxs("text",{x:b.left-10,y:H($),textAnchor:"end",alignmentBaseline:"middle",className:"axis-label",children:[$,"%"]})]},$)),z().map(($,ae)=>m.jsx("text",{x:$.x,y:E-10,textAnchor:"middle",className:"axis-label",children:$.label},ae)),a.map($=>{const ae=y($),pe=X(ae);return m.jsxs("g",{children:[m.jsx("path",{d:pe,fill:"none",stroke:c[$],strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),ae.map((O,w)=>O===null?null:m.jsx("circle",{cx:J(w),cy:H(O),r:"4",fill:c[$],stroke:"white",strokeWidth:"2"},w))]},$)})]}),s.length===0&&m.jsxs("div",{className:"no-data-message",children:[m.jsx("p",{children:" "}),m.jsx("p",{className:"hint",children:""})]})]})]})}const AS="progressHistory",D2=90,j2=()=>new Date().toISOString().split("T")[0],O2=s=>{if(!s||s.length===0)return;const e=j2(),n=Lg(),a=["","","",""],o={};let c=0;a.forEach(b=>{const R=s.filter(X=>X.subject===b),k=R.filter(X=>X.completed).length,H=R.length,J=H>0?Math.round(k/H*100):0;o[b]={completed:k,total:H,percentage:J}}),c=k2().reduce((b,R)=>b+(R.duration||0),0);const y=s.filter(b=>b.completed).length,_=s.length,g=_>0?Math.round(y/_*100):0,E={date:e,timestamp:new Date().toISOString(),subjects:o,overall:{completed:y,total:_,percentage:g},studyTime:c,taskCount:_};return n[e]=E,M2(n),localStorage.setItem(AS,JSON.stringify(n)),E},Lg=()=>{const s=localStorage.getItem(AS);if(!s)return{};try{return JSON.parse(s)}catch(e){return console.error("Failed to parse progress history:",e),{}}},M2=s=>{const e=new Date,n=new Date(e);n.setDate(n.getDate()-D2);const a=n.toISOString().split("T")[0];Object.keys(s).forEach(o=>{o<a&&delete s[o]})},Vm=(s=30)=>{const e=Lg(),n=new Date,a=[];for(let o=s-1;o>=0;o--){const c=new Date(n);c.setDate(c.getDate()-o);const f=c.toISOString().split("T")[0];e[f]?a.push(e[f]):a.push({date:f,subjects:{},overall:{percentage:null},studyTime:0})}return a},V2=(s=12)=>{const e=Lg(),n=[],a=new Date;for(let o=s-1;o>=0;o--){const c=new Date(a);c.setDate(c.getDate()-o*7);const f=new Date(c);f.setDate(f.getDate()-6);const y=f.toISOString().split("T")[0],_=c.toISOString().split("T")[0],g={weekStart:y,weekEnd:_,totalStudyTime:0,subjects:{:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0},:{percentage:null,studyTime:0}},overall:{percentage:null}};let E=0;const b={:0,:0,:0,:0};let R=0;for(let k=0;k<7;k++){const H=new Date(f);H.setDate(H.getDate()+k);const J=H.toISOString().split("T")[0];e[J]&&(E++,g.totalStudyTime+=e[J].studyTime||0,Object.keys(e[J].subjects).forEach(X=>{b[X]+=e[J].subjects[X].percentage||0}),R+=e[J].overall.percentage||0)}E>0&&(Object.keys(b).forEach(k=>{g.subjects[k].percentage=Math.round(b[k]/E)}),g.overall.percentage=Math.round(R/E)),n.push(g)}return n},k2=s=>[],U2=(s=30)=>{const n=Vm(s).filter(k=>k.overall.percentage!==null);if(n.length===0)return{averageProgress:0,totalStudyTime:0,averageDailyStudyTime:0,improvement:0,bestSubject:null,weakestSubject:null};const a=Math.round(n.reduce((k,H)=>k+H.overall.percentage,0)/n.length),o=n.reduce((k,H)=>k+H.studyTime,0),c=Math.round(o/n.length);let f=0;if(n.length>=7){const k=n.slice(0,7),H=n.slice(-7),J=k.reduce((z,ie)=>z+ie.overall.percentage,0)/k.length,X=H.reduce((z,ie)=>z+ie.overall.percentage,0)/H.length;f=Math.round(X-J)}const y=["","","",""],_={};y.forEach(k=>{const H=n.filter(J=>J.subjects[k]&&J.subjects[k].percentage!==null).map(J=>J.subjects[k].percentage);H.length>0&&(_[k]=Math.round(H.reduce((J,X)=>J+X,0)/H.length))});let g=null,E=null,b=-1,R=101;return Object.entries(_).forEach(([k,H])=>{H>b&&(b=H,g=k),H<R&&(R=H,E=k)}),{averageProgress:a,totalStudyTime:o,averageDailyStudyTime:c,improvement:f,bestSubject:g,weakestSubject:E,subjectAverages:_}};function L2({tasks:s}){const[e,n]=ue.useState("30days"),[a,o]=ue.useState([]),[c,f]=ue.useState(null),y=["","","",""],_=ue.useCallback(()=>{let g,E;e==="30days"?(g=Vm(30),E=30):e==="90days"?(g=Vm(90),E=90):e==="12weeks"&&(g=V2(12),E=84),o(g),f(U2(E))},[e]);return ue.useEffect(()=>{s&&s.length>0&&O2(s),_()},[s,_]),m.jsxs("div",{className:"analytics",children:[m.jsxs("div",{className:"analytics-header",children:[m.jsx("h2",{children:" "}),m.jsxs("div",{className:"period-selector",children:[m.jsx("button",{className:e==="30days"?"active":"",onClick:()=>n("30days"),children:"30"}),m.jsx("button",{className:e==="90days"?"active":"",onClick:()=>n("90days"),children:"90"}),m.jsx("button",{className:e==="12weeks"?"active":"",onClick:()=>n("12weeks"),children:"12"})]})]}),c&&m.jsxs("div",{className:"statistics-summary",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsxs("div",{className:"stat-value",children:[c.averageProgress,"%"]})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsxs("div",{className:"stat-value",children:[Math.round(c.totalStudyTime/60),"h ",c.totalStudyTime%60,"m"]})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:"1"}),m.jsxs("div",{className:"stat-value",children:[c.averageDailyStudyTime,""]})]})]}),m.jsxs("div",{className:`stat-card ${c.improvement>=0?"positive":"negative"}`,children:[m.jsx("div",{className:"stat-icon",children:c.improvement>=0?"":""}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-label",children:""}),m.jsxs("div",{className:"stat-value",children:[c.improvement>0?"+":"",c.improvement,"%"]})]})]})]}),m.jsxs("div",{className:"chart-section",children:[m.jsx("h3",{children:" "}),m.jsx(x2,{data:a,subjects:y})]}),c&&c.subjectAverages&&m.jsxs("div",{className:"subject-analysis",children:[m.jsx("h3",{children:" "}),m.jsx("div",{className:"subject-grid",children:y.map(g=>{const E=c.subjectAverages[g]||0,b=g===c.bestSubject,R=g===c.weakestSubject;return m.jsxs("div",{className:`subject-card ${b?"best":""} ${R?"weakest":""}`,children:[m.jsxs("div",{className:"subject-card-header",children:[m.jsx("span",{className:"subject-emoji",children:Yn[g]}),m.jsx("span",{className:"subject-name",children:g}),b&&m.jsx("span",{className:"badge best-badge",children:""}),R&&m.jsx("span",{className:"badge weak-badge",children:""})]}),m.jsxs("div",{className:"subject-average",children:[m.jsxs("div",{className:"average-value",children:[E,"%"]}),m.jsx("div",{className:"average-label",children:""})]})]},g)})})]}),c&&m.jsxs("div",{className:"advice-section",children:[m.jsx("h3",{children:" "}),m.jsxs("div",{className:"advice-cards",children:[c.weakestSubject&&m.jsxs("div",{className:"advice-card",children:[m.jsx("div",{className:"advice-icon",children:""}),m.jsxs("div",{className:"advice-content",children:[m.jsxs("strong",{children:[Yn[c.weakestSubject]," ",c.weakestSubject,""]}),m.jsxs("p",{children:[": ",c.subjectAverages[c.weakestSubject],"%"]}),m.jsx("p",{children:""})]})]}),c.averageDailyStudyTime<60&&m.jsxs("div",{className:"advice-card",children:[m.jsx("div",{className:"advice-icon",children:""}),m.jsxs("div",{className:"advice-content",children:[m.jsx("strong",{children:""}),m.jsxs("p",{children:["1: ",c.averageDailyStudyTime,""]}),m.jsx("p",{children:": 60SAPIX"})]})]}),c.improvement>10&&m.jsxs("div",{className:"advice-card positive",children:[m.jsx("div",{className:"advice-icon",children:""}),m.jsxs("div",{className:"advice-content",children:[m.jsx("strong",{children:""}),m.jsxs("p",{children:["",c.improvement,"%"]}),m.jsx("p",{children:""})]})]}),c.improvement<-10&&m.jsxs("div",{className:"advice-card warning",children:[m.jsx("div",{className:"advice-icon",children:""}),m.jsxs("div",{className:"advice-content",children:[m.jsx("strong",{children:""}),m.jsx("p",{children:""}),m.jsx("p",{children:""})]})]})]})]})]})}function P2({customUnits:s=[],onAddCustomUnit:e,onUpdateUnit:n,onDeleteUnit:a}){const[o,c]=ue.useState("4"),[f,y]=ue.useState(""),[_,g]=ue.useState(!1),[E,b]=ue.useState(null),[R,k]=ue.useState(""),[H,J]=ue.useState(""),X=s.filter(O=>O.grade===o&&O.subject===f),z=async()=>{if(!R.trim()){lt.error("");return}e&&(await e({name:R,category:H,subject:f,grade:o})).success&&(k(""),J(""),g(!1))},ie=O=>{b(O),k(O.name),J(O.category),g(!0)},$=async()=>{if(!R.trim()){lt.error("");return}E&&n&&(await n(E.firestoreId,{name:R,category:H}),lt.success("")),b(null),k(""),J(""),g(!1)},ae=async O=>{window.confirm(`${O.name}`)&&a&&(await a(O.firestoreId),lt.success(""))},pe=()=>{b(null),k(""),J(""),g(!1)};return m.jsxs("div",{className:"unit-manager",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsxs("div",{className:"selection-area",children:[m.jsx("label",{children:":"}),tr.map(O=>m.jsx("button",{className:`grade-btn ${o===O?"active":""}`,onClick:()=>c(O),children:O},O))]}),m.jsx("div",{className:"subject-grid",children:$r.map(O=>m.jsxs("button",{className:`dashboard-subject-btn ${f===O?"active":""}`,onClick:()=>y(O),style:{borderColor:f===O?an[O]:"#e2e8f0",background:f===O?`${an[O]}15`:"white",padding:"12px",fontSize:"0.9rem",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"10px",whiteSpace:"nowrap"},children:[m.jsx("span",{className:"subject-emoji",children:Yn[O]}),m.jsx("span",{children:O})]},O))})]}),m.jsx("div",{style:{marginBottom:"24px",textAlign:"center"},children:m.jsx("button",{className:"add-session-btn",onClick:()=>g(!_),style:{maxWidth:"400px"},children:_?" ":" "})}),_&&m.jsx("div",{style:{marginBottom:"24px"},children:m.jsx(ES,{customUnitName:R,setCustomUnitName:k,customUnitCategory:H,setCustomUnitCategory:J,onAdd:E?$:z,onCancel:pe})}),m.jsx("div",{className:"units-grid",children:X.length===0?m.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",color:"#94a3b8",fontSize:"1rem"},children:[m.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),m.jsx("div",{children:""}),m.jsx("div",{style:{fontSize:"0.875rem",marginTop:"8px"},children:""})]}):X.map(O=>{const w=`${an[f]}26`;return m.jsxs("div",{className:"unit-card",style:{backgroundColor:w},children:[m.jsxs("div",{className:"unit-header",children:[m.jsxs("div",{className:"unit-title",children:[m.jsx("span",{className:"unit-name",children:O.name}),m.jsx("span",{className:"unit-category",children:O.category})]}),m.jsx("div",{className:"unit-badge",children:""})]}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[m.jsx("button",{className:"save-session-btn",onClick:()=>ie(O),style:{flex:1,background:"#007AFF",fontSize:"0.875rem"},children:" "}),m.jsx("button",{className:"save-session-btn",onClick:()=>ae(O),style:{flex:1,background:"#FF3B30",fontSize:"0.875rem"},children:" "})]})]},O.firestoreId||O.id)})})]})}async function z2(s,e,n){try{const a=sr(Dn,"users",s,"pastPaperSessions"),o={taskId:e,studiedAt:n.studiedAt||new Date().toISOString(),attemptNumber:n.attemptNumber||1,score:n.score||null,totalScore:n.totalScore||null,timeSpent:n.timeSpent||null,notes:n.notes||"",createdAt:new Date().toISOString()};return{success:!0,data:{firestoreId:(await kg(a,o)).id,...o}}}catch(a){return console.error("Error adding past paper session:",a),{success:!1,error:a.message}}}async function Pg(s,e){try{const n=sr(Dn,"users",s,"pastPaperSessions"),a=Ph(n,c2("taskId","==",e),Bh("studiedAt","asc")),o=await Mg(a),c=[];return o.forEach(f=>{c.push({firestoreId:f.id,...f.data()})}),{success:!0,data:c}}catch(n){return console.error("Error getting sessions:",n),{success:!1,error:n.message,data:[]}}}async function B2(s,e){try{const n=ui(Dn,"users",s,"pastPaperSessions",e);return await ec(n),{success:!0}}catch(n){return console.error("Error deleting session:",n),{success:!1,error:n.message}}}async function q2(s,e){try{const n=await Pg(s,e);if(!n.success)return n;const a=n.data.map(o=>B2(s,o.firestoreId));return await Promise.all(a),{success:!0,deletedCount:n.data.length}}catch(n){return console.error("Error deleting sessions by task ID:",n),{success:!1,error:n.message}}}async function H2(s,e){try{const n=await Pg(s,e);return n.success&&n.data.length>0?Math.max(...n.data.map(o=>o.attemptNumber||1))+1:1}catch(n){return console.error("Error getting next attempt number:",n),1}}function F2({tasks:s,user:e,customUnits:n=[],onAddTask:a,onUpdateTask:o,onDeleteTask:c}){const[f,y]=ue.useState("school"),[_,g]=ue.useState(""),[E,b]=ue.useState({}),[R,k]=ue.useState(null),[H,J]=ue.useState({studiedAt:new Date().toISOString().split("T")[0],score:"",totalScore:"",timeSpent:"",notes:""}),[X,z]=ue.useState(!1),[ie,$]=ue.useState({schoolName:"",year:"",round:"",subject:"",grade:"4",unitId:"",fileUrl:""}),[ae,pe]=ue.useState(null),[O,w]=ue.useState({schoolName:"",year:"",round:"",subject:"",grade:"4",unitId:"",fileUrl:""}),[N,C]=ue.useState({}),D=ue.useMemo(()=>{const G=s.filter(he=>he.taskType==="pastpaper"&&he.subject===_);return console.log("===  ==="),console.log(":",_),console.log(":",G.length),console.log("customUnits:",n),G.forEach((he,ye)=>{console.log(`
 ${ye+1}:`,{id:he.id,title:he.title,schoolName:he.schoolName||"()",year:he.year,round:he.round,unitId:he.unitId,grade:he.grade})}),console.log(`========================
`),G},[s,_,n]),x=ue.useCallback(async()=>{if(!e)return;const G={};for(const he of D){const ye=await Pg(e.uid,he.id);ye.success&&(G[he.id]=ye.data)}b(G)},[e,D]);ue.useEffect(()=>{x()},[x]),ue.useEffect(()=>{if(!e||!o)return;const G=n.map(he=>he.id);D.forEach(he=>{he.unitId&&he.unitId.startsWith("custom_")&&(G.includes(he.unitId)||(console.warn(` ${he.title}:`,he.unitId),o(he.id,{unitId:""}),lt.info(`${he.title}`)))})},[e,D,n,o]);const U=()=>{const G={};return console.log(`
===  ===`),D.forEach(he=>{const ye=he.schoolName||"";console.log(`${he.title} ${ye}`),G[ye]||(G[ye]=[]),G[ye].push(he)}),console.log(":",Object.keys(G)),console.log(`===========================
`),G},I=()=>{const G={};return console.log(`
===  ===`),D.forEach(he=>{he.unitId?(console.log(`${he.title}:`,he.unitId),G[he.unitId]||(G[he.unitId]=[]),G[he.unitId].push(he)):(console.log(`${he.title}unitId`),G.||(G.=[]),G..push(he))}),console.log(":",Object.keys(G)),console.log(`===========================
`),G},le=G=>{const he=n.find(ye=>ye.id===G);if(he)return console.log(`ID${G} ${he.name}`),he.name;for(const ye of $r){const Ze=tl[ye];if(Ze)for(const de in Ze){const dt=Ze[de].find(At=>At.id===G);if(dt)return console.log(`ID${G} ${dt.name}`),dt.name}}return console.warn(` ID${G}ID`),G},Se=G=>{k(G),J({studiedAt:new Date().toISOString().split("T")[0],score:"",totalScore:"",timeSpent:"",notes:""})},Q=async G=>{if(!e){lt.error("");return}const he=await H2(e.uid,G),ye={...H,attemptNumber:he,score:H.score?parseInt(H.score):null,totalScore:H.totalScore?parseInt(H.totalScore):null,timeSpent:H.timeSpent?parseInt(H.timeSpent):null},Ze=await z2(e.uid,G,ye);Ze.success?(await x(),k(null),lt.success("")):lt.error(": "+Ze.error)},re=G=>G.score!==null&&G.totalScore&&G.totalScore>0?Math.round(G.score/G.totalScore*100):null,ve=G=>{$({...ie,unitId:G})},ke=async()=>{if(!ie.schoolName||!ie.year||!ie.round){lt.error("");return}const G={title:`${ie.schoolName} ${ie.year} ${ie.round}`,taskType:"pastpaper",subject:ie.subject,grade:"",schoolName:ie.schoolName,year:ie.year,round:ie.round,unitId:ie.unitId,fileUrl:ie.fileUrl,dueDate:"",priority:"medium"};await a(G),$({schoolName:"",year:"",round:"",subject:"",grade:"4",unitId:"",fileUrl:""}),z(!1),lt.success("")},Qe=async(G,he)=>{if(!e){lt.error("");return}if(window.confirm(`${he}

`))try{const Ze=await q2(e.uid,G);if(!Ze.success){lt.error(": "+Ze.error);return}await c(G),lt.success("")}catch(Ze){lt.error(": "+Ze.message)}},V=G=>{pe(G.id),w({schoolName:G.schoolName||"",year:G.year||"",round:G.round||"",subject:G.subject||"",grade:G.grade||"4",unitId:G.unitId||"",fileUrl:G.fileUrl||""})},ee=()=>{pe(null),w({schoolName:"",year:"",round:"",subject:"",grade:"4",unitId:"",fileUrl:""})},ce=async()=>{if(!O.schoolName||!O.year||!O.round){lt.error("");return}const G={title:`${O.schoolName} ${O.year} ${O.round}`,schoolName:O.schoolName,year:O.year,round:O.round,subject:O.subject,unitId:O.unitId,fileUrl:O.fileUrl};await o(ae,G),pe(null),lt.success("")},me=G=>{w({...O,unitId:G})},Ne=G=>{C(he=>({...he,[G]:!he[G]}))},Re=f==="school"?U():I();return m.jsxs("div",{className:"pastpaper-view",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsxs("div",{className:"selection-area",children:[m.jsx("label",{children:":"}),m.jsx("button",{className:`grade-btn ${f==="school"?"active":""}`,onClick:()=>y("school"),children:""}),m.jsx("button",{className:`grade-btn ${f==="unit"?"active":""}`,onClick:()=>y("unit"),children:""})]}),m.jsx("div",{className:"subject-grid",children:$r.map(G=>m.jsxs("button",{className:`pastpaper-subject-btn ${_===G?"active":""}`,onClick:()=>g(G),style:{borderColor:_===G?an[G]:"#e2e8f0",background:_===G?`${an[G]}15`:"white",padding:"12px",fontSize:"0.9rem",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"10px",whiteSpace:"nowrap"},children:[m.jsx("span",{className:"subject-emoji",children:Yn[G]}),m.jsx("span",{children:G})]},G))})]}),m.jsx("div",{className:"view-header",children:m.jsxs("div",{className:"header-title-row",children:[m.jsxs("div",{children:[m.jsx("h2",{children:" "}),m.jsx("p",{className:"view-description",children:""})]}),m.jsx("button",{className:"add-pastpaper-btn",onClick:()=>z(!X),children:X?" ":"+ "})]})}),X&&m.jsxs("div",{className:"add-pastpaper-form",children:[m.jsx("h3",{children:" "}),m.jsxs("div",{className:"add-form-section",children:[m.jsx("label",{className:"section-label",children:":"}),m.jsx("div",{className:"subject-selector-inline",children:$r.map(G=>m.jsxs("button",{type:"button",className:`subject-btn ${ie.subject===G?"active":""}`,onClick:()=>{$({...ie,subject:G,relatedUnits:[]})},style:{borderColor:ie.subject===G?an[G]:"#e2e8f0",background:ie.subject===G?`${an[G]}15`:"white"},children:[m.jsx("span",{className:"subject-emoji",children:Yn[G]}),m.jsx("span",{children:G})]},G))})]}),m.jsxs("div",{className:"add-form-field",style:{marginBottom:"12px"},children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"text",placeholder:": ",value:ie.schoolName,onChange:G=>$({...ie,schoolName:G.target.value})})]}),m.jsxs("div",{className:"add-form-grid-two-cols",children:[m.jsxs("div",{className:"add-form-field",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"text",placeholder:": 2024",value:ie.year,onChange:G=>$({...ie,year:G.target.value})})]}),m.jsxs("div",{className:"add-form-field",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"text",placeholder:": 1",value:ie.round,onChange:G=>$({...ie,round:G.target.value})})]})]}),m.jsxs("div",{className:"add-form-section",children:[m.jsx("label",{className:"section-label",children:" :"}),m.jsx("input",{type:"url",className:"file-url-input",placeholder:"GooglePDFURL",value:ie.fileUrl,onChange:G=>$({...ie,fileUrl:G.target.value})}),m.jsx("small",{className:"input-hint",children:"GooglePDFURL"})]}),m.jsxs("div",{className:"add-form-section",children:[m.jsx("label",{className:"section-label",children:":"}),m.jsx("div",{className:"grade-selector-inline",children:tr.map(G=>m.jsx("button",{type:"button",className:`grade-btn-small ${ie.grade===G?"active":""}`,onClick:()=>$({...ie,grade:G}),children:G},G))})]}),m.jsxs("div",{className:"add-form-section",children:[m.jsx("label",{className:"section-label",children:":"}),m.jsxs("div",{className:"units-checkbox-grid",children:[tl[ie.subject]?.[ie.grade]?.map(G=>m.jsxs("label",{className:"unit-checkbox-label",children:[m.jsx("input",{type:"radio",name:"unitId",checked:ie.unitId===G.id,onChange:()=>ve(G.id)}),m.jsx("span",{children:G.name})]},G.id)),n.filter(G=>G.subject===ie.subject&&G.grade===ie.grade).map(G=>m.jsxs("label",{className:"unit-checkbox-label custom",children:[m.jsx("input",{type:"radio",name:"unitId",checked:ie.unitId===G.id,onChange:()=>ve(G.id)}),m.jsxs("span",{children:[" ",G.name]})]},G.id))]}),ie.unitId&&m.jsxs("div",{className:"selected-units-summary",children:[": ",le(ie.unitId)]})]}),m.jsxs("div",{className:"add-form-actions",children:[m.jsx("button",{className:"btn-secondary",onClick:()=>{z(!1),$({schoolName:"",year:"",round:"",subject:"",grade:"4",unitId:"",fileUrl:""})},children:""}),m.jsx("button",{className:"btn-primary",onClick:ke,children:" "})]})]}),m.jsx("div",{className:"pastpaper-content",children:Object.keys(Re).length===0?m.jsxs("div",{className:"no-data",children:[" ",m.jsx("br",{}),m.jsx("small",{children:" "})]}):Object.entries(Re).map(([G,he])=>m.jsxs("div",{className:"pastpaper-group",children:[m.jsxs("h3",{className:"group-title",children:[f==="school"?` ${G}`:` ${le(G)}`,m.jsxs("span",{className:"task-count",children:["(",he.length,")"]})]}),m.jsx("div",{className:"task-cards",children:he.map(ye=>{const Ze=(E[ye.id]||[]).sort((ge,dt)=>ge.attemptNumber-dt.attemptNumber),de=Ze[Ze.length-1];return m.jsxs("div",{className:"pastpaper-card",children:[ae===ye.id?m.jsxs("div",{className:"edit-form-container",children:[m.jsx("h4",{children:" "}),m.jsxs("div",{className:"edit-form-section",children:[m.jsx("label",{className:"section-label",children:":"}),m.jsx("div",{className:"subject-selector-inline",children:$r.map(ge=>m.jsxs("button",{type:"button",className:`subject-btn ${O.subject===ge?"active":""}`,onClick:()=>{w({...O,subject:ge,unitId:""})},style:{borderColor:O.subject===ge?an[ge]:"#e2e8f0",background:O.subject===ge?`${an[ge]}15`:"white"},children:[m.jsx("span",{className:"subject-emoji",children:Yn[ge]}),m.jsx("span",{children:ge})]},ge))})]}),m.jsxs("div",{className:"edit-form-field",style:{marginBottom:"12px"},children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"text",value:O.schoolName,onChange:ge=>w({...O,schoolName:ge.target.value})})]}),m.jsxs("div",{className:"edit-form-grid-two-cols",children:[m.jsxs("div",{className:"edit-form-field",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"text",value:O.year,onChange:ge=>w({...O,year:ge.target.value})})]}),m.jsxs("div",{className:"edit-form-field",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"text",value:O.round,onChange:ge=>w({...O,round:ge.target.value})})]})]}),m.jsxs("div",{className:"edit-form-section",children:[m.jsx("label",{className:"section-label",children:" :"}),m.jsx("input",{type:"url",className:"file-url-input",placeholder:"GooglePDFURL",value:O.fileUrl,onChange:ge=>w({...O,fileUrl:ge.target.value})}),m.jsx("small",{className:"input-hint",children:"GooglePDFURL"})]}),m.jsxs("div",{className:"edit-form-section",children:[m.jsx("label",{className:"section-label",children:":"}),m.jsx("div",{className:"grade-selector-inline",children:tr.map(ge=>m.jsx("button",{type:"button",className:`grade-btn-small ${O.grade===ge?"active":""}`,onClick:()=>w({...O,grade:ge}),children:ge},ge))})]}),m.jsxs("div",{className:"edit-form-section",children:[m.jsx("label",{className:"section-label",children:":"}),m.jsxs("div",{className:"units-checkbox-grid",children:[tl[O.subject]?.[O.grade]?.map(ge=>m.jsxs("label",{className:"unit-checkbox-label",children:[m.jsx("input",{type:"radio",name:"editUnitId",checked:O.unitId===ge.id,onChange:()=>me(ge.id)}),m.jsx("span",{children:ge.name})]},ge.id)),n.filter(ge=>ge.subject===O.subject&&ge.grade===O.grade).map(ge=>m.jsxs("label",{className:"unit-checkbox-label custom",children:[m.jsx("input",{type:"radio",name:"editUnitId",checked:O.unitId===ge.id,onChange:()=>me(ge.id)}),m.jsxs("span",{children:[" ",ge.name]})]},ge.id))]}),O.unitId&&m.jsxs("div",{className:"selected-units-summary",children:[": ",le(O.unitId)]})]}),m.jsxs("div",{className:"edit-form-actions",children:[m.jsx("button",{className:"btn-secondary",onClick:ee,children:""}),m.jsx("button",{className:"btn-primary",onClick:ce,children:" "})]})]}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"card-header",children:[m.jsx("div",{className:"task-title",children:m.jsxs("span",{className:"task-name",children:[ye.title,ye.unitId&&m.jsx("span",{className:"unit-tag",style:{marginLeft:"8px"},children:le(ye.unitId)})]})}),m.jsxs("div",{className:"card-header-actions",children:[m.jsxs("div",{className:"attempt-count",children:[Ze.length,""]}),ye.fileUrl&&m.jsx("a",{href:ye.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"file-link-btn",title:"",children:""}),m.jsx("button",{className:"edit-pastpaper-btn",onClick:()=>V(ye),title:"",children:""}),m.jsx("button",{className:"delete-pastpaper-btn",onClick:()=>Qe(ye.id,ye.title),title:"",children:""})]})]})}),ae!==ye.id&&de&&m.jsxs("div",{className:"last-session",children:[m.jsx("span",{className:"session-label",children:":"}),m.jsx("span",{className:"session-date",children:new Date(de.studiedAt).toLocaleDateString("ja-JP")}),re(de)!==null&&m.jsxs("span",{className:"session-score",children:[re(de),"%"]})]}),ae!==ye.id&&Ze.length>0&&m.jsxs("button",{className:"toggle-sessions-btn",onClick:()=>Ne(ye.id),children:[N[ye.id]?"":"","  (",Ze.length,")"]}),ae!==ye.id&&N[ye.id]&&Ze.length>0&&m.jsx("div",{className:"sessions-list",children:Ze.map(ge=>m.jsxs("div",{className:"session-item",children:[m.jsxs("span",{className:"session-attempt",children:[ge.attemptNumber,""]}),m.jsx("span",{className:"session-date",children:new Date(ge.studiedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})}),ge.score!==null&&ge.totalScore&&m.jsxs("span",{className:"session-score",children:[ge.score,"/",ge.totalScore," (",re(ge),"%)"]}),ge.timeSpent&&m.jsxs("span",{className:"session-time",children:[ge.timeSpent,""]})]},ge.firestoreId))}),ae!==ye.id&&R===ye.id?m.jsxs("div",{className:"session-form",children:[m.jsx("h4",{children:" "}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"date",value:H.studiedAt,onChange:ge=>J({...H,studiedAt:ge.target.value})})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:":"}),m.jsxs("div",{className:"score-inputs",children:[m.jsx("input",{type:"number",placeholder:"",value:H.score,onChange:ge=>J({...H,score:ge.target.value})}),m.jsx("span",{children:"/"}),m.jsx("input",{type:"number",placeholder:"",value:H.totalScore,onChange:ge=>J({...H,totalScore:ge.target.value})})]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:":"}),m.jsx("input",{type:"number",placeholder:"",value:H.timeSpent,onChange:ge=>J({...H,timeSpent:ge.target.value})})]}),m.jsxs("div",{className:"form-field full",children:[m.jsx("label",{children:":"}),m.jsx("textarea",{placeholder:"...",value:H.notes,onChange:ge=>J({...H,notes:ge.target.value}),rows:"3"})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{className:"btn-secondary",onClick:()=>k(null),children:""}),m.jsx("button",{className:"btn-primary",onClick:()=>Q(ye.id),children:" "})]})]}):ae!==ye.id?m.jsx("button",{className:"add-session-btn",onClick:()=>Se(ye.id),children:"+ "}):null]},ye.id)})})]},G))})]})}async function G2(s,e){try{const n=sr(Dn,"users",s,"testScores"),a={testName:e.testName||"",testDate:e.testDate||new Date().toISOString().split("T")[0],grade:e.grade||"",scores:{kokugo:e.scores?.kokugo||null,sansu:e.scores?.sansu||null,rika:e.scores?.rika||null,shakai:e.scores?.shakai||null},maxScores:{kokugo:e.maxScores?.kokugo||null,sansu:e.maxScores?.sansu||null,rika:e.maxScores?.rika||null,shakai:e.maxScores?.shakai||null},twoSubjects:{score:e.twoSubjects?.score||null,maxScore:e.twoSubjects?.maxScore||null,deviation:e.twoSubjects?.deviation||null,rank:e.twoSubjects?.rank||null,totalStudents:e.twoSubjects?.totalStudents||null},fourSubjects:{score:e.fourSubjects?.score||null,maxScore:e.fourSubjects?.maxScore||null,deviation:e.fourSubjects?.deviation||null,rank:e.fourSubjects?.rank||null,totalStudents:e.fourSubjects?.totalStudents||null},deviations:{kokugo:e.deviations?.kokugo||null,sansu:e.deviations?.sansu||null,rika:e.deviations?.rika||null,shakai:e.deviations?.shakai||null},course:e.course||"",className:e.className||"",notes:e.notes||"",createdAt:new Date().toISOString()};return{success:!0,data:{firestoreId:(await kg(n,a)).id,...a}}}catch(n){return console.error("Error adding test score:",n),{success:!1,error:n.message}}}async function X0(s){try{const e=sr(Dn,"users",s,"testScores"),n=Ph(e,Bh("testDate","desc")),a=await Mg(n),o=[];return a.forEach(c=>{o.push({firestoreId:c.id,...c.data()})}),{success:!0,data:o}}catch(e){return console.error("Error getting test scores:",e),{success:!1,error:e.message,data:[]}}}async function Q2(s,e,n){try{const a=ui(Dn,"users",s,"testScores",e);return await Vg(a,{...n,updatedAt:new Date().toISOString()}),{success:!0}}catch(a){return console.error("Error updating test score:",a),{success:!1,error:a.message}}}async function Y2(s,e){try{const n=ui(Dn,"users",s,"testScores",e);return await ec(n),{success:!0}}catch(n){return console.error("Error deleting test score:",n),{success:!1,error:n.message}}}const K2=["","","","","","","","","","",""];function X2({score:s,onEdit:e,onDelete:n}){const a=(o,c)=>!o||!c||c===0?null:Math.round(o/c*100);return m.jsxs("div",{className:"score-card",children:[m.jsxs("div",{className:"card-header",children:[m.jsxs("div",{className:"test-info",children:[m.jsx("h3",{className:"test-name",children:s.testName}),m.jsx("span",{className:"test-date",children:new Date(s.testDate).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"card-actions",children:[m.jsx("button",{className:"edit-btn",onClick:()=>e(s),title:"",children:""}),m.jsx("button",{className:"delete-btn",onClick:()=>n(s),title:"",children:""})]})]}),m.jsxs("div",{className:"summary-scores",children:[s.fourSubjects?.deviation&&m.jsxs("div",{className:"summary-item four-subjects",children:[m.jsx("span",{className:"summary-label",children:"4"}),m.jsxs("span",{className:"summary-deviation",children:[" ",s.fourSubjects.deviation]}),s.fourSubjects.rank&&s.fourSubjects.totalStudents&&m.jsxs("span",{className:"summary-rank",children:[s.fourSubjects.rank,"/",s.fourSubjects.totalStudents,""]})]}),s.twoSubjects?.deviation&&m.jsxs("div",{className:"summary-item two-subjects",children:[m.jsx("span",{className:"summary-label",children:"2"}),m.jsxs("span",{className:"summary-deviation",children:[" ",s.twoSubjects.deviation]}),s.twoSubjects.rank&&s.twoSubjects.totalStudents&&m.jsxs("span",{className:"summary-rank",children:[s.twoSubjects.rank,"/",s.twoSubjects.totalStudents,""]})]})]}),m.jsx("div",{className:"subject-scores",children:["kokugo","sansu","rika","shakai"].map(o=>{const c={kokugo:"",sansu:"",rika:"",shakai:""},f=s.scores?.[o],y=s.maxScores?.[o],_=s.deviations?.[o];return!f&&!_?null:m.jsxs("div",{className:"subject-item",children:[m.jsx("span",{className:"subject-label",children:c[o]}),f&&y&&m.jsxs("span",{className:"subject-score",children:[f,"/",y,a(f,y)&&m.jsxs("span",{className:"percentage",children:["(",a(f,y),"%)"]})]}),_&&m.jsxs("span",{className:"subject-deviation",children:[" ",_]})]},o)})}),(s.course||s.className||s.notes)&&m.jsxs("div",{className:"additional-info",children:[s.course&&m.jsxs("span",{className:"course",children:[": ",s.course]}),s.className&&m.jsxs("span",{className:"class",children:[": ",s.className]}),s.notes&&m.jsx("p",{className:"notes",children:s.notes})]})]})}function $2({user:s}){const[e,n]=ue.useState([]),[a,o]=ue.useState("4"),[c,f]=ue.useState(!1),[y,_]=ue.useState(null),[g,E]=ue.useState(b());function b(){return{testName:"",testDate:new Date().toISOString().split("T")[0],grade:"4",scores:{kokugo:"",sansu:"",rika:"",shakai:""},maxScores:{kokugo:"",sansu:"",rika:"",shakai:""},twoSubjects:{score:"",maxScore:"",deviation:"",rank:"",totalStudents:""},fourSubjects:{score:"",maxScore:"",deviation:"",rank:"",totalStudents:""},deviations:{kokugo:"",sansu:"",rika:"",shakai:""},course:"",className:"",notes:""}}ue.useEffect(()=>{if(!s)return;(async()=>{const ie=await X0(s.uid);ie.success&&n(ie.data)})()},[s]);const R=e.filter(z=>z.grade===a),k=()=>{_(null),E(b()),f(!0)},H=z=>{_(z),E({testName:z.testName||"",testDate:z.testDate||"",grade:z.grade||"4",scores:z.scores||{kokugo:"",sansu:"",rika:"",shakai:""},maxScores:z.maxScores||{kokugo:"",sansu:"",rika:"",shakai:""},twoSubjects:z.twoSubjects||{score:"",maxScore:"",deviation:"",rank:"",totalStudents:""},fourSubjects:z.fourSubjects||{score:"",maxScore:"",deviation:"",rank:"",totalStudents:""},deviations:z.deviations||{kokugo:"",sansu:"",rika:"",shakai:""},course:z.course||"",className:z.className||"",notes:z.notes||""}),f(!0)},J=async()=>{if(!s){alert(" ");return}if(!g.testName||!g.testDate){alert(" ");return}const z=y?await Q2(s.uid,y.firestoreId,g):await G2(s.uid,g);if(z.success){const ie=await X0(s.uid);ie.success&&n(ie.data),f(!1),alert(y?" ":" ")}else alert(" : "+z.error)},X=async z=>{if(!window.confirm(`${z.testName} (${z.testDate})`))return;const ie=await Y2(s.uid,z.firestoreId);ie.success?(n(e.filter($=>$.firestoreId!==z.firestoreId)),alert(" ")):alert(" : "+ie.error)};return m.jsxs("div",{className:"testscore-view",children:[m.jsxs("div",{className:"view-header",children:[m.jsx("h2",{children:" "}),m.jsx("p",{className:"view-description",children:"SAPIX"})]}),m.jsxs("div",{className:"view-filters",children:[m.jsxs("div",{className:"filter-group",children:[m.jsx("label",{children:":"}),m.jsx("div",{className:"grade-buttons",children:tr.map(z=>m.jsx("button",{className:`grade-btn ${a===z?"active":""}`,onClick:()=>o(z),children:z},z))})]}),m.jsx("button",{className:"add-score-btn",onClick:k,children:"+ "})]}),m.jsx("div",{className:"scores-content",children:R.length===0?m.jsxs("div",{className:"no-data",children:[" ",m.jsx("br",{}),m.jsx("small",{children:"+ "})]}):m.jsx("div",{className:"scores-list",children:R.map(z=>m.jsx(X2,{score:z,onEdit:H,onDelete:X},z.firestoreId))})}),c&&m.jsx("div",{className:"form-overlay",onClick:()=>f(!1),children:m.jsxs("div",{className:"form-container",onClick:z=>z.stopPropagation(),children:[m.jsx("h3",{children:y?" ":" "}),m.jsxs("div",{className:"form-section",children:[m.jsx("h4",{children:""}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:" *"}),m.jsxs("select",{value:g.testName,onChange:z=>E({...g,testName:z.target.value}),children:[m.jsx("option",{value:"",children:""}),K2.map(z=>m.jsx("option",{value:z,children:z},z))]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:" *"}),m.jsx("input",{type:"date",value:g.testDate,onChange:z=>E({...g,testDate:z.target.value})})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsx("select",{value:g.grade,onChange:z=>E({...g,grade:z.target.value}),children:tr.map(z=>m.jsx("option",{value:z,children:z},z))})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h4",{children:""}),[{key:"kokugo",label:""},{key:"sansu",label:""},{key:"rika",label:""},{key:"shakai",label:""}].map(({key:z,label:ie})=>m.jsxs("div",{className:"form-row subject-row",children:[m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:ie}),m.jsxs("div",{className:"score-input-group",children:[m.jsx("input",{type:"number",placeholder:"",value:g.scores[z],onChange:$=>E({...g,scores:{...g.scores,[z]:$.target.value}})}),m.jsx("span",{children:"/"}),m.jsx("input",{type:"number",placeholder:"",value:g.maxScores[z],onChange:$=>E({...g,maxScores:{...g.maxScores,[z]:$.target.value}})})]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsx("input",{type:"number",step:"0.1",placeholder:"",value:g.deviations[z],onChange:$=>E({...g,deviations:{...g.deviations,[z]:$.target.value}})})]})]},z))]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h4",{children:"2+"}),m.jsxs("div",{className:"form-row summary-row",children:[m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsxs("div",{className:"score-input-group",children:[m.jsx("input",{type:"number",placeholder:"",value:g.twoSubjects.score,onChange:z=>E({...g,twoSubjects:{...g.twoSubjects,score:z.target.value}})}),m.jsx("span",{children:"/"}),m.jsx("input",{type:"number",placeholder:"",value:g.twoSubjects.maxScore,onChange:z=>E({...g,twoSubjects:{...g.twoSubjects,maxScore:z.target.value}})})]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsx("input",{type:"number",step:"0.1",placeholder:"",value:g.twoSubjects.deviation,onChange:z=>E({...g,twoSubjects:{...g.twoSubjects,deviation:z.target.value}})})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsxs("div",{className:"score-input-group",children:[m.jsx("input",{type:"number",placeholder:"",value:g.twoSubjects.rank,onChange:z=>E({...g,twoSubjects:{...g.twoSubjects,rank:z.target.value}})}),m.jsx("span",{children:"/"}),m.jsx("input",{type:"number",placeholder:"",value:g.twoSubjects.totalStudents,onChange:z=>E({...g,twoSubjects:{...g.twoSubjects,totalStudents:z.target.value}})})]})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h4",{children:"4"}),m.jsxs("div",{className:"form-row summary-row",children:[m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsxs("div",{className:"score-input-group",children:[m.jsx("input",{type:"number",placeholder:"",value:g.fourSubjects.score,onChange:z=>E({...g,fourSubjects:{...g.fourSubjects,score:z.target.value}})}),m.jsx("span",{children:"/"}),m.jsx("input",{type:"number",placeholder:"",value:g.fourSubjects.maxScore,onChange:z=>E({...g,fourSubjects:{...g.fourSubjects,maxScore:z.target.value}})})]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsx("input",{type:"number",step:"0.1",placeholder:"",value:g.fourSubjects.deviation,onChange:z=>E({...g,fourSubjects:{...g.fourSubjects,deviation:z.target.value}})})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsxs("div",{className:"score-input-group",children:[m.jsx("input",{type:"number",placeholder:"",value:g.fourSubjects.rank,onChange:z=>E({...g,fourSubjects:{...g.fourSubjects,rank:z.target.value}})}),m.jsx("span",{children:"/"}),m.jsx("input",{type:"number",placeholder:"",value:g.fourSubjects.totalStudents,onChange:z=>E({...g,fourSubjects:{...g.fourSubjects,totalStudents:z.target.value}})})]})]})]})]}),m.jsxs("div",{className:"form-section",children:[m.jsx("h4",{children:""}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsx("input",{type:"text",placeholder:": 1",value:g.course,onChange:z=>E({...g,course:z.target.value})})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{children:""}),m.jsx("input",{type:"text",placeholder:": A",value:g.className,onChange:z=>E({...g,className:z.target.value})})]})]}),m.jsxs("div",{className:"form-field full",children:[m.jsx("label",{children:""}),m.jsx("textarea",{rows:"3",placeholder:"...",value:g.notes,onChange:z=>E({...g,notes:z.target.value})})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{className:"btn-secondary",onClick:()=>f(!1),children:""}),m.jsx("button",{className:"btn-primary",onClick:J,children:y?" ":" "})]})]})})]})}const J2=()=>{const s=[];let e=Date.now();const n=(a,o)=>`2026-${String(a).padStart(2,"0")}-${String(o).padStart(2,"0")}`;return s.push({id:e++,title:"2 ",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,6),completed:!1},{id:e++,title:"2 100",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"basic",priority:"A",dueDate:n(1,7),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,8),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_02",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(1,20),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_02",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:e++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(2,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_05",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1}),s.push({id:e++,title:"",subject:"",grade:"3",unitId:"math3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"soc3_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_01",unit:"3",taskType:"test",priority:"A",dueDate:n(3,11),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"lang3_03",unit:"",taskType:"daily",priority:"B",dueDate:n(3,18),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"sci3_08",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:e++,title:"",subject:"",grade:"3",unitId:"math3_12",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:e++,title:"3",subject:"",grade:"3",unitId:"math3_01",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},$0=()=>{const s=[];let e=Date.now();const n=(a,o)=>`2026-${String(a).padStart(2,"0")}-${String(o).padStart(2,"0")}`;return s.push({id:e++,title:"3 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"B",dueDate:n(1,6),completed:!1},{id:e++,title:"3 200",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"B",dueDate:n(1,7),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"math4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(1,8),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(1,9),completed:!1},{id:e++,title:"4 ",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(1,13),completed:!1},{id:e++,title:" 4",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"daily",priority:"A",dueDate:n(1,14),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"soc4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,15),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"sci4_01",unit:"",taskType:"daily",priority:"B",dueDate:n(1,16),completed:!1},{id:e++,title:" 1",subject:"",grade:"4",unitId:"math4_14",unit:"",taskType:"basic",priority:"A",dueDate:n(1,20),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"lang4_03",unit:"",taskType:"daily",priority:"B",dueDate:n(1,22),completed:!1}),s.push({id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"lang4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" No.1 ",subject:"",grade:"4",unitId:"soc4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,3),completed:!1},{id:e++,title:" 2/4",subject:"",grade:"4",unitId:"math4_01",unit:"",taskType:"basic",priority:"A",dueDate:n(2,4),completed:!1},{id:e++,title:"4 No.1",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"basic",priority:"A",dueDate:n(2,5),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"math4_02",unit:"",taskType:"daily",priority:"A",dueDate:n(2,6),completed:!1},{id:e++,title:" ",subject:"",grade:"4",unitId:"sci4_02",unit:"",taskType:"daily",priority:"B",dueDate:n(2,7),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"math4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"lang4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"sci4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" No.2 ",subject:"",grade:"4",unitId:"soc4_03",unit:"",taskType:"daily",priority:"A",dueDate:n(2,10),completed:!1},{id:e++,title:" 2/11",subject:"",grade:"4",unitId:"math4_15",unit:"",taskType:"basic",priority:"A",dueDate:n(2,11),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(2,12),completed:!1},{id:e++,title:" No.3 ",subject:"",grade:"4",unitId:"math4_04",unit:"",taskType:"daily",priority:"A",dueDate:n(2,17),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(2,18),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,19),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(2,20),completed:!1},{id:e++,title:" No.4 ",subject:"",grade:"4",unitId:"math4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(2,24),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(2,25),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_04",unit:"",taskType:"daily",priority:"B",dueDate:n(2,26),completed:!1}),s.push({id:e++,title:" No.5 ",subject:"",grade:"4",unitId:"math4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,3),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_07",unit:"",taskType:"daily",priority:"B",dueDate:n(3,4),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_05",unit:"",taskType:"daily",priority:"A",dueDate:n(3,5),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_05",unit:"",taskType:"daily",priority:"B",dueDate:n(3,6),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_09",unit:"",taskType:"daily",priority:"A",dueDate:n(3,10),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,11),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_06",unit:"",taskType:"daily",priority:"A",dueDate:n(3,12),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_08",unit:"",taskType:"daily",priority:"B",dueDate:n(3,13),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,17),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,18),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_07",unit:"",taskType:"daily",priority:"A",dueDate:n(3,19),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_06",unit:"",taskType:"daily",priority:"B",dueDate:n(3,20),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"math4_11",unit:"",taskType:"daily",priority:"A",dueDate:n(3,24),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"lang4_01",unit:"4",taskType:"test",priority:"A",dueDate:n(3,25),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"sci4_10",unit:"",taskType:"daily",priority:"A",dueDate:n(3,26),completed:!1},{id:e++,title:"",subject:"",grade:"4",unitId:"soc4_09",unit:"",taskType:"daily",priority:"B",dueDate:n(3,27),completed:!1},{id:e++,title:"3",subject:"",grade:"4",unitId:"math4_13",unit:"",taskType:"test",priority:"A",dueDate:n(3,31),completed:!1}),s.map(a=>({...a,createdAt:new Date().toISOString()}))},Z2=(s="4")=>{switch(s){case"3":return J2();case"4":return $0();default:return $0()}},tc=s=>sr(Dn,"users",s,"tasks"),wS=s=>ui(Dn,"users",s),km=async(s,e)=>{try{const n=ui(tc(s),e.id.toString());return await _S(n,e),{success:!0}}catch(n){return console.error("Error adding task:",n),{success:!1,error:n}}},J0=async(s,e,n)=>{try{const a=ui(tc(s),e.toString());return await Vg(a,n),{success:!0}}catch(a){return console.error("Error updating task:",a),{success:!1,error:a}}},W2=async(s,e)=>{try{const n=ui(tc(s),e.toString());return await ec(n),{success:!0}}catch(n){return console.error("Error deleting task:",n),{success:!1,error:n}}},Z0=async(s,e)=>{try{const n=e.map(a=>ec(ui(tc(s),a.toString())));return await Promise.all(n),{success:!0}}catch(n){return console.error("Error bulk deleting tasks:",n),{success:!1,error:n}}},ex=(s,e)=>{const n=Ph(tc(s),Bh("createdAt","desc"));return f2(n,a=>{const o=[];a.forEach(c=>{o.push({...c.data(),id:c.id})}),e(o)},a=>{console.error("Error fetching tasks:",a),e([])})},NS=async(s,e)=>{try{const n=wS(s);return await _S(n,{targetSchools:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error saving target schools:",n),{success:!1,error:n}}},tx=async s=>{try{const e=wS(s),n=await d2(e);return n.exists()?{success:!0,data:n.data().targetSchools||[]}:{success:!0,data:[]}}catch(e){return console.error("Error getting target schools:",e),{success:!1,error:e,data:[]}}},nx=async s=>{try{const e=localStorage.getItem("sapixTasks");if(e){const o=JSON.parse(e).map(c=>km(s,c));await Promise.all(o)}const n=localStorage.getItem("targetSchools");if(n){const a=JSON.parse(n);await NS(s,a)}return{success:!0}}catch(e){return console.error("Error migrating data:",e),{success:!1,error:e}}};async function IS(s,e){try{const n=sr(Dn,"users",s,"customUnits"),a={...e,createdAt:new Date().toISOString()};return{success:!0,data:{id:(await kg(n,a)).id,...a}}}catch(n){return console.error("Error adding custom unit:",n),{success:!1,error:n.message}}}async function CS(s){try{const e=sr(Dn,"users",s,"customUnits"),n=Ph(e,Bh("createdAt","desc")),a=await Mg(n),o=[];return a.forEach(c=>{o.push({firestoreId:c.id,...c.data()})}),{success:!0,data:o}}catch(e){return console.error("Error getting custom units:",e),{success:!1,error:e.message,data:[]}}}async function RS(s,e,n){try{const a=ui(Dn,"users",s,"customUnits",e);return await Vg(a,{...n,updatedAt:new Date().toISOString()}),{success:!0}}catch(a){return console.error("Error updating custom unit:",a),{success:!1,error:a.message}}}async function xS(s,e){try{const n=ui(Dn,"users",s,"customUnits",e);return await ec(n),{success:!0}}catch(n){return console.error("Error deleting custom unit:",n),{success:!1,error:n.message}}}function ix(s,e,n){const a=Date.now(),o={:"math",:"lang",:"sci",:"soc"}[s]||"custom",c=e.replace("","");return`custom_${o}${c}_${a}`}const sx=Object.freeze(Object.defineProperty({__proto__:null,addCustomUnit:IS,deleteCustomUnit:xS,generateCustomUnitId:ix,getCustomUnits:CS,updateCustomUnit:RS},Symbol.toStringTag,{value:"Module"}));function ax(){const[s,e]=ue.useState(null),[n,a]=ue.useState([]),[o,c]=ue.useState("calendar"),[f,y]=ue.useState("calendar"),[_,g]=ue.useState(null),[E,b]=ue.useState([]),[R,k]=ue.useState([]),H=ue.useRef(null),[J,X]=ue.useState(!1);ue.useEffect(()=>{if(!s){const le=localStorage.getItem("sapixTasks");le&&a(JSON.parse(le));const Se=localStorage.getItem("targetSchools");Se&&b(JSON.parse(Se));return}J||(localStorage.getItem("sapixTasks")||localStorage.getItem("targetSchools")?nx(s.uid).then(()=>{X(!0)}):X(!0)),tx(s.uid).then(le=>{le.success&&le.data.length>0&&b(le.data)}),CS(s.uid).then(le=>{le.success&&k(le.data)});const I=ex(s.uid,le=>{a(le)});return()=>I()},[s,J]),ue.useEffect(()=>{s?NS(s.uid,E):localStorage.setItem("targetSchools",JSON.stringify(E))},[E,s]);const z=async I=>{const le={id:Date.now(),...I,completed:!1,createdAt:new Date().toISOString()};if(s)await km(s.uid,le);else{const Se=[...n,le];a(Se),localStorage.setItem("sapixTasks",JSON.stringify(Se))}g(null)},ie=async(I,le)=>{if(s)await J0(s.uid,I,le);else{const Se=n.map(Q=>Q.id===I?{...Q,...le}:Q);a(Se),localStorage.setItem("sapixTasks",JSON.stringify(Se))}g(null),c(f)},$=async I=>{const le=n.find(Se=>Se.id===I);if(le)if(s)await J0(s.uid,I,{completed:!le.completed});else{const Se=n.map(Q=>Q.id===I?{...Q,completed:!Q.completed}:Q);a(Se),localStorage.setItem("sapixTasks",JSON.stringify(Se))}},ae=async I=>{if(s)await W2(s.uid,I);else{const le=n.filter(Se=>Se.id!==I);a(le),localStorage.setItem("sapixTasks",JSON.stringify(le))}},pe=async I=>{if(s)await Z0(s.uid,I);else{const le=n.filter(Se=>!I.includes(Se.id));a(le),localStorage.setItem("sapixTasks",JSON.stringify(le))}},O=I=>{y(o),c("edit"),g(I)},w=()=>{g(null),c(f)},N=async()=>{const I=window.prompt(`

3 = 13
4 = 13

`,"4");if(!I)return;let le="4";if(I==="3")le="3";else if(I==="4")le="4";else{lt.error("34");return}const Se=Z2(le);if(s){const Q=n.map(ve=>ve.id);Q.length>0&&await Z0(s.uid,Q);const re=Se.map(ve=>km(s.uid,ve));await Promise.all(re)}else a(Se),localStorage.setItem("sapixTasks",JSON.stringify(Se));lt.success(`${le}${Se.length}`)},C=async I=>{if(!s)return lt.error(""),{success:!1};const le=await IS(s.uid,I);if(le.success){const Se=[le.data,...R];return k(Se),{success:!0,data:le.data}}else return lt.error(": "+le.error),{success:!1,error:le.error}},D=async(I,le)=>{if(!s)return lt.error(""),{success:!1};const Se=await RS(s.uid,I,le);if(Se.success){const Q=R.map(re=>re.firestoreId===I?{...re,...le}:re);return k(Q),{success:!0}}else return lt.error(": "+Se.error),{success:!1,error:Se.error}},x=async I=>{if(!s)return lt.error(""),{success:!1};const le=await xS(s.uid,I);if(le.success){const Se=R.filter(Q=>Q.firestoreId!==I);return k(Se),{success:!0}}else return lt.error(": "+le.error),{success:!1,error:le.error}},U=I=>{e(I)};return s?m.jsxs("div",{className:"app sapix-theme",children:[m.jsx("header",{className:"app-header",children:m.jsxs("div",{className:"header-content",children:[m.jsx("h1",{children:" SAPIX  "}),m.jsx(F0,{onAuthChange:U})]})}),m.jsxs("div",{className:"container",children:[o==="edit"?m.jsxs("div",{className:"edit-view",children:[m.jsxs("div",{className:"edit-header",children:[m.jsx("h2",{children:" "}),m.jsx("button",{onClick:w,className:"back-btn",children:" "})]}),m.jsx(Y0,{onAddTask:z,onUpdateTask:ie,editingTask:_,onCancelEdit:w,customUnits:R,onAddCustomUnit:C})]}):m.jsxs(m.Fragment,{children:[m.jsx(p2,{tasks:n,onToggleTask:$,onDeleteTask:ae,onEditTask:O}),n.length===0&&m.jsxs("div",{className:"sample-schedule-prompt",children:[m.jsx("p",{children:" "}),m.jsx("button",{onClick:N,className:"load-sample-btn",children:" SAPIX3 / 4"})]}),m.jsxs("div",{className:"view-switcher",children:[m.jsx("button",{className:o==="subject"?"active":"",onClick:()=>c("subject"),children:" "}),m.jsx("button",{className:o==="analytics"?"active":"",onClick:()=>c("analytics"),children:" "}),m.jsx("button",{className:o==="calendar"?"active":"",onClick:()=>c("calendar"),children:" "}),m.jsx("button",{className:o==="tasks"?"active":"",onClick:()=>c("tasks"),children:" "}),m.jsx("button",{className:o==="unitManager"?"active":"",onClick:()=>c("unitManager"),children:" "}),m.jsx("button",{className:o==="pastpaper"?"active":"",onClick:()=>c("pastpaper"),children:" "}),m.jsx("button",{className:o==="testscore"?"active":"",onClick:()=>c("testscore"),children:" "})]}),o==="subject"?m.jsx(R2,{tasks:n,onEditTask:O,customUnits:R}):o==="analytics"?m.jsx(L2,{tasks:n}):o==="calendar"?m.jsx(b2,{tasks:n,onToggleTask:$,onDeleteTask:ae,onEditTask:O}):o==="tasks"?m.jsx(S2,{tasks:n,onToggleTask:$,onDeleteTask:ae,onBulkDeleteTasks:pe,onEditTask:O}):o==="unitManager"?m.jsx(P2,{customUnits:R,onAddCustomUnit:C,onUpdateUnit:D,onDeleteUnit:x}):o==="pastpaper"?m.jsx(F2,{tasks:n,user:s,customUnits:R,onAddTask:z,onUpdateTask:ie,onDeleteTask:ae}):o==="testscore"?m.jsx($2,{user:s}):null]}),o!=="edit"&&o!=="unitManager"&&o!=="pastpaper"&&o!=="testscore"&&m.jsx("div",{ref:H,children:m.jsx(Y0,{onAddTask:z,onUpdateTask:ie,editingTask:_,onCancelEdit:w,customUnits:R,onAddCustomUnit:C})})]})]}):m.jsx(F0,{onAuthChange:U})}pA.createRoot(document.getElementById("root")).render(m.jsx(ue.StrictMode,{children:m.jsx(ax,{})}));
